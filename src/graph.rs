pub mod apigraph;
mod codetype;

use self::apigraph::{GraphJson, Port, Process};
use crate::types::{SuanpanError, SuanpanResult};
use codetype::CodeType;
use log::debug;
use std::collections::HashMap;
use std::fmt;

pub enum RouteType {
    Redirect,
    WebOutput,
    Dashboard,
    DashboardPage,
    Rpa,
    InternalIn,
    SingleNodeService,
    Normal,
}

impl From<&Process> for RouteType {
    fn from(p: &Process) -> Self {
        if p.is_single_node() {
            return RouteType::SingleNodeService;
        }

        match p.get_process_codetype() {
            CodeType::CompositeApp => RouteType::InternalIn, //TODO: add business logic, setnodestatus , current is ignore
            CodeType::WebOutput => RouteType::WebOutput,     //TODO: setnodestatus
            CodeType::Dashboard => RouteType::Dashboard,     //TODO: business logic nodestatus
            CodeType::DashboardPage => RouteType::DashboardPage,
            _ => RouteType::Normal,
        }
    }
}
pub struct Node {
    pub node_id: String,
    pub route_type: RouteType,
    pub dashboard_id: String,
    pub composite_appid: String,
    pub port_map: HashMap<String, Port>,
    pub is_single_node: bool,
}

pub struct Graph {
    pub g: GraphJson,
    pub nodes: HashMap<String, Node>,
    pub node_out_cache: HashMap<String, HashMap<String, Vec<(String, String)>>>, //nodeid ->  <outport -> [(destndoe,inport)]>
    pub node_in_cache: HashMap<String, HashMap<String, Vec<(String, String)>>>, //nodeid ->  <inport -> [(srcnode,outport)]>
    pub system_ports: Vec<(String, String)>,
}

impl fmt::Debug for Graph {
    fn fmt(&self, f: &mut fmt::Formatter<'_>) -> fmt::Result {
        writeln!(f, "Graph {{")?;
        // Print only keys of the nodes
        writeln!(f, "  nodes: {:?}", self.nodes.keys().collect::<Vec<_>>())?;

        writeln!(f, "  node_out_cache: {:?}", self.node_out_cache)?;
        writeln!(f, "  node_in_cache: {:?}", self.node_in_cache)?;
        writeln!(f, "  system_ports: {:?}", self.system_ports)?;
        writeln!(f, "}}")
    }
}

impl Graph {
    pub fn new(g: GraphJson) -> SuanpanResult<Self> {
        let mut node_out_port_map: HashMap<String, HashMap<String, Vec<(String, String)>>> =
            HashMap::new();
        let mut system_ports: Vec<(String, String)> = Vec::new();
        let mut node_in_port_map: HashMap<String, HashMap<String, Vec<(String, String)>>> =
            HashMap::new(); // Initializing nodeInPortMap
        let mut nodes: HashMap<String, Node> = HashMap::new();

        for (node_id, process) in g.data.processes.iter() {
            let mut port_map: HashMap<String, Port> = HashMap::new();
            node_out_port_map.insert(node_id.clone(), HashMap::new());
            node_in_port_map.insert(node_id.clone(), HashMap::new());

            for port in &process.metadata.def.ports {
                port_map.insert(port.uuid.clone(), port.clone());
                if port.port_type == "system" {
                    system_ports.push((node_id.clone(), port.uuid.clone()));
                }
            }

            let route_type = process.into();
            let mut dashboard_id = process.get_dashboard_id();

            //TODO: if route type = dashboard compositeappid or other situtation check business logic
            //TODO: missing logic
            match route_type {
                RouteType::Dashboard => {
                    if process.get_dashboard_id() == "" {
                        return Err(SuanpanError::from(
                            "graph error, dashboard node service must have dashboard id",
                        ));
                    }
                }
                RouteType::InternalIn => {
                    if process.get_composite_id() == "" {
                        return Err(SuanpanError::from(
                            "graph error, compositeApp node service must have composite id",
                        ));
                    }
                }
                RouteType::DashboardPage => {
                    dashboard_id = node_id.clone();
                }
                _ => (),
            }

            nodes.insert(
                node_id.clone(),
                Node {
                    node_id: node_id.clone(),
                    port_map: port_map,
                    is_single_node: process.is_single_node(),
                    dashboard_id: dashboard_id,
                    composite_appid: process.get_composite_id(),
                    route_type: route_type,
                },
            );
        }

        for connection in &g.data.connections {
            let from_node = &connection.src.process;
            let from_port = &connection.src.port;
            let to_node = &connection.tgt.process;
            let to_port = &connection.tgt.port;

            if !node_out_port_map.contains_key(from_node) {
                return Err(SuanpanError::from((
                    "",
                    format!("graph error, nodeId(fromnode): {}", from_node),
                )));
            }

            if !node_in_port_map.contains_key(to_node) {
                return Err(SuanpanError::from((
                    "",
                    format!("graph error, nodeId(tonode): {}", to_node),
                )));
            }

            node_out_port_map
                .get_mut(from_node)
                .unwrap()
                .entry(from_port.clone())
                .or_insert_with(Vec::new)
                .push((to_node.clone(), to_port.clone()));

            node_in_port_map
                .get_mut(to_node)
                .unwrap()
                .entry(to_port.clone())
                .or_insert_with(Vec::new)
                .push((from_node.clone(), from_port.clone()));
        }

        let g = Graph {
            g: g,
            nodes: nodes,
            system_ports: system_ports,
            node_out_cache: node_out_port_map,
            node_in_cache: node_in_port_map,
        };
        debug!("graph init complete, {:?}", g);
        Ok(g)
    }

    pub fn get_target_nodid_ports(
        &self,
        cur_nodeid: &str,
        cur_out_port: &str,
    ) -> Option<&Vec<(String, String)>> {
        self.node_out_cache
            .get(cur_nodeid)
            .and_then(|item| item.get(cur_out_port))
    }

    pub fn get_source_nodeid_ports(
        &self,
        cur_nodeid: &str,
        cur_in_port: &str,
    ) -> Option<&Vec<(String, String)>> {
        self.node_in_cache
            .get(cur_nodeid)
            .and_then(|item| item.get(cur_in_port))
    }

    pub fn get_node_with_port(&self, node_id: &str, port_id: &str) -> Option<&Port> {
        self.nodes
            .get(node_id)
            .and_then(|item| item.port_map.get(port_id))
    }
}

#[cfg(test)]
mod tests {
    use super::*;

    const API_JSON_GRAPH_RAW: &str = r#"
    {"success":true,"data":{"caseSensitive":false,"properties":{"predictConfig":{"isolationMode":"v2"},"globalVars":[{"id":"d6f5ae10388e11ed8c926b8254b406ef"},{"id":"d6f5ae11388e11ed8c926b8254b406ef"},{"id":"d6f5ae12388e11ed8c926b8254b406ef"}],"dashboardConfig":{"gjs-html":"<script>\n\n      \n  if (window.spSocket) {\n    function nav(url, isNewWindow) {\n      if (isNewWindow) {\n        window.open(url, '_blank');\n      } else {\n        window.location.href = url;\n      }\n    }\n\n    window.spSocket.subscribe({ eventName: 'dashboard', callback: function(data) {\n      if (!data) return;\n\n      switch(data.type) {\n        \n      case 'dashboard.dom.updateAttr':\n        var $comp = $(data.selector);\n\n        if ($comp) {\n          if (data.attrs && data.attrs instanceof Array) {\n            data.attrs.forEach(function(attr) {\n              Object.keys(attr).forEach(function(key) {\n                $comp.attr(key, attr[key]);\n              });\n            });\n          }\n        }\n        break;\n\n    ;\n        \n    case 'dashboard.window.eval':\n      var handleEvalResult = function(event) {\n        if (event.data && event.data.type && event.data.type === \"dashboard.window.eval\") {\n          if (event.data.err) {\n            window.spSocket.send({ eventName: \"dashboard\", data: { type: \"dashboard.window.evalResponse\", err: event.data.err } });\n            return;\n          }\n          window.spSocket.send({ eventName: \"dashboard\", data: { type: \"dashboard.window.evalResponse\", data: event.data.data } });\n        }\n      }\n  \n      var propertiesToCover = [\"location\"];\n      var createSandboxContext = function(srcObj, propertiesToCover) {\n        var context = {};\n        Object.keys(srcObj).forEach(function (key) {\n          if (srcObj.hasOwnProperty(key) && propertiesToCover.indexOf(key) > -1) {\n            context[key] = srcObj[key];\n          }\n        });\n        return context;\n      }\n\n      var createIframe = function() {\n        var $iframe = document.getElementById(\"dashboard-sandbox\");\n        if (!$iframe) {\n          $iframe = document.createElement(\"iframe\");\n          $iframe.setAttribute(\"id\", \"dashboard-sandbox\");\n          $iframe.setAttribute(\"sandbox\", \"allow-same-origin allow-scripts\");\n          $iframe.style.display = \"none\";\n        }\n        $iframe.innerHTML = \"\";\n\n        return $iframe;\n      };\n\n      var initializeSandbox = function(code) {\n        // var $iframe = createIframe();\n        var $script = document.getElementById('sandbox');\n\n        if (!$script) {\n          $script = document.createElement(\"script\");\n          $script.setAttribute('id', 'sandbox');\n        }\n\n        $script.innerText = '(function() { return eval(' + code + ') })()';\n\n        document.body.appendChild($script);\n\n        // $iframe.contentWindow.addEventListener(\"message\", handleEvalResult, false);\n        // $iframe.contentWindow.sandboxContext = createSandboxContext(window, propertiesToCover);\n        // $iframe.contentDocument.body.appendChild($script);\n      }\n\n      initializeSandbox(data.code);\n      break;\n\n  ;\n        \n    case 'dashboard.component.show':\n      var $comp = $('#' + data.componentId);\n      if ($comp) {\n          $comp.show();\n      }\n      break;\n\n  ;\n        \n    case 'dashboard.component.hide':\n      var $comp = $('#' + data.componentId);\n      if ($comp) {\n          $comp.hide();\n      }\n      break;\n\n  ;\n        \n    case 'dashboard.component.loading.start':\n      var $comp = $(data.selector);\n      if ($comp && !$comp.children('.loader').length) {\n          $comp.prepend('<div class=\"loader\"><span class=\"dot\"></span><span class=\"dot\"></span><span class=\"dot\"></span><span class=\"dot\"></span><span class=\"dot\"></span></div>');\n      }\n      break;\n\n    case 'dashboard.component.loading.end':\n      var $comp = $(data.selector);\n      if ($comp && $comp.children('.loader').length) {\n          $comp.children('.loader').remove();\n      }\n      break;\n\n  ;\n      }\n    }});\n\n    window.addEventListener('load', function() {\n      if (window.ee) {\n        window.ee.emit('resize-onload');\n      }\n    });\n  }\n\n    \n</script><script>\n\n      \n  if (window.spSocket) {\n    function nav(url, isNewWindow) {\n      if (isNewWindow) {\n        window.open(url, '_blank');\n      } else {\n        window.location.href = url;\n      }\n    }\n\n    window.spSocket.subscribe({ eventName: 'dashboard', callback: function(data) {\n      if (!data) return;\n\n      switch(data.type) {\n        \n      case 'dashboard.dom.updateAttr':\n        var $comp = $(data.selector);\n\n        if ($comp) {\n          if (data.attrs && data.attrs instanceof Array) {\n            data.attrs.forEach(function(attr) {\n              Object.keys(attr).forEach(function(key) {\n                $comp.attr(key, attr[key]);\n              });\n            });\n          }\n        }\n        break;\n\n    ;\n        \n    case 'dashboard.window.eval':\n      var handleEvalResult = function(event) {\n        if (event.data && event.data.type && event.data.type === \"dashboard.window.eval\") {\n          if (event.data.err) {\n            window.spSocket.send({ eventName: \"dashboard\", data: { type: \"dashboard.window.evalResponse\", err: event.data.err } });\n            return;\n          }\n          window.spSocket.send({ eventName: \"dashboard\", data: { type: \"dashboard.window.evalResponse\", data: event.data.data } });\n        }\n      }\n  \n      var propertiesToCover = [\"location\"];\n      var createSandboxContext = function(srcObj, propertiesToCover) {\n        var context = {};\n        Object.keys(srcObj).forEach(function (key) {\n          if (srcObj.hasOwnProperty(key) && propertiesToCover.indexOf(key) > -1) {\n            context[key] = srcObj[key];\n          }\n        });\n        return context;\n      }\n\n      var createIframe = function() {\n        var $iframe = document.getElementById(\"dashboard-sandbox\");\n        if (!$iframe) {\n          $iframe = document.createElement(\"iframe\");\n          $iframe.setAttribute(\"id\", \"dashboard-sandbox\");\n          $iframe.setAttribute(\"sandbox\", \"allow-same-origin allow-scripts\");\n          $iframe.style.display = \"none\";\n        }\n        $iframe.innerHTML = \"\";\n\n        return $iframe;\n      };\n\n      var initializeSandbox = function(code) {\n        // var $iframe = createIframe();\n        var $script = document.getElementById('sandbox');\n\n        if (!$script) {\n          $script = document.createElement(\"script\");\n          $script.setAttribute('id', 'sandbox');\n        }\n\n        $script.innerText = '(function() { return eval(' + code + ') })()';\n\n        document.body.appendChild($script);\n\n        // $iframe.contentWindow.addEventListener(\"message\", handleEvalResult, false);\n        // $iframe.contentWindow.sandboxContext = createSandboxContext(window, propertiesToCover);\n        // $iframe.contentDocument.body.appendChild($script);\n      }\n\n      initializeSandbox(data.code);\n      break;\n\n  ;\n        \n    case 'dashboard.component.show':\n      var $comp = $('#' + data.componentId);\n      if ($comp) {\n          $comp.show();\n      }\n      break;\n\n  ;\n        \n    case 'dashboard.component.hide':\n      var $comp = $('#' + data.componentId);\n      if ($comp) {\n          $comp.hide();\n      }\n      break;\n\n  ;\n        \n    case 'dashboard.component.loading.start':\n      var $comp = $(data.selector);\n      if ($comp && !$comp.children('.loader').length) {\n          $comp.prepend('<div class=\"loader\"><span class=\"dot\"></span><span class=\"dot\"></span><span class=\"dot\"></span><span class=\"dot\"></span><span class=\"dot\"></span></div>');\n      }\n      break;\n\n    case 'dashboard.component.loading.end':\n      var $comp = $(data.selector);\n      if ($comp && $comp.children('.loader').length) {\n          $comp.children('.loader').remove();\n      }\n      break;\n\n  ;\n      }\n    }});\n\n    window.addEventListener('load', function() {\n      if (window.ee) {\n        window.ee.emit('resize-onload');\n      }\n    });\n  }\n\n    \n</script><script>\n\n      function detectOS() {\n        if (navigator.appVersion.indexOf('Win') != -1) return 'Windows';\n        else if (navigator.appVersion.indexOf('Mac') != -1) return 'MacOS';\n        else if (navigator.appVersion.indexOf('X11') != -1) return 'UNIX';\n        else if (navigator.appVersion.indexOf('Linux') != -1) return 'Linux';\n        return 'Unknown OS';\n      }\n\n      function getBodyScale() {\n        var scale = window.innerWidth / document.body.clientWidth;\n        if (document.body.clientHeight * scale > window.innerHeight || document.querySelector('html').offsetHeight > window.innerHeight) {\n          var osName = detectOS();\n\n          scale = parseFloat(((window.innerWidth - 20) / document.body.clientWidth).toFixed(3));\n        }\n\n        return scale;\n      }\n\n      function transformPage() {\n        var scale = getBodyScale();\n        document.body.style.transform = 'scale(' + scale + ')';\n        document.body.style.transformOrigin = 'left top';\n      }\n\n      window.addEventListener('load', transformPage);\n      window.addEventListener('resize', transformPage);\n\n      setTimeout(transformPage, 500);\n    \n</script>","gjs-components":"[{\"tagName\":\"script\",\"type\":\"sp-code\",\"badgable\":false,\"content\":\"\\n      \\n  if (window.spSocket) {\\n    function nav(url, isNewWindow) {\\n      if (isNewWindow) {\\n        window.open(url, '_blank');\\n      } else {\\n        window.location.href = url;\\n      }\\n    }\\n\\n    window.spSocket.subscribe({ eventName: 'dashboard', callback: function(data) {\\n      if (!data) return;\\n\\n      switch(data.type) {\\n        \\n      case 'dashboard.dom.updateAttr':\\n        var $comp = $(data.selector);\\n\\n        if ($comp) {\\n          if (data.attrs && data.attrs instanceof Array) {\\n            data.attrs.forEach(function(attr) {\\n              Object.keys(attr).forEach(function(key) {\\n                $comp.attr(key, attr[key]);\\n              });\\n            });\\n          }\\n        }\\n        break;\\n\\n    ;\\n        \\n    case 'dashboard.window.eval':\\n      var handleEvalResult = function(event) {\\n        if (event.data && event.data.type && event.data.type === \\\"dashboard.window.eval\\\") {\\n          if (event.data.err) {\\n            window.spSocket.send({ eventName: \\\"dashboard\\\", data: { type: \\\"dashboard.window.evalResponse\\\", err: event.data.err } });\\n            return;\\n          }\\n          window.spSocket.send({ eventName: \\\"dashboard\\\", data: { type: \\\"dashboard.window.evalResponse\\\", data: event.data.data } });\\n        }\\n      }\\n  \\n      var propertiesToCover = [\\\"location\\\"];\\n      var createSandboxContext = function(srcObj, propertiesToCover) {\\n        var context = {};\\n        Object.keys(srcObj).forEach(function (key) {\\n          if (srcObj.hasOwnProperty(key) && propertiesToCover.indexOf(key) > -1) {\\n            context[key] = srcObj[key];\\n          }\\n        });\\n        return context;\\n      }\\n\\n      var createIframe = function() {\\n        var $iframe = document.getElementById(\\\"dashboard-sandbox\\\");\\n        if (!$iframe) {\\n          $iframe = document.createElement(\\\"iframe\\\");\\n          $iframe.setAttribute(\\\"id\\\", \\\"dashboard-sandbox\\\");\\n          $iframe.setAttribute(\\\"sandbox\\\", \\\"allow-same-origin allow-scripts\\\");\\n          $iframe.style.display = \\\"none\\\";\\n        }\\n        $iframe.innerHTML = \\\"\\\";\\n\\n        return $iframe;\\n      };\\n\\n      var initializeSandbox = function(code) {\\n        // var $iframe = createIframe();\\n        var $script = document.getElementById('sandbox');\\n\\n        if (!$script) {\\n          $script = document.createElement(\\\"script\\\");\\n          $script.setAttribute('id', 'sandbox');\\n        }\\n\\n        $script.innerText = '(function() { return eval(' + code + ') })()';\\n\\n        document.body.appendChild($script);\\n\\n        // $iframe.contentWindow.addEventListener(\\\"message\\\", handleEvalResult, false);\\n        // $iframe.contentWindow.sandboxContext = createSandboxContext(window, propertiesToCover);\\n        // $iframe.contentDocument.body.appendChild($script);\\n      }\\n\\n      initializeSandbox(data.code);\\n      break;\\n\\n  ;\\n        \\n    case 'dashboard.component.show':\\n      var $comp = $('#' + data.componentId);\\n      if ($comp) {\\n          $comp.show();\\n      }\\n      break;\\n\\n  ;\\n        \\n    case 'dashboard.component.hide':\\n      var $comp = $('#' + data.componentId);\\n      if ($comp) {\\n          $comp.hide();\\n      }\\n      break;\\n\\n  ;\\n        \\n    case 'dashboard.component.loading.start':\\n      var $comp = $(data.selector);\\n      if ($comp && !$comp.children('.loader').length) {\\n          $comp.prepend('<div class=\\\"loader\\\"><span class=\\\"dot\\\"></span><span class=\\\"dot\\\"></span><span class=\\\"dot\\\"></span><span class=\\\"dot\\\"></span><span class=\\\"dot\\\"></span></div>');\\n      }\\n      break;\\n\\n    case 'dashboard.component.loading.end':\\n      var $comp = $(data.selector);\\n      if ($comp && $comp.children('.loader').length) {\\n          $comp.children('.loader').remove();\\n      }\\n      break;\\n\\n  ;\\n      }\\n    }});\\n\\n    window.addEventListener('load', function() {\\n      if (window.ee) {\\n        window.ee.emit('resize-onload');\\n      }\\n    });\\n  }\\n\\n    \",\"classes\":[{\"name\":\"sp-global-event-listener\",\"label\":\"sp-global-event-listener\",\"type\":1,\"active\":true,\"private\":true,\"protected\":false}],\"open\":false},{\"tagName\":\"script\",\"type\":\"sp-code\",\"badgable\":false,\"content\":\"\\n      \\n  if (window.spSocket) {\\n    function nav(url, isNewWindow) {\\n      if (isNewWindow) {\\n        window.open(url, '_blank');\\n      } else {\\n        window.location.href = url;\\n      }\\n    }\\n\\n    window.spSocket.subscribe({ eventName: 'dashboard', callback: function(data) {\\n      if (!data) return;\\n\\n      switch(data.type) {\\n        \\n      case 'dashboard.dom.updateAttr':\\n        var $comp = $(data.selector);\\n\\n        if ($comp) {\\n          if (data.attrs && data.attrs instanceof Array) {\\n            data.attrs.forEach(function(attr) {\\n              Object.keys(attr).forEach(function(key) {\\n                $comp.attr(key, attr[key]);\\n              });\\n            });\\n          }\\n        }\\n        break;\\n\\n    ;\\n        \\n    case 'dashboard.window.eval':\\n      var handleEvalResult = function(event) {\\n        if (event.data && event.data.type && event.data.type === \\\"dashboard.window.eval\\\") {\\n          if (event.data.err) {\\n            window.spSocket.send({ eventName: \\\"dashboard\\\", data: { type: \\\"dashboard.window.evalResponse\\\", err: event.data.err } });\\n            return;\\n          }\\n          window.spSocket.send({ eventName: \\\"dashboard\\\", data: { type: \\\"dashboard.window.evalResponse\\\", data: event.data.data } });\\n        }\\n      }\\n  \\n      var propertiesToCover = [\\\"location\\\"];\\n      var createSandboxContext = function(srcObj, propertiesToCover) {\\n        var context = {};\\n        Object.keys(srcObj).forEach(function (key) {\\n          if (srcObj.hasOwnProperty(key) && propertiesToCover.indexOf(key) > -1) {\\n            context[key] = srcObj[key];\\n          }\\n        });\\n        return context;\\n      }\\n\\n      var createIframe = function() {\\n        var $iframe = document.getElementById(\\\"dashboard-sandbox\\\");\\n        if (!$iframe) {\\n          $iframe = document.createElement(\\\"iframe\\\");\\n          $iframe.setAttribute(\\\"id\\\", \\\"dashboard-sandbox\\\");\\n          $iframe.setAttribute(\\\"sandbox\\\", \\\"allow-same-origin allow-scripts\\\");\\n          $iframe.style.display = \\\"none\\\";\\n        }\\n        $iframe.innerHTML = \\\"\\\";\\n\\n        return $iframe;\\n      };\\n\\n      var initializeSandbox = function(code) {\\n        // var $iframe = createIframe();\\n        var $script = document.getElementById('sandbox');\\n\\n        if (!$script) {\\n          $script = document.createElement(\\\"script\\\");\\n          $script.setAttribute('id', 'sandbox');\\n        }\\n\\n        $script.innerText = '(function() { return eval(' + code + ') })()';\\n\\n        document.body.appendChild($script);\\n\\n        // $iframe.contentWindow.addEventListener(\\\"message\\\", handleEvalResult, false);\\n        // $iframe.contentWindow.sandboxContext = createSandboxContext(window, propertiesToCover);\\n        // $iframe.contentDocument.body.appendChild($script);\\n      }\\n\\n      initializeSandbox(data.code);\\n      break;\\n\\n  ;\\n        \\n    case 'dashboard.component.show':\\n      var $comp = $('#' + data.componentId);\\n      if ($comp) {\\n          $comp.show();\\n      }\\n      break;\\n\\n  ;\\n        \\n    case 'dashboard.component.hide':\\n      var $comp = $('#' + data.componentId);\\n      if ($comp) {\\n          $comp.hide();\\n      }\\n      break;\\n\\n  ;\\n        \\n    case 'dashboard.component.loading.start':\\n      var $comp = $(data.selector);\\n      if ($comp && !$comp.children('.loader').length) {\\n          $comp.prepend('<div class=\\\"loader\\\"><span class=\\\"dot\\\"></span><span class=\\\"dot\\\"></span><span class=\\\"dot\\\"></span><span class=\\\"dot\\\"></span><span class=\\\"dot\\\"></span></div>');\\n      }\\n      break;\\n\\n    case 'dashboard.component.loading.end':\\n      var $comp = $(data.selector);\\n      if ($comp && $comp.children('.loader').length) {\\n          $comp.children('.loader').remove();\\n      }\\n      break;\\n\\n  ;\\n      }\\n    }});\\n\\n    window.addEventListener('load', function() {\\n      if (window.ee) {\\n        window.ee.emit('resize-onload');\\n      }\\n    });\\n  }\\n\\n    \",\"classes\":[{\"name\":\"sp-global-event-listener\",\"label\":\"sp-global-event-listener\",\"type\":1,\"active\":true,\"private\":true,\"protected\":false}],\"open\":false},{\"tagName\":\"script\",\"type\":\"sp-code\",\"badgable\":false,\"content\":\"\\n      function detectOS() {\\n        if (navigator.appVersion.indexOf('Win') != -1) return 'Windows';\\n        else if (navigator.appVersion.indexOf('Mac') != -1) return 'MacOS';\\n        else if (navigator.appVersion.indexOf('X11') != -1) return 'UNIX';\\n        else if (navigator.appVersion.indexOf('Linux') != -1) return 'Linux';\\n        return 'Unknown OS';\\n      }\\n\\n      function getBodyScale() {\\n        var scale = window.innerWidth / document.body.clientWidth;\\n        if (document.body.clientHeight * scale > window.innerHeight || document.querySelector('html').offsetHeight > window.innerHeight) {\\n          var osName = detectOS();\\n\\n          scale = parseFloat(((window.innerWidth - 20) / document.body.clientWidth).toFixed(3));\\n        }\\n\\n        return scale;\\n      }\\n\\n      function transformPage() {\\n        var scale = getBodyScale();\\n        document.body.style.transform = 'scale(' + scale + ')';\\n        document.body.style.transformOrigin = 'left top';\\n      }\\n\\n      window.addEventListener('load', transformPage);\\n      window.addEventListener('resize', transformPage);\\n\\n      setTimeout(transformPage, 500);\\n    \",\"classes\":[{\"name\":\"sp-page-adaptor\",\"label\":\"sp-page-adaptor\",\"type\":1,\"active\":true,\"private\":true,\"protected\":false}],\"open\":false}]","gjs-css":"* { box-sizing: border-box; } body {margin: 0;} *:focus { outline-offset: 2px; outline-color: rgba(0,132,255,0.2);} [data-gjs-type='wrapper'] .no-events > * {pointer-events: none} [loader=in] {overflow: hidden;} .loader{position: absolute; top: 0; right:0; bottom: 0; left: 0; z-index: 99; display: flex;justify-content: center;align-items: center; background-color: rgba(255,255,255,0.2);} .loader>.dot {margin: 5px; width: 24px; height: 24px; flex-shrink: 0; background: #0084ff; border-radius: 100%; display: inline-block; animation: slide 1s infinite;} .loader>.dot:nth-child(1) { animation-delay: 0.1s; background: #0084ff; } .loader>.dot:nth-child(2) { animation-delay: 0.2s; background: #339cff; } .loader>.dot:nth-child(3) { animation-delay: 0.3s; background: #66b5ff; } .loader>.dot:nth-child(4) { animation-delay: 0.4s; background: #99ceff; } .loader>.dot:nth-child(5) { animation-delay: 0.5s; background: #cce6ff; } @-moz-keyframes slide { 0% { transform: scale(1); } 50% { opacity: 0.3; transform: scale(1.6); } 100% { transform: scale(1); }  } @-webkit-keyframes slide { 0% { transform: scale(1); } 50% { opacity: 0.3; transform: scale(1.6); } 100% { transform: scale(1); }  } @-o-keyframes slide { 0% { transform: scale(1); } 50% { opacity: 0.3; transform: scale(1.6); } 100% { transform: scale(1); }  } @keyframes slide { 0% { transform: scale(1); } 50% { opacity: 0.3; transform: scale(1.6); } 100% { transform: scale(1); } } body{position:static;padding:0;overflow-x:auto;overflow-y:auto;width:1920.00px!important;height:1080.00px!important;opacity:1;}","gjs-styles":"[{\"selectors\":[{\"name\":\"wrapper\",\"label\":\"wrapper\",\"type\":2,\"active\":true,\"private\":false,\"protected\":false}],\"style\":{\"position\":\"static\",\"padding\":\"0\",\"overflow-x\":\"auto\",\"overflow-y\":\"auto\",\"width\":\"1920.00px!important\",\"height\":\"1080.00px!important\",\"opacity\":1},\"wrapper\":1}]","gjs-pageList":"[{\"components\":\"[{\\\"tagName\\\":\\\"script\\\",\\\"type\\\":\\\"sp-code\\\",\\\"badgable\\\":false,\\\"content\\\":\\\"\\\\n      \\\\n  if (window.spSocket) {\\\\n    function nav(url, isNewWindow) {\\\\n      if (isNewWindow) {\\\\n        window.open(url, '_blank');\\\\n      } else {\\\\n        window.location.href = url;\\\\n      }\\\\n    }\\\\n\\\\n    window.spSocket.subscribe({ eventName: 'dashboard', callback: function(data) {\\\\n      if (!data) return;\\\\n\\\\n      switch(data.type) {\\\\n        \\\\n      case 'dashboard.dom.updateAttr':\\\\n        var $comp = $(data.selector);\\\\n\\\\n        if ($comp) {\\\\n          if (data.attrs && data.attrs instanceof Array) {\\\\n            data.attrs.forEach(function(attr) {\\\\n              Object.keys(attr).forEach(function(key) {\\\\n                $comp.attr(key, attr[key]);\\\\n              });\\\\n            });\\\\n          }\\\\n        }\\\\n        break;\\\\n\\\\n    ;\\\\n        \\\\n    case 'dashboard.window.eval':\\\\n      var handleEvalResult = function(event) {\\\\n        if (event.data && event.data.type && event.data.type === \\\\\\\"dashboard.window.eval\\\\\\\") {\\\\n          if (event.data.err) {\\\\n            window.spSocket.send({ eventName: \\\\\\\"dashboard\\\\\\\", data: { type: \\\\\\\"dashboard.window.evalResponse\\\\\\\", err: event.data.err } });\\\\n            return;\\\\n          }\\\\n          window.spSocket.send({ eventName: \\\\\\\"dashboard\\\\\\\", data: { type: \\\\\\\"dashboard.window.evalResponse\\\\\\\", data: event.data.data } });\\\\n        }\\\\n      }\\\\n  \\\\n      var propertiesToCover = [\\\\\\\"location\\\\\\\"];\\\\n      var createSandboxContext = function(srcObj, propertiesToCover) {\\\\n        var context = {};\\\\n        Object.keys(srcObj).forEach(function (key) {\\\\n          if (srcObj.hasOwnProperty(key) && propertiesToCover.indexOf(key) > -1) {\\\\n            context[key] = srcObj[key];\\\\n          }\\\\n        });\\\\n        return context;\\\\n      }\\\\n\\\\n      var createIframe = function() {\\\\n        var $iframe = document.getElementById(\\\\\\\"dashboard-sandbox\\\\\\\");\\\\n        if (!$iframe) {\\\\n          $iframe = document.createElement(\\\\\\\"iframe\\\\\\\");\\\\n          $iframe.setAttribute(\\\\\\\"id\\\\\\\", \\\\\\\"dashboard-sandbox\\\\\\\");\\\\n          $iframe.setAttribute(\\\\\\\"sandbox\\\\\\\", \\\\\\\"allow-same-origin allow-scripts\\\\\\\");\\\\n          $iframe.style.display = \\\\\\\"none\\\\\\\";\\\\n        }\\\\n        $iframe.innerHTML = \\\\\\\"\\\\\\\";\\\\n\\\\n        return $iframe;\\\\n      };\\\\n\\\\n      var initializeSandbox = function(code) {\\\\n        // var $iframe = createIframe();\\\\n        var $script = document.getElementById('sandbox');\\\\n\\\\n        if (!$script) {\\\\n          $script = document.createElement(\\\\\\\"script\\\\\\\");\\\\n          $script.setAttribute('id', 'sandbox');\\\\n        }\\\\n\\\\n        $script.innerText = '(function() { return eval(' + code + ') })()';\\\\n\\\\n        document.body.appendChild($script);\\\\n\\\\n        // $iframe.contentWindow.addEventListener(\\\\\\\"message\\\\\\\", handleEvalResult, false);\\\\n        // $iframe.contentWindow.sandboxContext = createSandboxContext(window, propertiesToCover);\\\\n        // $iframe.contentDocument.body.appendChild($script);\\\\n      }\\\\n\\\\n      initializeSandbox(data.code);\\\\n      break;\\\\n\\\\n  ;\\\\n        \\\\n    case 'dashboard.component.show':\\\\n      var $comp = $('#' + data.componentId);\\\\n      if ($comp) {\\\\n          $comp.show();\\\\n      }\\\\n      break;\\\\n\\\\n  ;\\\\n        \\\\n    case 'dashboard.component.hide':\\\\n      var $comp = $('#' + data.componentId);\\\\n      if ($comp) {\\\\n          $comp.hide();\\\\n      }\\\\n      break;\\\\n\\\\n  ;\\\\n        \\\\n    case 'dashboard.component.loading.start':\\\\n      var $comp = $(data.selector);\\\\n      if ($comp && !$comp.children('.loader').length) {\\\\n          $comp.prepend('<div class=\\\\\\\"loader\\\\\\\"><span class=\\\\\\\"dot\\\\\\\"></span><span class=\\\\\\\"dot\\\\\\\"></span><span class=\\\\\\\"dot\\\\\\\"></span><span class=\\\\\\\"dot\\\\\\\"></span><span class=\\\\\\\"dot\\\\\\\"></span></div>');\\\\n      }\\\\n      break;\\\\n\\\\n    case 'dashboard.component.loading.end':\\\\n      var $comp = $(data.selector);\\\\n      if ($comp && $comp.children('.loader').length) {\\\\n          $comp.children('.loader').remove();\\\\n      }\\\\n      break;\\\\n\\\\n  ;\\\\n      }\\\\n    }});\\\\n\\\\n    window.addEventListener('load', function() {\\\\n      if (window.ee) {\\\\n        window.ee.emit('resize-onload');\\\\n      }\\\\n    });\\\\n  }\\\\n\\\\n    \\\",\\\"classes\\\":[{\\\"name\\\":\\\"sp-global-event-listener\\\",\\\"label\\\":\\\"sp-global-event-listener\\\",\\\"type\\\":1,\\\"active\\\":true,\\\"private\\\":true,\\\"protected\\\":false}],\\\"open\\\":false},{\\\"tagName\\\":\\\"script\\\",\\\"type\\\":\\\"sp-code\\\",\\\"badgable\\\":false,\\\"content\\\":\\\"\\\\n      \\\\n  if (window.spSocket) {\\\\n    function nav(url, isNewWindow) {\\\\n      if (isNewWindow) {\\\\n        window.open(url, '_blank');\\\\n      } else {\\\\n        window.location.href = url;\\\\n      }\\\\n    }\\\\n\\\\n    window.spSocket.subscribe({ eventName: 'dashboard', callback: function(data) {\\\\n      if (!data) return;\\\\n\\\\n      switch(data.type) {\\\\n        \\\\n      case 'dashboard.dom.updateAttr':\\\\n        var $comp = $(data.selector);\\\\n\\\\n        if ($comp) {\\\\n          if (data.attrs && data.attrs instanceof Array) {\\\\n            data.attrs.forEach(function(attr) {\\\\n              Object.keys(attr).forEach(function(key) {\\\\n                $comp.attr(key, attr[key]);\\\\n              });\\\\n            });\\\\n          }\\\\n        }\\\\n        break;\\\\n\\\\n    ;\\\\n        \\\\n    case 'dashboard.window.eval':\\\\n      var handleEvalResult = function(event) {\\\\n        if (event.data && event.data.type && event.data.type === \\\\\\\"dashboard.window.eval\\\\\\\") {\\\\n          if (event.data.err) {\\\\n            window.spSocket.send({ eventName: \\\\\\\"dashboard\\\\\\\", data: { type: \\\\\\\"dashboard.window.evalResponse\\\\\\\", err: event.data.err } });\\\\n            return;\\\\n          }\\\\n          window.spSocket.send({ eventName: \\\\\\\"dashboard\\\\\\\", data: { type: \\\\\\\"dashboard.window.evalResponse\\\\\\\", data: event.data.data } });\\\\n        }\\\\n      }\\\\n  \\\\n      var propertiesToCover = [\\\\\\\"location\\\\\\\"];\\\\n      var createSandboxContext = function(srcObj, propertiesToCover) {\\\\n        var context = {};\\\\n        Object.keys(srcObj).forEach(function (key) {\\\\n          if (srcObj.hasOwnProperty(key) && propertiesToCover.indexOf(key) > -1) {\\\\n            context[key] = srcObj[key];\\\\n          }\\\\n        });\\\\n        return context;\\\\n      }\\\\n\\\\n      var createIframe = function() {\\\\n        var $iframe = document.getElementById(\\\\\\\"dashboard-sandbox\\\\\\\");\\\\n        if (!$iframe) {\\\\n          $iframe = document.createElement(\\\\\\\"iframe\\\\\\\");\\\\n          $iframe.setAttribute(\\\\\\\"id\\\\\\\", \\\\\\\"dashboard-sandbox\\\\\\\");\\\\n          $iframe.setAttribute(\\\\\\\"sandbox\\\\\\\", \\\\\\\"allow-same-origin allow-scripts\\\\\\\");\\\\n          $iframe.style.display = \\\\\\\"none\\\\\\\";\\\\n        }\\\\n        $iframe.innerHTML = \\\\\\\"\\\\\\\";\\\\n\\\\n        return $iframe;\\\\n      };\\\\n\\\\n      var initializeSandbox = function(code) {\\\\n        // var $iframe = createIframe();\\\\n        var $script = document.getElementById('sandbox');\\\\n\\\\n        if (!$script) {\\\\n          $script = document.createElement(\\\\\\\"script\\\\\\\");\\\\n          $script.setAttribute('id', 'sandbox');\\\\n        }\\\\n\\\\n        $script.innerText = '(function() { return eval(' + code + ') })()';\\\\n\\\\n        document.body.appendChild($script);\\\\n\\\\n        // $iframe.contentWindow.addEventListener(\\\\\\\"message\\\\\\\", handleEvalResult, false);\\\\n        // $iframe.contentWindow.sandboxContext = createSandboxContext(window, propertiesToCover);\\\\n        // $iframe.contentDocument.body.appendChild($script);\\\\n      }\\\\n\\\\n      initializeSandbox(data.code);\\\\n      break;\\\\n\\\\n  ;\\\\n        \\\\n    case 'dashboard.component.show':\\\\n      var $comp = $('#' + data.componentId);\\\\n      if ($comp) {\\\\n          $comp.show();\\\\n      }\\\\n      break;\\\\n\\\\n  ;\\\\n        \\\\n    case 'dashboard.component.hide':\\\\n      var $comp = $('#' + data.componentId);\\\\n      if ($comp) {\\\\n          $comp.hide();\\\\n      }\\\\n      break;\\\\n\\\\n  ;\\\\n        \\\\n    case 'dashboard.component.loading.start':\\\\n      var $comp = $(data.selector);\\\\n      if ($comp && !$comp.children('.loader').length) {\\\\n          $comp.prepend('<div class=\\\\\\\"loader\\\\\\\"><span class=\\\\\\\"dot\\\\\\\"></span><span class=\\\\\\\"dot\\\\\\\"></span><span class=\\\\\\\"dot\\\\\\\"></span><span class=\\\\\\\"dot\\\\\\\"></span><span class=\\\\\\\"dot\\\\\\\"></span></div>');\\\\n      }\\\\n      break;\\\\n\\\\n    case 'dashboard.component.loading.end':\\\\n      var $comp = $(data.selector);\\\\n      if ($comp && $comp.children('.loader').length) {\\\\n          $comp.children('.loader').remove();\\\\n      }\\\\n      break;\\\\n\\\\n  ;\\\\n      }\\\\n    }});\\\\n\\\\n    window.addEventListener('load', function() {\\\\n      if (window.ee) {\\\\n        window.ee.emit('resize-onload');\\\\n      }\\\\n    });\\\\n  }\\\\n\\\\n    \\\",\\\"classes\\\":[{\\\"name\\\":\\\"sp-global-event-listener\\\",\\\"label\\\":\\\"sp-global-event-listener\\\",\\\"type\\\":1,\\\"active\\\":true,\\\"private\\\":true,\\\"protected\\\":false}],\\\"open\\\":false},{\\\"tagName\\\":\\\"script\\\",\\\"type\\\":\\\"sp-code\\\",\\\"badgable\\\":false,\\\"content\\\":\\\"\\\\n      function detectOS() {\\\\n        if (navigator.appVersion.indexOf('Win') != -1) return 'Windows';\\\\n        else if (navigator.appVersion.indexOf('Mac') != -1) return 'MacOS';\\\\n        else if (navigator.appVersion.indexOf('X11') != -1) return 'UNIX';\\\\n        else if (navigator.appVersion.indexOf('Linux') != -1) return 'Linux';\\\\n        return 'Unknown OS';\\\\n      }\\\\n\\\\n      function getBodyScale() {\\\\n        var scale = window.innerWidth / document.body.clientWidth;\\\\n        if (document.body.clientHeight * scale > window.innerHeight || document.querySelector('html').offsetHeight > window.innerHeight) {\\\\n          var osName = detectOS();\\\\n\\\\n          scale = parseFloat(((window.innerWidth - 20) / document.body.clientWidth).toFixed(3));\\\\n        }\\\\n\\\\n        return scale;\\\\n      }\\\\n\\\\n      function transformPage() {\\\\n        var scale = getBodyScale();\\\\n        document.body.style.transform = 'scale(' + scale + ')';\\\\n        document.body.style.transformOrigin = 'left top';\\\\n      }\\\\n\\\\n      window.addEventListener('load', transformPage);\\\\n      window.addEventListener('resize', transformPage);\\\\n\\\\n      setTimeout(transformPage, 500);\\\\n    \\\",\\\"classes\\\":[{\\\"name\\\":\\\"sp-page-adaptor\\\",\\\"label\\\":\\\"sp-page-adaptor\\\",\\\"type\\\":1,\\\"active\\\":true,\\\"private\\\":true,\\\"protected\\\":false}],\\\"open\\\":false}]\",\"styles\":\"[{\\\"selectors\\\":[{\\\"name\\\":\\\"wrapper\\\",\\\"label\\\":\\\"wrapper\\\",\\\"type\\\":2,\\\"active\\\":true,\\\"private\\\":false,\\\"protected\\\":false}],\\\"style\\\":{\\\"position\\\":\\\"static\\\",\\\"padding\\\":\\\"0\\\",\\\"overflow-x\\\":\\\"auto\\\",\\\"overflow-y\\\":\\\"auto\\\",\\\"width\\\":\\\"1920.00px!important\\\",\\\"height\\\":\\\"1080.00px!important\\\",\\\"opacity\\\":1},\\\"wrapper\\\":1}]\",\"css\":\"* { box-sizing: border-box; } body {margin: 0;} *:focus { outline-offset: 2px; outline-color: rgba(0,132,255,0.2);} [data-gjs-type='wrapper'] .no-events > * {pointer-events: none} [loader=in] {overflow: hidden;} .loader{position: absolute; top: 0; right:0; bottom: 0; left: 0; z-index: 99; display: flex;justify-content: center;align-items: center; background-color: rgba(255,255,255,0.2);} .loader>.dot {margin: 5px; width: 24px; height: 24px; flex-shrink: 0; background: #0084ff; border-radius: 100%; display: inline-block; animation: slide 1s infinite;} .loader>.dot:nth-child(1) { animation-delay: 0.1s; background: #0084ff; } .loader>.dot:nth-child(2) { animation-delay: 0.2s; background: #339cff; } .loader>.dot:nth-child(3) { animation-delay: 0.3s; background: #66b5ff; } .loader>.dot:nth-child(4) { animation-delay: 0.4s; background: #99ceff; } .loader>.dot:nth-child(5) { animation-delay: 0.5s; background: #cce6ff; } @-moz-keyframes slide { 0% { transform: scale(1); } 50% { opacity: 0.3; transform: scale(1.6); } 100% { transform: scale(1); }  } @-webkit-keyframes slide { 0% { transform: scale(1); } 50% { opacity: 0.3; transform: scale(1.6); } 100% { transform: scale(1); }  } @-o-keyframes slide { 0% { transform: scale(1); } 50% { opacity: 0.3; transform: scale(1.6); } 100% { transform: scale(1); }  } @keyframes slide { 0% { transform: scale(1); } 50% { opacity: 0.3; transform: scale(1.6); } 100% { transform: scale(1); } } body{position:static;padding:0;overflow-x:auto;overflow-y:auto;width:1920.00px!important;height:1080.00px!important;opacity:1;}\",\"groups\":\"{\\\"groups\\\":[],\\\"compIdToGroupMap\\\":{}}\",\"pmComponents\":[{\"tagName\":\"script\",\"type\":\"sp-code\",\"badgable\":false,\"content\":\"\\n      \\n  if (window.spSocket) {\\n    function nav(url, isNewWindow) {\\n      if (isNewWindow) {\\n        window.open(url, '_blank');\\n      } else {\\n        window.location.href = url;\\n      }\\n    }\\n\\n    window.spSocket.subscribe({ eventName: 'dashboard', callback: function(data) {\\n      if (!data) return;\\n\\n      switch(data.type) {\\n        \\n      case 'dashboard.dom.updateAttr':\\n        var $comp = $(data.selector);\\n\\n        if ($comp) {\\n          if (data.attrs && data.attrs instanceof Array) {\\n            data.attrs.forEach(function(attr) {\\n              Object.keys(attr).forEach(function(key) {\\n                $comp.attr(key, attr[key]);\\n              });\\n            });\\n          }\\n        }\\n        break;\\n\\n    ;\\n        \\n    case 'dashboard.window.eval':\\n      var handleEvalResult = function(event) {\\n        if (event.data && event.data.type && event.data.type === \\\"dashboard.window.eval\\\") {\\n          if (event.data.err) {\\n            window.spSocket.send({ eventName: \\\"dashboard\\\", data: { type: \\\"dashboard.window.evalResponse\\\", err: event.data.err } });\\n            return;\\n          }\\n          window.spSocket.send({ eventName: \\\"dashboard\\\", data: { type: \\\"dashboard.window.evalResponse\\\", data: event.data.data } });\\n        }\\n      }\\n  \\n      var propertiesToCover = [\\\"location\\\"];\\n      var createSandboxContext = function(srcObj, propertiesToCover) {\\n        var context = {};\\n        Object.keys(srcObj).forEach(function (key) {\\n          if (srcObj.hasOwnProperty(key) && propertiesToCover.indexOf(key) > -1) {\\n            context[key] = srcObj[key];\\n          }\\n        });\\n        return context;\\n      }\\n\\n      var createIframe = function() {\\n        var $iframe = document.getElementById(\\\"dashboard-sandbox\\\");\\n        if (!$iframe) {\\n          $iframe = document.createElement(\\\"iframe\\\");\\n          $iframe.setAttribute(\\\"id\\\", \\\"dashboard-sandbox\\\");\\n          $iframe.setAttribute(\\\"sandbox\\\", \\\"allow-same-origin allow-scripts\\\");\\n          $iframe.style.display = \\\"none\\\";\\n        }\\n        $iframe.innerHTML = \\\"\\\";\\n\\n        return $iframe;\\n      };\\n\\n      var initializeSandbox = function(code) {\\n        // var $iframe = createIframe();\\n        var $script = document.getElementById('sandbox');\\n\\n        if (!$script) {\\n          $script = document.createElement(\\\"script\\\");\\n          $script.setAttribute('id', 'sandbox');\\n        }\\n\\n        $script.innerText = '(function() { return eval(' + code + ') })()';\\n\\n        document.body.appendChild($script);\\n\\n        // $iframe.contentWindow.addEventListener(\\\"message\\\", handleEvalResult, false);\\n        // $iframe.contentWindow.sandboxContext = createSandboxContext(window, propertiesToCover);\\n        // $iframe.contentDocument.body.appendChild($script);\\n      }\\n\\n      initializeSandbox(data.code);\\n      break;\\n\\n  ;\\n        \\n    case 'dashboard.component.show':\\n      var $comp = $('#' + data.componentId);\\n      if ($comp) {\\n          $comp.show();\\n      }\\n      break;\\n\\n  ;\\n        \\n    case 'dashboard.component.hide':\\n      var $comp = $('#' + data.componentId);\\n      if ($comp) {\\n          $comp.hide();\\n      }\\n      break;\\n\\n  ;\\n        \\n    case 'dashboard.component.loading.start':\\n      var $comp = $(data.selector);\\n      if ($comp && !$comp.children('.loader').length) {\\n          $comp.prepend('<div class=\\\"loader\\\"><span class=\\\"dot\\\"></span><span class=\\\"dot\\\"></span><span class=\\\"dot\\\"></span><span class=\\\"dot\\\"></span><span class=\\\"dot\\\"></span></div>');\\n      }\\n      break;\\n\\n    case 'dashboard.component.loading.end':\\n      var $comp = $(data.selector);\\n      if ($comp && $comp.children('.loader').length) {\\n          $comp.children('.loader').remove();\\n      }\\n      break;\\n\\n  ;\\n      }\\n    }});\\n\\n    window.addEventListener('load', function() {\\n      if (window.ee) {\\n        window.ee.emit('resize-onload');\\n      }\\n    });\\n  }\\n\\n    \",\"classes\":[{\"name\":\"sp-global-event-listener\",\"label\":\"sp-global-event-listener\",\"type\":1,\"active\":true,\"private\":true,\"protected\":false}],\"open\":false},{\"tagName\":\"script\",\"type\":\"sp-code\",\"badgable\":false,\"content\":\"\\n      \\n  if (window.spSocket) {\\n    function nav(url, isNewWindow) {\\n      if (isNewWindow) {\\n        window.open(url, '_blank');\\n      } else {\\n        window.location.href = url;\\n      }\\n    }\\n\\n    window.spSocket.subscribe({ eventName: 'dashboard', callback: function(data) {\\n      if (!data) return;\\n\\n      switch(data.type) {\\n        \\n      case 'dashboard.dom.updateAttr':\\n        var $comp = $(data.selector);\\n\\n        if ($comp) {\\n          if (data.attrs && data.attrs instanceof Array) {\\n            data.attrs.forEach(function(attr) {\\n              Object.keys(attr).forEach(function(key) {\\n                $comp.attr(key, attr[key]);\\n              });\\n            });\\n          }\\n        }\\n        break;\\n\\n    ;\\n        \\n    case 'dashboard.window.eval':\\n      var handleEvalResult = function(event) {\\n        if (event.data && event.data.type && event.data.type === \\\"dashboard.window.eval\\\") {\\n          if (event.data.err) {\\n            window.spSocket.send({ eventName: \\\"dashboard\\\", data: { type: \\\"dashboard.window.evalResponse\\\", err: event.data.err } });\\n            return;\\n          }\\n          window.spSocket.send({ eventName: \\\"dashboard\\\", data: { type: \\\"dashboard.window.evalResponse\\\", data: event.data.data } });\\n        }\\n      }\\n  \\n      var propertiesToCover = [\\\"location\\\"];\\n      var createSandboxContext = function(srcObj, propertiesToCover) {\\n        var context = {};\\n        Object.keys(srcObj).forEach(function (key) {\\n          if (srcObj.hasOwnProperty(key) && propertiesToCover.indexOf(key) > -1) {\\n            context[key] = srcObj[key];\\n          }\\n        });\\n        return context;\\n      }\\n\\n      var createIframe = function() {\\n        var $iframe = document.getElementById(\\\"dashboard-sandbox\\\");\\n        if (!$iframe) {\\n          $iframe = document.createElement(\\\"iframe\\\");\\n          $iframe.setAttribute(\\\"id\\\", \\\"dashboard-sandbox\\\");\\n          $iframe.setAttribute(\\\"sandbox\\\", \\\"allow-same-origin allow-scripts\\\");\\n          $iframe.style.display = \\\"none\\\";\\n        }\\n        $iframe.innerHTML = \\\"\\\";\\n\\n        return $iframe;\\n      };\\n\\n      var initializeSandbox = function(code) {\\n        // var $iframe = createIframe();\\n        var $script = document.getElementById('sandbox');\\n\\n        if (!$script) {\\n          $script = document.createElement(\\\"script\\\");\\n          $script.setAttribute('id', 'sandbox');\\n        }\\n\\n        $script.innerText = '(function() { return eval(' + code + ') })()';\\n\\n        document.body.appendChild($script);\\n\\n        // $iframe.contentWindow.addEventListener(\\\"message\\\", handleEvalResult, false);\\n        // $iframe.contentWindow.sandboxContext = createSandboxContext(window, propertiesToCover);\\n        // $iframe.contentDocument.body.appendChild($script);\\n      }\\n\\n      initializeSandbox(data.code);\\n      break;\\n\\n  ;\\n        \\n    case 'dashboard.component.show':\\n      var $comp = $('#' + data.componentId);\\n      if ($comp) {\\n          $comp.show();\\n      }\\n      break;\\n\\n  ;\\n        \\n    case 'dashboard.component.hide':\\n      var $comp = $('#' + data.componentId);\\n      if ($comp) {\\n          $comp.hide();\\n      }\\n      break;\\n\\n  ;\\n        \\n    case 'dashboard.component.loading.start':\\n      var $comp = $(data.selector);\\n      if ($comp && !$comp.children('.loader').length) {\\n          $comp.prepend('<div class=\\\"loader\\\"><span class=\\\"dot\\\"></span><span class=\\\"dot\\\"></span><span class=\\\"dot\\\"></span><span class=\\\"dot\\\"></span><span class=\\\"dot\\\"></span></div>');\\n      }\\n      break;\\n\\n    case 'dashboard.component.loading.end':\\n      var $comp = $(data.selector);\\n      if ($comp && $comp.children('.loader').length) {\\n          $comp.children('.loader').remove();\\n      }\\n      break;\\n\\n  ;\\n      }\\n    }});\\n\\n    window.addEventListener('load', function() {\\n      if (window.ee) {\\n        window.ee.emit('resize-onload');\\n      }\\n    });\\n  }\\n\\n    \",\"classes\":[{\"name\":\"sp-global-event-listener\",\"label\":\"sp-global-event-listener\",\"type\":1,\"active\":true,\"private\":true,\"protected\":false}],\"open\":false},{\"tagName\":\"script\",\"type\":\"sp-code\",\"badgable\":false,\"content\":\"\\n      function detectOS() {\\n        if (navigator.appVersion.indexOf('Win') != -1) return 'Windows';\\n        else if (navigator.appVersion.indexOf('Mac') != -1) return 'MacOS';\\n        else if (navigator.appVersion.indexOf('X11') != -1) return 'UNIX';\\n        else if (navigator.appVersion.indexOf('Linux') != -1) return 'Linux';\\n        return 'Unknown OS';\\n      }\\n\\n      function getBodyScale() {\\n        var scale = window.innerWidth / document.body.clientWidth;\\n        if (document.body.clientHeight * scale > window.innerHeight || document.querySelector('html').offsetHeight > window.innerHeight) {\\n          var osName = detectOS();\\n\\n          scale = parseFloat(((window.innerWidth - 20) / document.body.clientWidth).toFixed(3));\\n        }\\n\\n        return scale;\\n      }\\n\\n      function transformPage() {\\n        var scale = getBodyScale();\\n        document.body.style.transform = 'scale(' + scale + ')';\\n        document.body.style.transformOrigin = 'left top';\\n      }\\n\\n      window.addEventListener('load', transformPage);\\n      window.addEventListener('resize', transformPage);\\n\\n      setTimeout(transformPage, 500);\\n    \",\"classes\":[{\"name\":\"sp-page-adaptor\",\"label\":\"sp-page-adaptor\",\"type\":1,\"active\":true,\"private\":true,\"protected\":false}],\"open\":false}],\"pmStyle\":[{\"selectors\":[{\"name\":\"wrapper\",\"label\":\"wrapper\",\"type\":2,\"active\":true,\"private\":false,\"protected\":false}],\"style\":{\"position\":\"static\",\"padding\":\"0\",\"overflow-x\":\"auto\",\"overflow-y\":\"auto\",\"width\":\"1920.00px!important\",\"height\":\"1080.00px!important\",\"opacity\":1},\"wrapper\":1}],\"html\":\"<script>\\n\\n      \\n  if (window.spSocket) {\\n    function nav(url, isNewWindow) {\\n      if (isNewWindow) {\\n        window.open(url, '_blank');\\n      } else {\\n        window.location.href = url;\\n      }\\n    }\\n\\n    window.spSocket.subscribe({ eventName: 'dashboard', callback: function(data) {\\n      if (!data) return;\\n\\n      switch(data.type) {\\n        \\n      case 'dashboard.dom.updateAttr':\\n        var $comp = $(data.selector);\\n\\n        if ($comp) {\\n          if (data.attrs && data.attrs instanceof Array) {\\n            data.attrs.forEach(function(attr) {\\n              Object.keys(attr).forEach(function(key) {\\n                $comp.attr(key, attr[key]);\\n              });\\n            });\\n          }\\n        }\\n        break;\\n\\n    ;\\n        \\n    case 'dashboard.window.eval':\\n      var handleEvalResult = function(event) {\\n        if (event.data && event.data.type && event.data.type === \\\"dashboard.window.eval\\\") {\\n          if (event.data.err) {\\n            window.spSocket.send({ eventName: \\\"dashboard\\\", data: { type: \\\"dashboard.window.evalResponse\\\", err: event.data.err } });\\n            return;\\n          }\\n          window.spSocket.send({ eventName: \\\"dashboard\\\", data: { type: \\\"dashboard.window.evalResponse\\\", data: event.data.data } });\\n        }\\n      }\\n  \\n      var propertiesToCover = [\\\"location\\\"];\\n      var createSandboxContext = function(srcObj, propertiesToCover) {\\n        var context = {};\\n        Object.keys(srcObj).forEach(function (key) {\\n          if (srcObj.hasOwnProperty(key) && propertiesToCover.indexOf(key) > -1) {\\n            context[key] = srcObj[key];\\n          }\\n        });\\n        return context;\\n      }\\n\\n      var createIframe = function() {\\n        var $iframe = document.getElementById(\\\"dashboard-sandbox\\\");\\n        if (!$iframe) {\\n          $iframe = document.createElement(\\\"iframe\\\");\\n          $iframe.setAttribute(\\\"id\\\", \\\"dashboard-sandbox\\\");\\n          $iframe.setAttribute(\\\"sandbox\\\", \\\"allow-same-origin allow-scripts\\\");\\n          $iframe.style.display = \\\"none\\\";\\n        }\\n        $iframe.innerHTML = \\\"\\\";\\n\\n        return $iframe;\\n      };\\n\\n      var initializeSandbox = function(code) {\\n        // var $iframe = createIframe();\\n        var $script = document.getElementById('sandbox');\\n\\n        if (!$script) {\\n          $script = document.createElement(\\\"script\\\");\\n          $script.setAttribute('id', 'sandbox');\\n        }\\n\\n        $script.innerText = '(function() { return eval(' + code + ') })()';\\n\\n        document.body.appendChild($script);\\n\\n        // $iframe.contentWindow.addEventListener(\\\"message\\\", handleEvalResult, false);\\n        // $iframe.contentWindow.sandboxContext = createSandboxContext(window, propertiesToCover);\\n        // $iframe.contentDocument.body.appendChild($script);\\n      }\\n\\n      initializeSandbox(data.code);\\n      break;\\n\\n  ;\\n        \\n    case 'dashboard.component.show':\\n      var $comp = $('#' + data.componentId);\\n      if ($comp) {\\n          $comp.show();\\n      }\\n      break;\\n\\n  ;\\n        \\n    case 'dashboard.component.hide':\\n      var $comp = $('#' + data.componentId);\\n      if ($comp) {\\n          $comp.hide();\\n      }\\n      break;\\n\\n  ;\\n        \\n    case 'dashboard.component.loading.start':\\n      var $comp = $(data.selector);\\n      if ($comp && !$comp.children('.loader').length) {\\n          $comp.prepend('<div class=\\\"loader\\\"><span class=\\\"dot\\\"></span><span class=\\\"dot\\\"></span><span class=\\\"dot\\\"></span><span class=\\\"dot\\\"></span><span class=\\\"dot\\\"></span></div>');\\n      }\\n      break;\\n\\n    case 'dashboard.component.loading.end':\\n      var $comp = $(data.selector);\\n      if ($comp && $comp.children('.loader').length) {\\n          $comp.children('.loader').remove();\\n      }\\n      break;\\n\\n  ;\\n      }\\n    }});\\n\\n    window.addEventListener('load', function() {\\n      if (window.ee) {\\n        window.ee.emit('resize-onload');\\n      }\\n    });\\n  }\\n\\n    \\n</script><script>\\n\\n      \\n  if (window.spSocket) {\\n    function nav(url, isNewWindow) {\\n      if (isNewWindow) {\\n        window.open(url, '_blank');\\n      } else {\\n        window.location.href = url;\\n      }\\n    }\\n\\n    window.spSocket.subscribe({ eventName: 'dashboard', callback: function(data) {\\n      if (!data) return;\\n\\n      switch(data.type) {\\n        \\n      case 'dashboard.dom.updateAttr':\\n        var $comp = $(data.selector);\\n\\n        if ($comp) {\\n          if (data.attrs && data.attrs instanceof Array) {\\n            data.attrs.forEach(function(attr) {\\n              Object.keys(attr).forEach(function(key) {\\n                $comp.attr(key, attr[key]);\\n              });\\n            });\\n          }\\n        }\\n        break;\\n\\n    ;\\n        \\n    case 'dashboard.window.eval':\\n      var handleEvalResult = function(event) {\\n        if (event.data && event.data.type && event.data.type === \\\"dashboard.window.eval\\\") {\\n          if (event.data.err) {\\n            window.spSocket.send({ eventName: \\\"dashboard\\\", data: { type: \\\"dashboard.window.evalResponse\\\", err: event.data.err } });\\n            return;\\n          }\\n          window.spSocket.send({ eventName: \\\"dashboard\\\", data: { type: \\\"dashboard.window.evalResponse\\\", data: event.data.data } });\\n        }\\n      }\\n  \\n      var propertiesToCover = [\\\"location\\\"];\\n      var createSandboxContext = function(srcObj, propertiesToCover) {\\n        var context = {};\\n        Object.keys(srcObj).forEach(function (key) {\\n          if (srcObj.hasOwnProperty(key) && propertiesToCover.indexOf(key) > -1) {\\n            context[key] = srcObj[key];\\n          }\\n        });\\n        return context;\\n      }\\n\\n      var createIframe = function() {\\n        var $iframe = document.getElementById(\\\"dashboard-sandbox\\\");\\n        if (!$iframe) {\\n          $iframe = document.createElement(\\\"iframe\\\");\\n          $iframe.setAttribute(\\\"id\\\", \\\"dashboard-sandbox\\\");\\n          $iframe.setAttribute(\\\"sandbox\\\", \\\"allow-same-origin allow-scripts\\\");\\n          $iframe.style.display = \\\"none\\\";\\n        }\\n        $iframe.innerHTML = \\\"\\\";\\n\\n        return $iframe;\\n      };\\n\\n      var initializeSandbox = function(code) {\\n        // var $iframe = createIframe();\\n        var $script = document.getElementById('sandbox');\\n\\n        if (!$script) {\\n          $script = document.createElement(\\\"script\\\");\\n          $script.setAttribute('id', 'sandbox');\\n        }\\n\\n        $script.innerText = '(function() { return eval(' + code + ') })()';\\n\\n        document.body.appendChild($script);\\n\\n        // $iframe.contentWindow.addEventListener(\\\"message\\\", handleEvalResult, false);\\n        // $iframe.contentWindow.sandboxContext = createSandboxContext(window, propertiesToCover);\\n        // $iframe.contentDocument.body.appendChild($script);\\n      }\\n\\n      initializeSandbox(data.code);\\n      break;\\n\\n  ;\\n        \\n    case 'dashboard.component.show':\\n      var $comp = $('#' + data.componentId);\\n      if ($comp) {\\n          $comp.show();\\n      }\\n      break;\\n\\n  ;\\n        \\n    case 'dashboard.component.hide':\\n      var $comp = $('#' + data.componentId);\\n      if ($comp) {\\n          $comp.hide();\\n      }\\n      break;\\n\\n  ;\\n        \\n    case 'dashboard.component.loading.start':\\n      var $comp = $(data.selector);\\n      if ($comp && !$comp.children('.loader').length) {\\n          $comp.prepend('<div class=\\\"loader\\\"><span class=\\\"dot\\\"></span><span class=\\\"dot\\\"></span><span class=\\\"dot\\\"></span><span class=\\\"dot\\\"></span><span class=\\\"dot\\\"></span></div>');\\n      }\\n      break;\\n\\n    case 'dashboard.component.loading.end':\\n      var $comp = $(data.selector);\\n      if ($comp && $comp.children('.loader').length) {\\n          $comp.children('.loader').remove();\\n      }\\n      break;\\n\\n  ;\\n      }\\n    }});\\n\\n    window.addEventListener('load', function() {\\n      if (window.ee) {\\n        window.ee.emit('resize-onload');\\n      }\\n    });\\n  }\\n\\n    \\n</script><script>\\n\\n      function detectOS() {\\n        if (navigator.appVersion.indexOf('Win') != -1) return 'Windows';\\n        else if (navigator.appVersion.indexOf('Mac') != -1) return 'MacOS';\\n        else if (navigator.appVersion.indexOf('X11') != -1) return 'UNIX';\\n        else if (navigator.appVersion.indexOf('Linux') != -1) return 'Linux';\\n        return 'Unknown OS';\\n      }\\n\\n      function getBodyScale() {\\n        var scale = window.innerWidth / document.body.clientWidth;\\n        if (document.body.clientHeight * scale > window.innerHeight || document.querySelector('html').offsetHeight > window.innerHeight) {\\n          var osName = detectOS();\\n\\n          scale = parseFloat(((window.innerWidth - 20) / document.body.clientWidth).toFixed(3));\\n        }\\n\\n        return scale;\\n      }\\n\\n      function transformPage() {\\n        var scale = getBodyScale();\\n        document.body.style.transform = 'scale(' + scale + ')';\\n        document.body.style.transformOrigin = 'left top';\\n      }\\n\\n      window.addEventListener('load', transformPage);\\n      window.addEventListener('resize', transformPage);\\n\\n      setTimeout(transformPage, 500);\\n    \\n</script>\"}]","gjs-favoriteBlockTypes":"[]"},"preview":"graph","x":318,"y":-32,"scale":0.877},"inports":{},"outports":{},"groups":[],"processes":{"e9477800388e11ed8c926b8254b406ef":{"component":8536,"metadata":{"def":{"description":{"zh_CN":""},"type":12,"docUrl":"","author":"","codeName":"","codePath":"","params":{"inputData1":{"type":"string","propertyName":"dataName","defInPortUuid":"in1"},"outputData1":{"type":"string","propertyName":"dataName","defOutPortUuid":"out1"},"__cpu":{"type":"string","controlInstUuid":"system-cpu","value":"","isRequired":false},"__mem":{"type":"string","controlInstUuid":"system-mem","isRequired":false,"value":""},"__scale":{"type":"string","controlInstUuid":"system-scale","value":"","isRequired":false}},"ports":[{"uuid":"in1","description":{"en_US":"input data","zh_CN":"in1"},"display":true,"type":"data","ioType":"in","subType":"all","angle":180,"x":0,"y":45,"options":[]},{"uuid":"out1","description":{"en_US":"output data","zh_CN":"out1"},"display":true,"type":"data","ioType":"out","subType":"string","angle":0,"x":90,"y":45,"options":[]}],"actionList":[{"label":"编辑","isModal":true,"url":"{{protocol}}//{{host}}/proxr/{{userId}}/{{appId}}/{{nodeId}}/8888/"},{},{}],"dockerRepo":"data_components:3","downloadList":[{},{},{}],"watchList":[{},{},{}],"dockerCmd":"python run.py components.data.SPString.app","dockerRepoType":"[SuanpanV2]"},"ui":{"tabs":{"params":{"tabName":{"en_US":"Parameters Setting","zh_CN":"参数设置","zh":"参数设置"},"controls":[]},"tune":{"tabName":{"en_US":"Tuning","zh_CN":"执行调优","zh":"执行调优"},"controls":[{"uuid":"system-scale","type":"string","label":{"zh_CN":"启动容器数"},"placeholder":{"zh_CN":"默认自动选择"}},{"uuid":"system-cpu","type":"string","label":{"zh_CN":"每个容器cpu核数"},"placeholder":{"zh_CN":"默认自动选择"}},{"uuid":"system-mem","type":"string","label":{"zh_CN":"每个容器内存数(GB)"},"placeholder":{"zh_CN":"默认自动选择"}}]}}},"locale":"zh_CN","icon":"vial","color":"rgba(255,255,255,1)","label":"字符串","x":1028,"y":14,"type":"public_component","sublabel":"字符串","receieveMsgType":"async","width":90,"height":90,"size":"1"}},"ec6580e0388e11ed8c926b8254b406ef":{"component":11956,"metadata":{"def":{"description":{"zh_CN":""},"type":12,"docUrl":"","author":"","codeName":"","codePath":"","params":{"inputData1":{"type":"string","propertyName":"dataName","defInPortUuid":"in1"},"outputData1":{"type":"string","propertyName":"dataName","defOutPortUuid":"out1"},"__cpu":{"type":"string","controlInstUuid":"system-cpu","value":"","isRequired":false},"__mem":{"type":"string","controlInstUuid":"system-mem","isRequired":false,"value":""},"__scale":{"type":"string","controlInstUuid":"system-scale","value":"","isRequired":false},"param1":{"type":"string","controlInstUuid":"6fa18610c4b611eab9018d6fabfef260","isRequired":true,"hidden":true,"value":"image"},"__uploads":{"type":"string","controlInstUuid":"74695e80dc4811ea98b6036f75363a21","outPortUuid":"out1"}},"ports":[{"uuid":"in1","description":{"en_US":"input data","zh_CN":"in1"},"display":true,"type":"data","subType":"all","ioType":"in","angle":180,"x":0,"y":45,"options":[]},{"uuid":"out1","description":{"en_US":"output data","zh_CN":"out1"},"display":true,"type":"data","subType":"image","ioType":"out","angle":0,"x":90,"y":45,"options":[]}],"actionList":[{"url":"{{protocol}}//{{host}}/proxr/{{userId}}/{{appId}}/{{nodeId}}/8888/","label":"上传","isModal":true},{},{}],"dockerRepo":"data_components:3","downloadList":[{},{},{}],"watchList":[{},{},{}],"dockerCmd":"python run.py components.SPUploader.app"},"ui":{"tabs":{"params":{"tabName":{"en_US":"Parameters Setting","zh_CN":"参数设置","zh":"参数设置"},"controls":[{"uuid":"6fa18610c4b611eab9018d6fabfef260","type":"select","label":{"zh_CN":"文件类型"},"placeholder":{"zh_CN":"图片"},"tooltip":{"zh_CN":""},"relations":{"hide":{"operator":"=="}},"options":[{"name":{"zh_CN":"图片"},"value":"image"},{"name":{"zh_CN":"CSV"},"value":"csv"},{"name":{"zh_CN":"Excel"},"value":"excel"},{"name":{"zh_CN":"文本"},"value":"text"}]}]},"tune":{"tabName":{"en_US":"Tuning","zh_CN":"执行调优","zh":"执行调优"},"controls":[{"uuid":"system-scale","type":"string","label":{"zh_CN":"启动容器数"},"placeholder":{"zh_CN":"默认自动选择"}},{"uuid":"system-cpu","type":"string","label":{"zh_CN":"每个容器cpu核数"},"placeholder":{"zh_CN":"默认自动选择"}},{"uuid":"system-mem","type":"string","label":{"zh_CN":"每个容器内存数(GB)"},"placeholder":{"zh_CN":"默认自动选择"}}]}}},"locale":"zh_CN","icon":"cube","color":"rgba(255,255,255,1)","label":"图片上传","x":26,"y":320,"type":"public_component","sublabel":"图片上传","receieveMsgType":"sync","width":90,"height":90,"size":"1"}},"ef29a9f0388e11ed8c926b8254b406ef":{"component":5731,"metadata":{"def":{"description":{"zh_CN":"图像拆分组件，将图像拆分为多个单通道的图片"},"type":12,"docUrl":"","author":"墨文","codeName":"","codePath":"","params":{"inputData1":{"type":"string","propertyName":"dataName","defInPortUuid":"in1"},"outputData1":{"type":"string","propertyName":"dataName","defOutPortUuid":"out1"},"inputData2":{"type":"string","propertyName":"dataName","defInPortUuid":"in2"},"outputData2":{"type":"string","propertyName":"dataName","defOutPortUuid":"out2"},"outputData3":{"type":"string","propertyName":"dataName","defOutPortUuid":"out3"},"outputData4":{"type":"string","propertyName":"dataName","defOutPortUuid":"out4"},"__cpu":{"type":"string","controlInstUuid":"system-cpu","isRequired":false},"__mem":{"type":"string","controlInstUuid":"system-mem","isRequired":false},"__scale":{"type":"string","controlInstUuid":"system-scale","isRequired":false}},"ports":[{"uuid":"in1","description":{"en_US":"input data","zh_CN":"图片数据"},"display":true,"type":"data","ioType":"in","subType":"all","angle":180,"options":[]},{"uuid":"out1","description":{"en_US":"output data","zh_CN":"拆分结果1"},"display":true,"type":"data","ioType":"out","subType":"all","angle":0,"options":[],"sampleData":""},{"uuid":"out2","description":{"en_US":"input data","zh_CN":"拆分结果2"},"display":true,"ioType":"out","type":"data","subType":"all","angle":0,"options":[],"sampleData":""},{"uuid":"out3","description":{"en_US":"input data","zh_CN":"拆分结果3"},"display":true,"ioType":"out","type":"data","subType":"all","angle":0,"options":[],"sampleData":""},{"uuid":"out4","description":{"en_US":"input data","zh_CN":"拆分结果4"},"display":true,"ioType":"out","type":"data","subType":"all","angle":0,"options":[],"sampleData":""}],"actionList":[{"url":"","label":""},{},{}],"dockerRepo":"image_components:3","downloadList":[{},{},{}],"watchList":[{},{},{}],"dockerCmd":"python run.py components.basic.SPImageSplit.app","dockerRepoType":"[SuanpanV2]"},"ui":{"tabs":{"params":{"tabName":{"en_US":"Parameters Setting","zh_CN":"参数设置","zh":"参数设置"},"controls":[]},"tune":{"tabName":{"en_US":"Tuning","zh_CN":"执行调优","zh":"执行调优"},"controls":[{"uuid":"system-scale","type":"string","label":{"zh_CN":"启动容器数"},"placeholder":{"zh_CN":"默认自动选择"}},{"uuid":"system-cpu","type":"string","label":{"zh_CN":"每个容器cpu核数"},"placeholder":{"zh_CN":"默认自动选择"}},{"uuid":"system-mem","type":"string","label":{"zh_CN":"每个容器内存数(GB)"},"placeholder":{"zh_CN":"默认自动选择"}}]}}},"locale":"zh_CN","label":"图像拆分（Npy）","x":316,"y":176,"type":"public_component","sublabel":"图像拆分（Npy）","receieveMsgType":"async","width":90,"height":90,"icon":"cube","size":"1","color":"rgba(255,255,255,1)"}},"f7d33940388e11ed8c926b8254b406ef":{"component":8532,"metadata":{"def":{"description":{"zh_CN":""},"type":12,"docUrl":"","author":"","codeName":"","codePath":"","params":{"inputData1":{"type":"data","propertyName":"dataName","defInPortUuid":"in1"},"outputData1":{"type":"data","propertyName":"dataName","defOutPortUuid":"out1"},"__cpu":{"type":"string","controlInstUuid":"system-cpu","value":"","isRequired":false},"__mem":{"type":"string","controlInstUuid":"system-mem","isRequired":false,"value":""},"__scale":{"type":"string","controlInstUuid":"system-scale","value":"","isRequired":false}},"ports":[{"uuid":"in1","description":{"en_US":"input data","zh_CN":"in1"},"display":true,"type":"data","ioType":"in","subType":"all","angle":180,"x":0,"y":45,"options":["string","number","bool","json","array","system","file","npy","image","csv","model","all"]},{"uuid":"out1","description":{"en_US":"output data","zh_CN":"out1"},"display":true,"type":"data","ioType":"out","subType":"number","angle":0,"x":90,"y":45,"options":["string","number","bool","json","array","system","file","npy","image","csv","model","all"]}],"actionList":[{"label":"编辑","isModal":true,"url":"{{protocol}}//{{host}}/proxr/{{userId}}/{{appId}}/{{nodeId}}/8888/"},{},{}],"dockerRepo":"data_components:3","downloadList":[{},{},{}],"watchList":[{},{},{}],"dockerCmd":"python run.py components.data.SPNumber.app","dockerRepoType":"[SuanpanV2]"},"ui":{"tabs":{"params":{"tabName":{"en_US":"Parameters Setting","zh_CN":"参数设置","zh":"参数设置"},"controls":[]},"tune":{"tabName":{"en_US":"Tuning","zh_CN":"执行调优","zh":"执行调优"},"controls":[{"uuid":"system-scale","type":"string","label":{"zh_CN":"启动容器数"},"placeholder":{"zh_CN":"默认自动选择"}},{"uuid":"system-cpu","type":"string","label":{"zh_CN":"每个容器cpu核数"},"placeholder":{"zh_CN":"默认自动选择"}},{"uuid":"system-mem","type":"string","label":{"zh_CN":"每个容器内存数(GB)"},"placeholder":{"zh_CN":"默认自动选择"}}]}}},"locale":"zh_CN","icon":"vial","color":"rgba(255,255,255,1)","type":"public_component","receieveMsgType":"async","label":"数字","x":1028,"y":136,"sublabel":"数字","width":90,"height":90,"size":"1"}},"f94f2ae0388e11ed8c926b8254b406ef":{"component":8532,"metadata":{"def":{"description":{"zh_CN":""},"type":504,"docUrl":"","author":"","codeName":"","codePath":"","params":{"inputData1":{"type":"data","propertyName":"dataName","defInPortUuid":"in1"},"outputData1":{"type":"data","propertyName":"dataName","defOutPortUuid":"out1"},"__cpu":{"type":"string","controlInstUuid":"system-cpu","value":"","isRequired":false},"__mem":{"type":"string","controlInstUuid":"system-mem","isRequired":false,"value":""},"__scale":{"type":"string","controlInstUuid":"system-scale","value":"","isRequired":false}},"ports":[{"uuid":"in1","description":{"en_US":"input data","zh_CN":"in1"},"display":true,"type":"data","ioType":"in","subType":"all","angle":180,"x":0,"y":45,"options":["string","number","bool","json","array","system","file","npy","image","csv","model","all"]},{"uuid":"out1","description":{"en_US":"output data","zh_CN":"out1"},"display":true,"type":"data","ioType":"out","subType":"number","angle":0,"x":90,"y":45,"options":["string","number","bool","json","array","system","file","npy","image","csv","model","all"]}],"actionList":[{"label":"编辑","isModal":true,"url":"{{protocol}}//{{host}}/proxr/{{userId}}/{{appId}}/{{nodeId}}/8888/"},{},{}],"dockerRepo":"data_components:3","downloadList":[{},{},{}],"watchList":[{},{},{}],"dockerCmd":"python run.py components.data.SPNumber.app","dockerRepoType":"[SuanpanV2]"},"ui":{"tabs":{"params":{"tabName":{"en_US":"Parameters Setting","zh_CN":"参数设置","zh":"参数设置"},"controls":[]},"tune":{"tabName":{"en_US":"Tuning","zh_CN":"执行调优","zh":"执行调优"},"controls":[{"uuid":"system-scale","type":"string","label":{"zh_CN":"启动容器数"},"placeholder":{"zh_CN":"默认自动选择"}},{"uuid":"system-cpu","type":"string","label":{"zh_CN":"每个容器cpu核数"},"placeholder":{"zh_CN":"默认自动选择"}},{"uuid":"system-mem","type":"string","label":{"zh_CN":"每个容器内存数(GB)"},"placeholder":{"zh_CN":"默认自动选择"}}]}}},"locale":"zh_CN","icon":"vial","color":"rgba(255,255,255,1)","type":"public_component","receieveMsgType":"async","label":"数字","x":1028,"y":320,"sublabel":"数字","width":90,"height":90,"size":"1"}},"fb082580388e11ed8c926b8254b406ef":{"component":8536,"metadata":{"def":{"description":{"zh_CN":""},"type":12,"docUrl":"","author":"","codeName":"","codePath":"","params":{"inputData1":{"type":"string","propertyName":"dataName","defInPortUuid":"in1"},"outputData1":{"type":"string","propertyName":"dataName","defOutPortUuid":"out1"},"__cpu":{"type":"string","controlInstUuid":"system-cpu","value":"","isRequired":false},"__mem":{"type":"string","controlInstUuid":"system-mem","isRequired":false,"value":""},"__scale":{"type":"string","controlInstUuid":"system-scale","value":"","isRequired":false}},"ports":[{"uuid":"in1","description":{"en_US":"input data","zh_CN":"in1"},"display":true,"type":"data","ioType":"in","subType":"all","angle":180,"x":0,"y":45,"options":[]},{"uuid":"out1","description":{"en_US":"output data","zh_CN":"out1"},"display":true,"type":"data","ioType":"out","subType":"string","angle":0,"x":90,"y":45,"options":[]}],"actionList":[{"label":"编辑","isModal":true,"url":"{{protocol}}//{{host}}/proxr/{{userId}}/{{appId}}/{{nodeId}}/8888/"},{},{}],"dockerRepo":"data_components:3","downloadList":[{},{},{}],"watchList":[{},{},{}],"dockerCmd":"python run.py components.data.SPString.app","dockerRepoType":"[SuanpanV2]"},"ui":{"tabs":{"params":{"tabName":{"en_US":"Parameters Setting","zh_CN":"参数设置","zh":"参数设置"},"controls":[]},"tune":{"tabName":{"en_US":"Tuning","zh_CN":"执行调优","zh":"执行调优"},"controls":[{"uuid":"system-scale","type":"string","label":{"zh_CN":"启动容器数"},"placeholder":{"zh_CN":"默认自动选择"}},{"uuid":"system-cpu","type":"string","label":{"zh_CN":"每个容器cpu核数"},"placeholder":{"zh_CN":"默认自动选择"}},{"uuid":"system-mem","type":"string","label":{"zh_CN":"每个容器内存数(GB)"},"placeholder":{"zh_CN":"默认自动选择"}}]}}},"locale":"zh_CN","icon":"vial","color":"rgba(255,255,255,1)","label":"字符串","x":830,"y":520,"type":"public_component","sublabel":"字符串","receieveMsgType":"async","width":90,"height":90,"size":"1"}},"0a5ae040388f11ed8c926b8254b406ef":{"component":8538,"metadata":{"def":{"description":{"zh_CN":""},"type":502,"docUrl":"","author":"","codeName":"","codePath":"","params":{"inputData1":{"type":"string","propertyName":"dataName","defInPortUuid":"in1"},"outputData1":{"type":"string","propertyName":"dataName","defOutPortUuid":"out1"},"__cpu":{"type":"string","controlInstUuid":"system-cpu","value":"","isRequired":false},"__mem":{"type":"string","controlInstUuid":"system-mem","isRequired":false,"value":""},"__scale":{"type":"string","controlInstUuid":"system-scale","value":"","isRequired":false}},"ports":[{"uuid":"in1","description":{"en_US":"input data","zh_CN":"in1"},"display":true,"type":"data","ioType":"in","subType":"all","angle":180,"x":0,"y":45,"options":[]},{"uuid":"out1","description":{"en_US":"output data","zh_CN":"out1"},"display":true,"type":"data","ioType":"out","subType":"json","angle":0,"x":90,"y":45,"options":[]}],"actionList":[{"label":"编辑","isModal":true,"url":"{{protocol}}//{{host}}/proxr/{{userId}}/{{appId}}/{{nodeId}}/8888/"},{},{}],"dockerRepo":"data_components:3","downloadList":[{},{},{}],"watchList":[{},{},{}],"dockerCmd":"python run.py components.data.SPJson.app","dockerRepoType":"[SuanpanV2]"},"ui":{"tabs":{"params":{"tabName":{"en_US":"Parameters Setting","zh_CN":"参数设置","zh":"参数设置"},"controls":[]},"tune":{"tabName":{"en_US":"Tuning","zh_CN":"执行调优","zh":"执行调优"},"controls":[{"uuid":"system-scale","type":"string","label":{"zh_CN":"启动容器数"},"placeholder":{"zh_CN":"默认自动选择"}},{"uuid":"system-cpu","type":"string","label":{"zh_CN":"每个容器cpu核数"},"placeholder":{"zh_CN":"默认自动选择"}},{"uuid":"system-mem","type":"string","label":{"zh_CN":"每个容器内存数(GB)"},"placeholder":{"zh_CN":"默认自动选择"}}]}}},"locale":"zh_CN","icon":"vial","color":"rgba(255,255,255,1)","label":"JSON","x":7,"y":445,"type":"public_component","sublabel":"JSON","receieveMsgType":"async","width":90,"height":90,"size":"1"}},"0bbf5240388f11ed8c926b8254b406ef":{"component":12034,"metadata":{"def":{"description":{"zh_CN":"用于读取数据库，例如Mysql，Postgresql以及Hive等"},"type":12,"docUrl":"https://xuelangyun.yuque.com/docs/share/85da38a0-7977-4971-815a-2c2423b05de5?# 《数据库读取组件》","author":"墨文","codeName":"","codePath":"","params":{"outputData1":{"type":"data","propertyName":"dataName","defOutPortUuid":"out1"},"inputData1":{"type":"data","propertyName":"dataName","defInPortUuid":"in1"},"__cpu":{"type":"string","controlInstUuid":"system-cpu","isRequired":false},"__mem":{"type":"string","controlInstUuid":"system-mem","isRequired":false},"__scale":{"type":"string","controlInstUuid":"system-scale","isRequired":false},"outputData2":{"type":"string","propertyName":"dataName","defOutPortUuid":"out2"}},"ports":[{"uuid":"in1","description":{"en_US":"input data","zh_CN":"in1"},"display":true,"type":"data","ioType":"in","subType":"all","angle":180,"x":0,"y":45,"options":["string","number","bool","json","array","system","file","npy","image","csv","model","all"]},{"uuid":"out1","description":{"en_US":"output data","zh_CN":"out1"},"display":true,"type":"data","ioType":"out","subType":"csv","angle":0,"x":90,"y":45,"options":["string","number","bool","json","array","system","file","npy","image","csv","model","all"],"sampleData":""},{"uuid":"out2","id":"8708b6203a1611edab7f4744ffa9fb41","description":{"en_US":"out2","zh_CN":"out2"},"display":true,"ioType":"out","type":"data","subType":"string","sampleData":"","angle":0,"options":[]}],"actionList":[{"label":"操作页面","url":"{{protocol}}//{{host}}/proxr/{{userId}}/{{appId}}/{{nodeId}}/8888/"},{},{}],"dockerRepo":"database-source-components:3","downloadList":[{},{},{}],"watchList":[{},{},{}],"dockerCmd":"python run.py components.source.database.app","dockerRepoType":"[SuanpanV2]"},"ui":{"tabs":{"params":{"tabName":{"en_US":"Parameters Setting","zh_CN":"参数设置","zh":"参数设置"},"controls":[]},"tune":{"tabName":{"en_US":"Tuning","zh_CN":"执行调优","zh":"执行调优"},"controls":[{"uuid":"system-scale","type":"string","label":{"zh_CN":"启动容器数"},"placeholder":{"zh_CN":"默认自动选择"}},{"uuid":"system-cpu","type":"string","label":{"zh_CN":"每个容器cpu核数"},"placeholder":{"zh_CN":"默认自动选择"}},{"uuid":"system-mem","type":"string","label":{"zh_CN":"每个容器内存数(GB)"},"placeholder":{"zh_CN":"默认自动选择"}}]}}},"locale":"zh_CN","icon":"database","nodeStyle":"cyan","color":"rgba(19,181,177,1)","receieveMsgType":"async","type":"public_component","label":"数据库读取","x":4,"y":607,"sublabel":"数据库读取","width":90,"height":90,"size":"1"}},"0e1c06f0388f11ed8c926b8254b406ef":{"component":8538,"metadata":{"def":{"description":{"zh_CN":""},"type":12,"docUrl":"","author":"","codeName":"","codePath":"","params":{"inputData1":{"type":"string","propertyName":"dataName","defInPortUuid":"in1"},"outputData1":{"type":"string","propertyName":"dataName","defOutPortUuid":"out1"},"__cpu":{"type":"string","controlInstUuid":"system-cpu","isRequired":false},"__mem":{"type":"string","controlInstUuid":"system-mem","isRequired":false},"__scale":{"type":"string","controlInstUuid":"system-scale","isRequired":false},"inputData2":{"type":"string","propertyName":"dataName","defInPortUuid":"in2"}},"ports":[{"uuid":"in1","description":{"en_US":"input data","zh_CN":"in1"},"display":true,"type":"data","ioType":"in","subType":"all","angle":180,"x":0,"y":45,"options":[]},{"uuid":"out1","description":{"en_US":"output data","zh_CN":"out1"},"display":true,"type":"data","ioType":"out","subType":"json","angle":0,"x":90,"y":45,"options":[],"sampleData":""},{"uuid":"in2","id":"811916b03a1611edab7f4744ffa9fb41","description":{"en_US":"in2","zh_CN":"in2"},"display":true,"ioType":"in","type":"data","subType":"string","angle":180,"options":[]}],"actionList":[{"label":"编辑","isModal":true,"url":"{{protocol}}//{{host}}/proxr/{{userId}}/{{appId}}/{{nodeId}}/8888/"},{},{}],"dockerRepo":"data_components:3","downloadList":[{},{},{}],"watchList":[{},{},{}],"dockerCmd":"python run.py components.data.SPJson.app","dockerRepoType":"[SuanpanV2]"},"ui":{"tabs":{"params":{"tabName":{"en_US":"Parameters Setting","zh_CN":"参数设置","zh":"参数设置"},"controls":[]},"tune":{"tabName":{"en_US":"Tuning","zh_CN":"执行调优","zh":"执行调优"},"controls":[{"uuid":"system-scale","type":"string","label":{"zh_CN":"启动容器数"},"placeholder":{"zh_CN":"默认自动选择"}},{"uuid":"system-cpu","type":"string","label":{"zh_CN":"每个容器cpu核数"},"placeholder":{"zh_CN":"默认自动选择"}},{"uuid":"system-mem","type":"string","label":{"zh_CN":"每个容器内存数(GB)"},"placeholder":{"zh_CN":"默认自动选择"}}]}}},"locale":"zh_CN","icon":"vial","color":"rgba(255,255,255,1)","label":"JSON","x":397,"y":607,"type":"public_component","sublabel":"JSON","receieveMsgType":"async","width":90,"height":90,"size":"1"}},"21cb16f0388f11ed8c926b8254b406ef":{"component":11959,"metadata":{"def":{"description":{"zh_CN":""},"type":12,"docUrl":"","author":"","codeName":"","codePath":"","params":{"inputData1":{"type":"string","propertyName":"dataName","defInPortUuid":"in1"},"outputData1":{"type":"string","propertyName":"dataName","defOutPortUuid":"out1"},"__cpu":{"type":"string","controlInstUuid":"system-cpu","value":"","isRequired":false},"__mem":{"type":"string","controlInstUuid":"system-mem","isRequired":false,"value":""},"__scale":{"type":"string","controlInstUuid":"system-scale","value":"","isRequired":false},"param1":{"type":"string","controlInstUuid":"6fa18610c4b611eab9018d6fabfef260","isRequired":true,"hidden":true,"value":"text"}},"ports":[{"uuid":"in1","description":{"en_US":"input data","zh_CN":"in1"},"display":true,"type":"data","subType":"all","ioType":"in","angle":180,"x":0,"y":45,"options":[]},{"uuid":"out1","description":{"en_US":"output data","zh_CN":"out1"},"display":true,"type":"data","subType":"string","ioType":"out","angle":0,"x":90,"y":45,"options":[]}],"actionList":[{"url":"{{protocol}}//{{host}}/proxr/{{userId}}/{{appId}}/{{nodeId}}/8888/","label":"上传","isModal":true},{},{}],"dockerRepo":"data_components:3","downloadList":[{},{},{}],"watchList":[{},{},{}],"dockerCmd":"python run.py components.SPUploader.app"},"ui":{"tabs":{"params":{"tabName":{"en_US":"Parameters Setting","zh_CN":"参数设置","zh":"参数设置"},"controls":[{"uuid":"6fa18610c4b611eab9018d6fabfef260","type":"select","label":{"zh_CN":"文件类型"},"placeholder":{"zh_CN":"图片"},"tooltip":{"zh_CN":""},"relations":{"hide":{"operator":"=="}},"options":[{"name":{"zh_CN":"图片"},"value":"image"},{"name":{"zh_CN":"CSV"},"value":"csv"},{"name":{"zh_CN":"Excel"},"value":"excel"},{"name":{"zh_CN":"文本"},"value":"text"}]}]},"tune":{"tabName":{"en_US":"Tuning","zh_CN":"执行调优","zh":"执行调优"},"controls":[{"uuid":"system-scale","type":"string","label":{"zh_CN":"启动容器数"},"placeholder":{"zh_CN":"默认自动选择"}},{"uuid":"system-cpu","type":"string","label":{"zh_CN":"每个容器cpu核数"},"placeholder":{"zh_CN":"默认自动选择"}},{"uuid":"system-mem","type":"string","label":{"zh_CN":"每个容器内存数(GB)"},"placeholder":{"zh_CN":"默认自动选择"}}]}}},"locale":"zh_CN","icon":"cube","color":"rgba(255,255,255,1)","label":"文本上传","x":707,"y":679,"type":"public_component","sublabel":"文本上传","receieveMsgType":"async","width":90,"height":90,"size":"1"}},"95e62ef03a1811edab7f4744ffa9fb41":{"component":8538,"metadata":{"def":{"description":{"zh_CN":""},"type":12,"docUrl":"","author":"","codeName":"","codePath":"","params":{"inputData1":{"type":"string","propertyName":"dataName","defInPortUuid":"in1"},"outputData1":{"type":"string","propertyName":"dataName","defOutPortUuid":"out1"},"__cpu":{"type":"string","controlInstUuid":"system-cpu","isRequired":false},"__mem":{"type":"string","controlInstUuid":"system-mem","isRequired":false},"__scale":{"type":"string","controlInstUuid":"system-scale","isRequired":false}},"ports":[{"uuid":"in1","description":{"en_US":"input data","zh_CN":"in1"},"display":true,"type":"data","ioType":"in","subType":"all","angle":180,"x":0,"y":45,"options":[]},{"uuid":"out1","description":{"en_US":"output data","zh_CN":"out1"},"display":true,"type":"data","ioType":"out","subType":"all","angle":0,"x":90,"y":45,"options":[],"sampleData":""}],"actionList":[{"label":"编辑","isModal":true,"url":"{{protocol}}//{{host}}/proxr/{{userId}}/{{appId}}/{{nodeId}}/8888/"},{},{}],"dockerRepo":"data_components:3","downloadList":[{},{},{}],"watchList":[{},{},{}],"dockerCmd":"python run.py components.data.SPJson.app","dockerRepoType":"[SuanpanV2]"},"ui":{"tabs":{"params":{"tabName":{"en_US":"Parameters Setting","zh_CN":"参数设置","zh":"参数设置"},"controls":[]},"tune":{"tabName":{"en_US":"Tuning","zh_CN":"执行调优","zh":"执行调优"},"controls":[{"uuid":"system-scale","type":"string","label":{"zh_CN":"启动容器数"},"placeholder":{"zh_CN":"默认自动选择"}},{"uuid":"system-cpu","type":"string","label":{"zh_CN":"每个容器cpu核数"},"placeholder":{"zh_CN":"默认自动选择"}},{"uuid":"system-mem","type":"string","label":{"zh_CN":"每个容器内存数(GB)"},"placeholder":{"zh_CN":"默认自动选择"}}]}}},"locale":"zh_CN","icon":"vial","color":"rgba(255,255,255,1)","label":"JSON","x":220,"y":973,"type":"public_component","sublabel":"JSON","receieveMsgType":"async","width":90,"height":90,"size":"1"}},"7636f7b03a7211edab7f4744ffa9fb41":{"component":5573,"metadata":{"def":{"description":{"zh_CN":"灰度图片二值化"},"type":12,"docUrl":"","author":"墨文","codeName":"","codePath":"","params":{"inputData1":{"type":"string","propertyName":"dataName","defInPortUuid":"in1"},"outputData1":{"type":"string","propertyName":"dataName","defOutPortUuid":"out1"},"__cpu":{"type":"string","controlInstUuid":"system-cpu","value":"","isRequired":false},"__mem":{"type":"string","controlInstUuid":"system-mem","isRequired":false,"value":""},"__scale":{"type":"string","controlInstUuid":"system-scale","value":"","isRequired":false},"param1":{"type":"string","controlInstUuid":"828b9aa00a7511ea85daf765d1ef026c"},"param2":{"type":"string","controlInstUuid":"88d25ac00a7511ea85daf765d1ef026c"},"param3":{"type":"string","controlInstUuid":"90c851800a7511ea85daf765d1ef026c"}},"ports":[{"uuid":"in1","description":{"en_US":"input data","zh_CN":"输入图片"},"display":true,"ioType":"in","type":"data","subType":"all","angle":180,"options":[]},{"uuid":"out1","description":{"en_US":"output data","zh_CN":"输出图片"},"display":true,"ioType":"out","type":"data","subType":"all","angle":0,"options":[]}],"actionList":[{"port":"8000","label":"调试页面","url":"{{protocol}}//{{host}}/proxr/{{userId}}/{{appId}}/{{nodeId}}/8888/"},{},{}],"dockerRepo":"image_components:3","downloadList":[{},{},{}],"watchList":[{},{},{}],"dockerCmd":"cp -r /home/suanpan/web /dev/shm/web && python run.py components.thresholding.SPThresholdingNpy.app","dockerRepoType":"[SuanpanV2]"},"ui":{"tabs":{"params":{"tabName":{"en_US":"Parameters Setting","zh_CN":"参数设置","zh":"参数设置"},"controls":[{"uuid":"828b9aa00a7511ea85daf765d1ef026c","type":"float","label":{"zh_CN":"阈值"},"placeholder":{"zh_CN":"0"},"tooltip":{"zh_CN":""},"relations":{"hide":{"operator":"=="}}},{"uuid":"88d25ac00a7511ea85daf765d1ef026c","type":"float","label":{"zh_CN":"最大值"},"placeholder":{"zh_CN":"255"},"tooltip":{"zh_CN":""},"relations":{"hide":{"operator":"=="}}},{"uuid":"90c851800a7511ea85daf765d1ef026c","type":"select","label":{"zh_CN":"阈值类型"},"placeholder":{"zh_CN":"THRESH_BINARY"},"tooltip":{"zh_CN":""},"options":[{"name":{"zh_CN":"THRESH_BINARY"},"value":"THRESH_BINARY"},{"name":{"zh_CN":"THRESH_BINARY_INV"},"value":"THRESH_BINARY_INV"},{"name":{"zh_CN":"THRESH_TRUNC"},"value":"THRESH_TRUNC"},{"name":{"zh_CN":"THRESH_TOZERO"},"value":"THRESH_TOZERO"},{"name":{"zh_CN":"THRESH_TOZERO_INV"},"value":"THRESH_TOZERO_INV"},{"name":{"zh_CN":"THRESH_MASK"},"value":"THRESH_MASK"},{"name":{"zh_CN":"THRESH_OTSU"},"value":"THRESH_OTSU"},{"name":{"zh_CN":"THRESH_TRIANGLE"},"value":"THRESH_TRIANGLE"}],"relations":{"hide":{"operator":"=="}}}]},"tune":{"tabName":{"en_US":"Tuning","zh_CN":"执行调优","zh":"执行调优"},"controls":[{"uuid":"system-scale","type":"string","label":{"zh_CN":"启动容器数"},"placeholder":{"zh_CN":"默认自动选择"}},{"uuid":"system-cpu","type":"string","label":{"zh_CN":"每个容器cpu核数"},"placeholder":{"zh_CN":"默认自动选择"}},{"uuid":"system-mem","type":"string","label":{"zh_CN":"每个容器内存数(GB)"},"placeholder":{"zh_CN":"默认自动选择"}}]}}},"locale":"zh_CN","icon":"adjust","label":"阈值二值化（Npy）","x":-180,"y":1252,"type":"public_component","sublabel":"阈值二值化（Npy）","receieveMsgType":"async","width":90,"height":90,"size":"1","color":"rgba(255,255,255,1)"}},"790029d03a7211edab7f4744ffa9fb41":{"component":8538,"metadata":{"def":{"description":{"zh_CN":""},"type":12,"docUrl":"","author":"","codeName":"","codePath":"","params":{"inputData1":{"type":"string","propertyName":"dataName","defInPortUuid":"in1"},"outputData1":{"type":"string","propertyName":"dataName","defOutPortUuid":"out1"},"__cpu":{"type":"string","controlInstUuid":"system-cpu","isRequired":false},"__mem":{"type":"string","controlInstUuid":"system-mem","isRequired":false},"__scale":{"type":"string","controlInstUuid":"system-scale","isRequired":false},"inputData2":{"type":"string","propertyName":"dataName","defInPortUuid":"in2"},"outputData2":{"type":"string","propertyName":"dataName","defOutPortUuid":"out2"}},"ports":[{"uuid":"in1","description":{"en_US":"input data","zh_CN":"in1"},"display":true,"type":"data","ioType":"in","subType":"all","angle":180,"x":0,"y":45,"options":[]},{"uuid":"out1","description":{"en_US":"output data","zh_CN":"out1"},"display":true,"type":"data","ioType":"out","subType":"all","angle":0,"x":90,"y":45,"options":[],"sampleData":""},{"uuid":"in2","id":"7deb2a803a7211edab7f4744ffa9fb41","description":{"en_US":"in2","zh_CN":"in2"},"display":true,"ioType":"in","type":"data","subType":"string","angle":180,"options":[]},{"uuid":"out2","id":"f923d0303a7211edab7f4744ffa9fb41","description":{"en_US":"out2","zh_CN":"out2"},"display":true,"ioType":"out","type":"data","subType":"string","sampleData":"","angle":0}],"actionList":[{"label":"编辑","isModal":true,"url":"{{protocol}}//{{host}}/proxr/{{userId}}/{{appId}}/{{nodeId}}/8888/"},{},{}],"dockerRepo":"data_components:3","downloadList":[{},{},{}],"watchList":[{},{},{}],"dockerCmd":"python run.py components.data.SPJson.app","dockerRepoType":"[SuanpanV2]"},"ui":{"tabs":{"params":{"tabName":{"en_US":"Parameters Setting","zh_CN":"参数设置","zh":"参数设置"},"controls":[]},"tune":{"tabName":{"en_US":"Tuning","zh_CN":"执行调优","zh":"执行调优"},"controls":[{"uuid":"system-scale","type":"string","label":{"zh_CN":"启动容器数"},"placeholder":{"zh_CN":"默认自动选择"}},{"uuid":"system-cpu","type":"string","label":{"zh_CN":"每个容器cpu核数"},"placeholder":{"zh_CN":"默认自动选择"}},{"uuid":"system-mem","type":"string","label":{"zh_CN":"每个容器内存数(GB)"},"placeholder":{"zh_CN":"默认自动选择"}}]}}},"locale":"zh_CN","icon":"vial","color":"rgba(255,255,255,1)","label":"JSON","x":26,"y":1255,"type":"public_component","sublabel":"JSON","receieveMsgType":"async","width":90,"height":90,"size":"1"}},"fa2bca503a7211edab7f4744ffa9fb41":{"component":5573,"metadata":{"def":{"description":{"zh_CN":"灰度图片二值化"},"type":12,"docUrl":"","author":"墨文","codeName":"","codePath":"","params":{"inputData1":{"type":"string","propertyName":"dataName","defInPortUuid":"in1"},"outputData1":{"type":"string","propertyName":"dataName","defOutPortUuid":"out1"},"__cpu":{"type":"string","controlInstUuid":"system-cpu","value":"","isRequired":false},"__mem":{"type":"string","controlInstUuid":"system-mem","isRequired":false,"value":""},"__scale":{"type":"string","controlInstUuid":"system-scale","value":"","isRequired":false},"param1":{"type":"string","controlInstUuid":"828b9aa00a7511ea85daf765d1ef026c"},"param2":{"type":"string","controlInstUuid":"88d25ac00a7511ea85daf765d1ef026c"},"param3":{"type":"string","controlInstUuid":"90c851800a7511ea85daf765d1ef026c"}},"ports":[{"uuid":"in1","description":{"en_US":"input data","zh_CN":"输入图片"},"display":true,"ioType":"in","type":"data","subType":"all","angle":180,"options":[]},{"uuid":"out1","description":{"en_US":"output data","zh_CN":"输出图片"},"display":true,"ioType":"out","type":"data","subType":"all","angle":0,"options":[]}],"actionList":[{"port":"8000","label":"调试页面","url":"{{protocol}}//{{host}}/proxr/{{userId}}/{{appId}}/{{nodeId}}/8888/"},{},{}],"dockerRepo":"image_components:3","downloadList":[{},{},{}],"watchList":[{},{},{}],"dockerCmd":"cp -r /home/suanpan/web /dev/shm/web && python run.py components.thresholding.SPThresholdingNpy.app","dockerRepoType":"[SuanpanV2]"},"ui":{"tabs":{"params":{"tabName":{"en_US":"Parameters Setting","zh_CN":"参数设置","zh":"参数设置"},"controls":[{"uuid":"828b9aa00a7511ea85daf765d1ef026c","type":"float","label":{"zh_CN":"阈值"},"placeholder":{"zh_CN":"0"},"tooltip":{"zh_CN":""},"relations":{"hide":{"operator":"=="}}},{"uuid":"88d25ac00a7511ea85daf765d1ef026c","type":"float","label":{"zh_CN":"最大值"},"placeholder":{"zh_CN":"255"},"tooltip":{"zh_CN":""},"relations":{"hide":{"operator":"=="}}},{"uuid":"90c851800a7511ea85daf765d1ef026c","type":"select","label":{"zh_CN":"阈值类型"},"placeholder":{"zh_CN":"THRESH_BINARY"},"tooltip":{"zh_CN":""},"options":[{"name":{"zh_CN":"THRESH_BINARY"},"value":"THRESH_BINARY"},{"name":{"zh_CN":"THRESH_BINARY_INV"},"value":"THRESH_BINARY_INV"},{"name":{"zh_CN":"THRESH_TRUNC"},"value":"THRESH_TRUNC"},{"name":{"zh_CN":"THRESH_TOZERO"},"value":"THRESH_TOZERO"},{"name":{"zh_CN":"THRESH_TOZERO_INV"},"value":"THRESH_TOZERO_INV"},{"name":{"zh_CN":"THRESH_MASK"},"value":"THRESH_MASK"},{"name":{"zh_CN":"THRESH_OTSU"},"value":"THRESH_OTSU"},{"name":{"zh_CN":"THRESH_TRIANGLE"},"value":"THRESH_TRIANGLE"}],"relations":{"hide":{"operator":"=="}}}]},"tune":{"tabName":{"en_US":"Tuning","zh_CN":"执行调优","zh":"执行调优"},"controls":[{"uuid":"system-scale","type":"string","label":{"zh_CN":"启动容器数"},"placeholder":{"zh_CN":"默认自动选择"}},{"uuid":"system-cpu","type":"string","label":{"zh_CN":"每个容器cpu核数"},"placeholder":{"zh_CN":"默认自动选择"}},{"uuid":"system-mem","type":"string","label":{"zh_CN":"每个容器内存数(GB)"},"placeholder":{"zh_CN":"默认自动选择"}}]}}},"locale":"zh_CN","icon":"adjust","label":"阈值二值化（Npy）","x":200,"y":1252,"type":"public_component","sublabel":"阈值二值化（Npy）","receieveMsgType":"async","width":90,"height":90,"size":"1","color":"rgba(255,255,255,1)"}}},"connections":[{"src":{"process":"ef29a9f0388e11ed8c926b8254b406ef","port":"out1"},"tgt":{"process":"e9477800388e11ed8c926b8254b406ef","port":"in1"},"metadata":{"path":"M413,194 L429,194 L715.5,194 L715.5,59 L1002,59 L1018,59","custom":false}},{"src":{"process":"ef29a9f0388e11ed8c926b8254b406ef","port":"out1"},"tgt":{"process":"f7d33940388e11ed8c926b8254b406ef","port":"in1"},"metadata":{"path":"M413,194 L429,194 L715.5,194 L715.5,181 L1002,181 L1018,181","custom":false}},{"src":{"process":"ef29a9f0388e11ed8c926b8254b406ef","port":"out1"},"tgt":{"process":"f94f2ae0388e11ed8c926b8254b406ef","port":"in1"},"metadata":{"path":"M413,194 L429,194 L715.5,194 L715.5,365 L1002,365 L1018,365","custom":false}},{"src":{"process":"ef29a9f0388e11ed8c926b8254b406ef","port":"out4"},"tgt":{"process":"fb082580388e11ed8c926b8254b406ef","port":"in1"},"metadata":{"path":"M413,248 L429,248 L616.5,248 L616.5,565 L804,565 L820,565","custom":false}},{"src":{"process":"ec6580e0388e11ed8c926b8254b406ef","port":"out1"},"tgt":{"process":"0e1c06f0388f11ed8c926b8254b406ef","port":"in1"},"metadata":{"path":"M123,365 L139,365 L255,365 L255,637 L371,637 L387,637","custom":false}},{"src":{"process":"0bbf5240388f11ed8c926b8254b406ef","port":"out1"},"tgt":{"process":"0e1c06f0388f11ed8c926b8254b406ef","port":"in1"},"metadata":{"path":"M101,637 L117,637 L244,637 L244,637 L371,637 L387,637","custom":false}},{"src":{"process":"0a5ae040388f11ed8c926b8254b406ef","port":"out1"},"tgt":{"process":"0e1c06f0388f11ed8c926b8254b406ef","port":"in1"},"metadata":{"path":"M104,490 L120,490 L245.5,490 L245.5,637 L371,637 L387,637","custom":false}},{"src":{"process":"0e1c06f0388f11ed8c926b8254b406ef","port":"out1"},"tgt":{"process":"21cb16f0388f11ed8c926b8254b406ef","port":"in1"},"metadata":{"path":"M494,652 L510,652 L595.5,652 L595.5,724 L681,724 L697,724","custom":false}},{"src":{"process":"0bbf5240388f11ed8c926b8254b406ef","port":"out2"},"tgt":{"process":"0e1c06f0388f11ed8c926b8254b406ef","port":"in2"},"metadata":{"path":"M101,667 L117,667 L244,667 L244,667 L371,667 L387,667","custom":false}},{"src":{"process":"95e62ef03a1811edab7f4744ffa9fb41","port":"out1"},"tgt":{"process":"0e1c06f0388f11ed8c926b8254b406ef","port":"in2"},"metadata":{"path":"M317,1018 L333,1018 L352,1018 L352,667 L371,667 L387,667","custom":false}},{"src":{"process":"7636f7b03a7211edab7f4744ffa9fb41","port":"out1"},"tgt":{"process":"790029d03a7211edab7f4744ffa9fb41","port":"in1"},"metadata":{"path":"M-83,1297 L-67,1297 L-33.5,1297 L-33.5,1285 L0,1285 L16,1285","custom":false}},{"src":{"process":"7636f7b03a7211edab7f4744ffa9fb41","port":"out1"},"tgt":{"process":"790029d03a7211edab7f4744ffa9fb41","port":"in2"},"metadata":{"path":"M-83,1297 L-67,1297 L-33.5,1297 L-33.5,1315 L0,1315 L16,1315","custom":false}},{"src":{"process":"790029d03a7211edab7f4744ffa9fb41","port":"out1"},"tgt":{"process":"fa2bca503a7211edab7f4744ffa9fb41","port":"in1"},"metadata":{"path":"M123,1285 L139,1285 L156.5,1285 L156.5,1297 L174,1297 L190,1297","custom":false}},{"src":{"process":"790029d03a7211edab7f4744ffa9fb41","port":"out2"},"tgt":{"process":"fa2bca503a7211edab7f4744ffa9fb41","port":"in1"},"metadata":{"path":"M123,1315 L139,1315 L156.5,1315 L156.5,1297 L174,1297 L190,1297","custom":false}}],"timestamp":1663850108426}}
    "#;

    const SINGLE_NODE_GRAPH: &'static str = r#"
    {"success":true,"data":{"caseSensitive":false,"properties":{"predictConfig":{"isolationMode":"v2"},"globalVars":[{"id":"e246d21068dc11ee97d6ff3d15daa880"},{"id":"e246d21168dc11ee97d6ff3d15daa880"},{"id":"e246d21268dc11ee97d6ff3d15daa880"}],"dashboardConfig":{"gjs-html":"<script>\n\n      function detectOS() {\n        if (navigator.appVersion.indexOf('Win') != -1) return 'Windows';\n        else if (navigator.appVersion.indexOf('Mac') != -1) return 'MacOS';\n        else if (navigator.appVersion.indexOf('X11') != -1) return 'UNIX';\n        else if (navigator.appVersion.indexOf('Linux') != -1) return 'Linux';\n        return 'Unknown OS';\n      }\n\n      function getBodyScale() {\n        var scale = window.innerWidth / document.body.clientWidth;\n        if (document.body.clientHeight * scale > window.innerHeight || document.querySelector('html').offsetHeight > window.innerHeight) {\n          var osName = detectOS();\n\n          scale = parseFloat(((window.innerWidth - 20) / document.body.clientWidth).toFixed(3));\n        }\n\n        return scale;\n      }\n\n      function transformPage() {\n        var scale = getBodyScale();\n        document.body.style.transform = 'scale(' + scale + ')';\n        document.body.style.transformOrigin = 'left top';\n      }\n\n      window.addEventListener('load', transformPage);\n      window.addEventListener('resize', transformPage);\n\n      setTimeout(transformPage, 500);\n    \n</script><script>\n\n      \n  if (window.spSocket) {\n    function nav(url, isNewWindow) {\n      if (isNewWindow) {\n        window.open(url, '_blank');\n      } else {\n        window.location.href = url;\n      }\n    }\n\n    window.spSocket.subscribe({ eventName: 'dashboard', callback: function(data) {\n      if (!data) return;\n\n      switch(data.type) {\n        \n      case 'dashboard.dom.updateAttr':\n        var $comp = $(data.selector);\n\n        if ($comp) {\n          if (data.attrs && data.attrs instanceof Array) {\n            data.attrs.forEach(function(attr) {\n              Object.keys(attr).forEach(function(key) {\n                $comp.attr(key, attr[key]);\n              });\n            });\n          }\n        }\n        break;\n\n    ;\n        \n    case 'dashboard.window.eval':\n      var handleEvalResult = function(event) {\n        if (event.data && event.data.type && event.data.type === \"dashboard.window.eval\") {\n          if (event.data.err) {\n            window.spSocket.send({ eventName: \"dashboard\", data: { type: \"dashboard.window.evalResponse\", err: event.data.err } });\n            return;\n          }\n          window.spSocket.send({ eventName: \"dashboard\", data: { type: \"dashboard.window.evalResponse\", data: event.data.data } });\n        }\n      }\n  \n      var propertiesToCover = [\"location\"];\n      var createSandboxContext = function(srcObj, propertiesToCover) {\n        var context = {};\n        Object.keys(srcObj).forEach(function (key) {\n          if (srcObj.hasOwnProperty(key) && propertiesToCover.indexOf(key) > -1) {\n            context[key] = srcObj[key];\n          }\n        });\n        return context;\n      }\n\n      var createIframe = function() {\n        var $iframe = document.getElementById(\"dashboard-sandbox\");\n        if (!$iframe) {\n          $iframe = document.createElement(\"iframe\");\n          $iframe.setAttribute(\"id\", \"dashboard-sandbox\");\n          $iframe.setAttribute(\"sandbox\", \"allow-same-origin allow-scripts\");\n          $iframe.style.display = \"none\";\n        }\n        $iframe.innerHTML = \"\";\n\n        return $iframe;\n      };\n\n      var initializeSandbox = function(code) {\n        // var $iframe = createIframe();\n        var $script = document.getElementById('sandbox');\n\n        if (!$script) {\n          $script = document.createElement(\"script\");\n          $script.setAttribute('id', 'sandbox');\n        }\n\n        $script.innerText = '(function() { return eval(' + code + ') })()';\n\n        document.body.appendChild($script);\n\n        // $iframe.contentWindow.addEventListener(\"message\", handleEvalResult, false);\n        // $iframe.contentWindow.sandboxContext = createSandboxContext(window, propertiesToCover);\n        // $iframe.contentDocument.body.appendChild($script);\n      }\n\n      initializeSandbox(data.code);\n      break;\n\n  ;\n        \n    case 'dashboard.component.show':\n      var $comp = $('#' + data.componentId);\n      if ($comp) {\n          $comp.show();\n      }\n      break;\n\n  ;\n        \n    case 'dashboard.component.hide':\n      var $comp = $('#' + data.componentId);\n      if ($comp) {\n          $comp.hide();\n      }\n      break;\n\n  ;\n        \n    case 'dashboard.component.loading.start':\n      var $comp = $(data.selector);\n      if ($comp && !$comp.children('.loader').length) {\n          $comp.prepend('<div class=\"loader\"><span class=\"dot\"></span><span class=\"dot\"></span><span class=\"dot\"></span><span class=\"dot\"></span><span class=\"dot\"></span></div>');\n      }\n      break;\n\n    case 'dashboard.component.loading.end':\n      var $comp = $(data.selector);\n      if ($comp && $comp.children('.loader').length) {\n          $comp.children('.loader').remove();\n      }\n      break;\n\n  ;\n      }\n    }});\n\n    window.addEventListener('load', function() {\n      if (window.ee) {\n        window.ee.emit('resize-onload');\n      }\n    });\n  }\n\n    \n</script><script>\n\n      function detectOS() {\n        if (navigator.appVersion.indexOf('Win') != -1) return 'Windows';\n        else if (navigator.appVersion.indexOf('Mac') != -1) return 'MacOS';\n        else if (navigator.appVersion.indexOf('X11') != -1) return 'UNIX';\n        else if (navigator.appVersion.indexOf('Linux') != -1) return 'Linux';\n        return 'Unknown OS';\n      }\n\n      function getBodyScale() {\n        var scale = window.innerWidth / document.body.clientWidth;\n        if (document.body.clientHeight * scale > window.innerHeight || document.querySelector('html').offsetHeight > window.innerHeight) {\n          var osName = detectOS();\n\n          scale = parseFloat(((window.innerWidth - 20) / document.body.clientWidth).toFixed(3));\n        }\n\n        return scale;\n      }\n\n      function transformPage() {\n        var scale = getBodyScale();\n        document.body.style.transform = 'scale(' + scale + ')';\n        document.body.style.transformOrigin = 'left top';\n      }\n\n      window.addEventListener('load', transformPage);\n      window.addEventListener('resize', transformPage);\n\n      setTimeout(transformPage, 500);\n    \n</script>","gjs-components":"[{\"tagName\":\"script\",\"type\":\"sp-code\",\"badgable\":false,\"content\":\"\\n      function detectOS() {\\n        if (navigator.appVersion.indexOf('Win') != -1) return 'Windows';\\n        else if (navigator.appVersion.indexOf('Mac') != -1) return 'MacOS';\\n        else if (navigator.appVersion.indexOf('X11') != -1) return 'UNIX';\\n        else if (navigator.appVersion.indexOf('Linux') != -1) return 'Linux';\\n        return 'Unknown OS';\\n      }\\n\\n      function getBodyScale() {\\n        var scale = window.innerWidth / document.body.clientWidth;\\n        if (document.body.clientHeight * scale > window.innerHeight || document.querySelector('html').offsetHeight > window.innerHeight) {\\n          var osName = detectOS();\\n\\n          scale = parseFloat(((window.innerWidth - 20) / document.body.clientWidth).toFixed(3));\\n        }\\n\\n        return scale;\\n      }\\n\\n      function transformPage() {\\n        var scale = getBodyScale();\\n        document.body.style.transform = 'scale(' + scale + ')';\\n        document.body.style.transformOrigin = 'left top';\\n      }\\n\\n      window.addEventListener('load', transformPage);\\n      window.addEventListener('resize', transformPage);\\n\\n      setTimeout(transformPage, 500);\\n    \",\"classes\":[{\"name\":\"sp-page-adaptor\",\"label\":\"sp-page-adaptor\",\"type\":1,\"active\":true,\"private\":true,\"protected\":false}],\"open\":false},{\"tagName\":\"script\",\"type\":\"sp-code\",\"badgable\":false,\"content\":\"\\n      \\n  if (window.spSocket) {\\n    function nav(url, isNewWindow) {\\n      if (isNewWindow) {\\n        window.open(url, '_blank');\\n      } else {\\n        window.location.href = url;\\n      }\\n    }\\n\\n    window.spSocket.subscribe({ eventName: 'dashboard', callback: function(data) {\\n      if (!data) return;\\n\\n      switch(data.type) {\\n        \\n      case 'dashboard.dom.updateAttr':\\n        var $comp = $(data.selector);\\n\\n        if ($comp) {\\n          if (data.attrs && data.attrs instanceof Array) {\\n            data.attrs.forEach(function(attr) {\\n              Object.keys(attr).forEach(function(key) {\\n                $comp.attr(key, attr[key]);\\n              });\\n            });\\n          }\\n        }\\n        break;\\n\\n    ;\\n        \\n    case 'dashboard.window.eval':\\n      var handleEvalResult = function(event) {\\n        if (event.data && event.data.type && event.data.type === \\\"dashboard.window.eval\\\") {\\n          if (event.data.err) {\\n            window.spSocket.send({ eventName: \\\"dashboard\\\", data: { type: \\\"dashboard.window.evalResponse\\\", err: event.data.err } });\\n            return;\\n          }\\n          window.spSocket.send({ eventName: \\\"dashboard\\\", data: { type: \\\"dashboard.window.evalResponse\\\", data: event.data.data } });\\n        }\\n      }\\n  \\n      var propertiesToCover = [\\\"location\\\"];\\n      var createSandboxContext = function(srcObj, propertiesToCover) {\\n        var context = {};\\n        Object.keys(srcObj).forEach(function (key) {\\n          if (srcObj.hasOwnProperty(key) && propertiesToCover.indexOf(key) > -1) {\\n            context[key] = srcObj[key];\\n          }\\n        });\\n        return context;\\n      }\\n\\n      var createIframe = function() {\\n        var $iframe = document.getElementById(\\\"dashboard-sandbox\\\");\\n        if (!$iframe) {\\n          $iframe = document.createElement(\\\"iframe\\\");\\n          $iframe.setAttribute(\\\"id\\\", \\\"dashboard-sandbox\\\");\\n          $iframe.setAttribute(\\\"sandbox\\\", \\\"allow-same-origin allow-scripts\\\");\\n          $iframe.style.display = \\\"none\\\";\\n        }\\n        $iframe.innerHTML = \\\"\\\";\\n\\n        return $iframe;\\n      };\\n\\n      var initializeSandbox = function(code) {\\n        // var $iframe = createIframe();\\n        var $script = document.getElementById('sandbox');\\n\\n        if (!$script) {\\n          $script = document.createElement(\\\"script\\\");\\n          $script.setAttribute('id', 'sandbox');\\n        }\\n\\n        $script.innerText = '(function() { return eval(' + code + ') })()';\\n\\n        document.body.appendChild($script);\\n\\n        // $iframe.contentWindow.addEventListener(\\\"message\\\", handleEvalResult, false);\\n        // $iframe.contentWindow.sandboxContext = createSandboxContext(window, propertiesToCover);\\n        // $iframe.contentDocument.body.appendChild($script);\\n      }\\n\\n      initializeSandbox(data.code);\\n      break;\\n\\n  ;\\n        \\n    case 'dashboard.component.show':\\n      var $comp = $('#' + data.componentId);\\n      if ($comp) {\\n          $comp.show();\\n      }\\n      break;\\n\\n  ;\\n        \\n    case 'dashboard.component.hide':\\n      var $comp = $('#' + data.componentId);\\n      if ($comp) {\\n          $comp.hide();\\n      }\\n      break;\\n\\n  ;\\n        \\n    case 'dashboard.component.loading.start':\\n      var $comp = $(data.selector);\\n      if ($comp && !$comp.children('.loader').length) {\\n          $comp.prepend('<div class=\\\"loader\\\"><span class=\\\"dot\\\"></span><span class=\\\"dot\\\"></span><span class=\\\"dot\\\"></span><span class=\\\"dot\\\"></span><span class=\\\"dot\\\"></span></div>');\\n      }\\n      break;\\n\\n    case 'dashboard.component.loading.end':\\n      var $comp = $(data.selector);\\n      if ($comp && $comp.children('.loader').length) {\\n          $comp.children('.loader').remove();\\n      }\\n      break;\\n\\n  ;\\n      }\\n    }});\\n\\n    window.addEventListener('load', function() {\\n      if (window.ee) {\\n        window.ee.emit('resize-onload');\\n      }\\n    });\\n  }\\n\\n    \",\"classes\":[{\"name\":\"sp-global-event-listener\",\"label\":\"sp-global-event-listener\",\"type\":1,\"active\":true,\"private\":true,\"protected\":false}],\"open\":false},{\"tagName\":\"script\",\"type\":\"sp-code\",\"badgable\":false,\"content\":\"\\n      function detectOS() {\\n        if (navigator.appVersion.indexOf('Win') != -1) return 'Windows';\\n        else if (navigator.appVersion.indexOf('Mac') != -1) return 'MacOS';\\n        else if (navigator.appVersion.indexOf('X11') != -1) return 'UNIX';\\n        else if (navigator.appVersion.indexOf('Linux') != -1) return 'Linux';\\n        return 'Unknown OS';\\n      }\\n\\n      function getBodyScale() {\\n        var scale = window.innerWidth / document.body.clientWidth;\\n        if (document.body.clientHeight * scale > window.innerHeight || document.querySelector('html').offsetHeight > window.innerHeight) {\\n          var osName = detectOS();\\n\\n          scale = parseFloat(((window.innerWidth - 20) / document.body.clientWidth).toFixed(3));\\n        }\\n\\n        return scale;\\n      }\\n\\n      function transformPage() {\\n        var scale = getBodyScale();\\n        document.body.style.transform = 'scale(' + scale + ')';\\n        document.body.style.transformOrigin = 'left top';\\n      }\\n\\n      window.addEventListener('load', transformPage);\\n      window.addEventListener('resize', transformPage);\\n\\n      setTimeout(transformPage, 500);\\n    \",\"classes\":[{\"name\":\"sp-page-adaptor\",\"label\":\"sp-page-adaptor\",\"type\":1,\"active\":true,\"private\":true,\"protected\":false}],\"open\":false}]","gjs-css":"* { box-sizing: border-box; } body {margin: 0;} *:focus { outline-offset: 2px; outline-color: rgba(0,132,255,0.2);} [data-gjs-type='wrapper'] .no-events > * {pointer-events: none} [loader=in] {overflow: hidden;} .loader{position: absolute; top: 0; right:0; bottom: 0; left: 0; z-index: 99; display: flex;justify-content: center;align-items: center; background-color: rgba(255,255,255,0.2);} .loader>.dot {margin: 5px; width: 24px; height: 24px; flex-shrink: 0; background: #0084ff; border-radius: 100%; display: inline-block; animation: slide 1s infinite;} .loader>.dot:nth-child(1) { animation-delay: 0.1s; background: #0084ff; } .loader>.dot:nth-child(2) { animation-delay: 0.2s; background: #339cff; } .loader>.dot:nth-child(3) { animation-delay: 0.3s; background: #66b5ff; } .loader>.dot:nth-child(4) { animation-delay: 0.4s; background: #99ceff; } .loader>.dot:nth-child(5) { animation-delay: 0.5s; background: #cce6ff; } @-moz-keyframes slide { 0% { transform: scale(1); } 50% { opacity: 0.3; transform: scale(1.6); } 100% { transform: scale(1); }  } @-webkit-keyframes slide { 0% { transform: scale(1); } 50% { opacity: 0.3; transform: scale(1.6); } 100% { transform: scale(1); }  } @-o-keyframes slide { 0% { transform: scale(1); } 50% { opacity: 0.3; transform: scale(1.6); } 100% { transform: scale(1); }  } @keyframes slide { 0% { transform: scale(1); } 50% { opacity: 0.3; transform: scale(1.6); } 100% { transform: scale(1); } } #wrapper{position:static;padding:0;overflow-x:auto;overflow-y:auto;width:1920.00px!important;height:1080.00px!important;}","gjs-styles":"[{\"selectors\":[{\"name\":\"wrapper\",\"label\":\"wrapper\",\"type\":2,\"active\":true,\"private\":false,\"protected\":false}],\"style\":{\"position\":\"static\",\"padding\":\"0\",\"overflow-x\":\"auto\",\"overflow-y\":\"auto\",\"width\":\"1920.00px!important\",\"height\":\"1080.00px!important\"}}]","gjs-pageList":"[{\"components\":\"[{\\\"tagName\\\":\\\"script\\\",\\\"type\\\":\\\"sp-code\\\",\\\"badgable\\\":false,\\\"content\\\":\\\"\\\\n      function detectOS() {\\\\n        if (navigator.appVersion.indexOf('Win') != -1) return 'Windows';\\\\n        else if (navigator.appVersion.indexOf('Mac') != -1) return 'MacOS';\\\\n        else if (navigator.appVersion.indexOf('X11') != -1) return 'UNIX';\\\\n        else if (navigator.appVersion.indexOf('Linux') != -1) return 'Linux';\\\\n        return 'Unknown OS';\\\\n      }\\\\n\\\\n      function getBodyScale() {\\\\n        var scale = window.innerWidth / document.body.clientWidth;\\\\n        if (document.body.clientHeight * scale > window.innerHeight || document.querySelector('html').offsetHeight > window.innerHeight) {\\\\n          var osName = detectOS();\\\\n\\\\n          scale = parseFloat(((window.innerWidth - 20) / document.body.clientWidth).toFixed(3));\\\\n        }\\\\n\\\\n        return scale;\\\\n      }\\\\n\\\\n      function transformPage() {\\\\n        var scale = getBodyScale();\\\\n        document.body.style.transform = 'scale(' + scale + ')';\\\\n        document.body.style.transformOrigin = 'left top';\\\\n      }\\\\n\\\\n      window.addEventListener('load', transformPage);\\\\n      window.addEventListener('resize', transformPage);\\\\n\\\\n      setTimeout(transformPage, 500);\\\\n    \\\",\\\"classes\\\":[{\\\"name\\\":\\\"sp-page-adaptor\\\",\\\"label\\\":\\\"sp-page-adaptor\\\",\\\"type\\\":1,\\\"active\\\":true,\\\"private\\\":true,\\\"protected\\\":false}],\\\"open\\\":false},{\\\"tagName\\\":\\\"script\\\",\\\"type\\\":\\\"sp-code\\\",\\\"badgable\\\":false,\\\"content\\\":\\\"\\\\n      \\\\n  if (window.spSocket) {\\\\n    function nav(url, isNewWindow) {\\\\n      if (isNewWindow) {\\\\n        window.open(url, '_blank');\\\\n      } else {\\\\n        window.location.href = url;\\\\n      }\\\\n    }\\\\n\\\\n    window.spSocket.subscribe({ eventName: 'dashboard', callback: function(data) {\\\\n      if (!data) return;\\\\n\\\\n      switch(data.type) {\\\\n        \\\\n      case 'dashboard.dom.updateAttr':\\\\n        var $comp = $(data.selector);\\\\n\\\\n        if ($comp) {\\\\n          if (data.attrs && data.attrs instanceof Array) {\\\\n            data.attrs.forEach(function(attr) {\\\\n              Object.keys(attr).forEach(function(key) {\\\\n                $comp.attr(key, attr[key]);\\\\n              });\\\\n            });\\\\n          }\\\\n        }\\\\n        break;\\\\n\\\\n    ;\\\\n        \\\\n    case 'dashboard.window.eval':\\\\n      var handleEvalResult = function(event) {\\\\n        if (event.data && event.data.type && event.data.type === \\\\\\\"dashboard.window.eval\\\\\\\") {\\\\n          if (event.data.err) {\\\\n            window.spSocket.send({ eventName: \\\\\\\"dashboard\\\\\\\", data: { type: \\\\\\\"dashboard.window.evalResponse\\\\\\\", err: event.data.err } });\\\\n            return;\\\\n          }\\\\n          window.spSocket.send({ eventName: \\\\\\\"dashboard\\\\\\\", data: { type: \\\\\\\"dashboard.window.evalResponse\\\\\\\", data: event.data.data } });\\\\n        }\\\\n      }\\\\n  \\\\n      var propertiesToCover = [\\\\\\\"location\\\\\\\"];\\\\n      var createSandboxContext = function(srcObj, propertiesToCover) {\\\\n        var context = {};\\\\n        Object.keys(srcObj).forEach(function (key) {\\\\n          if (srcObj.hasOwnProperty(key) && propertiesToCover.indexOf(key) > -1) {\\\\n            context[key] = srcObj[key];\\\\n          }\\\\n        });\\\\n        return context;\\\\n      }\\\\n\\\\n      var createIframe = function() {\\\\n        var $iframe = document.getElementById(\\\\\\\"dashboard-sandbox\\\\\\\");\\\\n        if (!$iframe) {\\\\n          $iframe = document.createElement(\\\\\\\"iframe\\\\\\\");\\\\n          $iframe.setAttribute(\\\\\\\"id\\\\\\\", \\\\\\\"dashboard-sandbox\\\\\\\");\\\\n          $iframe.setAttribute(\\\\\\\"sandbox\\\\\\\", \\\\\\\"allow-same-origin allow-scripts\\\\\\\");\\\\n          $iframe.style.display = \\\\\\\"none\\\\\\\";\\\\n        }\\\\n        $iframe.innerHTML = \\\\\\\"\\\\\\\";\\\\n\\\\n        return $iframe;\\\\n      };\\\\n\\\\n      var initializeSandbox = function(code) {\\\\n        // var $iframe = createIframe();\\\\n        var $script = document.getElementById('sandbox');\\\\n\\\\n        if (!$script) {\\\\n          $script = document.createElement(\\\\\\\"script\\\\\\\");\\\\n          $script.setAttribute('id', 'sandbox');\\\\n        }\\\\n\\\\n        $script.innerText = '(function() { return eval(' + code + ') })()';\\\\n\\\\n        document.body.appendChild($script);\\\\n\\\\n        // $iframe.contentWindow.addEventListener(\\\\\\\"message\\\\\\\", handleEvalResult, false);\\\\n        // $iframe.contentWindow.sandboxContext = createSandboxContext(window, propertiesToCover);\\\\n        // $iframe.contentDocument.body.appendChild($script);\\\\n      }\\\\n\\\\n      initializeSandbox(data.code);\\\\n      break;\\\\n\\\\n  ;\\\\n        \\\\n    case 'dashboard.component.show':\\\\n      var $comp = $('#' + data.componentId);\\\\n      if ($comp) {\\\\n          $comp.show();\\\\n      }\\\\n      break;\\\\n\\\\n  ;\\\\n        \\\\n    case 'dashboard.component.hide':\\\\n      var $comp = $('#' + data.componentId);\\\\n      if ($comp) {\\\\n          $comp.hide();\\\\n      }\\\\n      break;\\\\n\\\\n  ;\\\\n        \\\\n    case 'dashboard.component.loading.start':\\\\n      var $comp = $(data.selector);\\\\n      if ($comp && !$comp.children('.loader').length) {\\\\n          $comp.prepend('<div class=\\\\\\\"loader\\\\\\\"><span class=\\\\\\\"dot\\\\\\\"></span><span class=\\\\\\\"dot\\\\\\\"></span><span class=\\\\\\\"dot\\\\\\\"></span><span class=\\\\\\\"dot\\\\\\\"></span><span class=\\\\\\\"dot\\\\\\\"></span></div>');\\\\n      }\\\\n      break;\\\\n\\\\n    case 'dashboard.component.loading.end':\\\\n      var $comp = $(data.selector);\\\\n      if ($comp && $comp.children('.loader').length) {\\\\n          $comp.children('.loader').remove();\\\\n      }\\\\n      break;\\\\n\\\\n  ;\\\\n      }\\\\n    }});\\\\n\\\\n    window.addEventListener('load', function() {\\\\n      if (window.ee) {\\\\n        window.ee.emit('resize-onload');\\\\n      }\\\\n    });\\\\n  }\\\\n\\\\n    \\\",\\\"classes\\\":[{\\\"name\\\":\\\"sp-global-event-listener\\\",\\\"label\\\":\\\"sp-global-event-listener\\\",\\\"type\\\":1,\\\"active\\\":true,\\\"private\\\":true,\\\"protected\\\":false}],\\\"open\\\":false},{\\\"tagName\\\":\\\"script\\\",\\\"type\\\":\\\"sp-code\\\",\\\"badgable\\\":false,\\\"content\\\":\\\"\\\\n      function detectOS() {\\\\n        if (navigator.appVersion.indexOf('Win') != -1) return 'Windows';\\\\n        else if (navigator.appVersion.indexOf('Mac') != -1) return 'MacOS';\\\\n        else if (navigator.appVersion.indexOf('X11') != -1) return 'UNIX';\\\\n        else if (navigator.appVersion.indexOf('Linux') != -1) return 'Linux';\\\\n        return 'Unknown OS';\\\\n      }\\\\n\\\\n      function getBodyScale() {\\\\n        var scale = window.innerWidth / document.body.clientWidth;\\\\n        if (document.body.clientHeight * scale > window.innerHeight || document.querySelector('html').offsetHeight > window.innerHeight) {\\\\n          var osName = detectOS();\\\\n\\\\n          scale = parseFloat(((window.innerWidth - 20) / document.body.clientWidth).toFixed(3));\\\\n        }\\\\n\\\\n        return scale;\\\\n      }\\\\n\\\\n      function transformPage() {\\\\n        var scale = getBodyScale();\\\\n        document.body.style.transform = 'scale(' + scale + ')';\\\\n        document.body.style.transformOrigin = 'left top';\\\\n      }\\\\n\\\\n      window.addEventListener('load', transformPage);\\\\n      window.addEventListener('resize', transformPage);\\\\n\\\\n      setTimeout(transformPage, 500);\\\\n    \\\",\\\"classes\\\":[{\\\"name\\\":\\\"sp-page-adaptor\\\",\\\"label\\\":\\\"sp-page-adaptor\\\",\\\"type\\\":1,\\\"active\\\":true,\\\"private\\\":true,\\\"protected\\\":false}],\\\"open\\\":false}]\",\"styles\":\"[{\\\"selectors\\\":[{\\\"name\\\":\\\"wrapper\\\",\\\"label\\\":\\\"wrapper\\\",\\\"type\\\":2,\\\"active\\\":true,\\\"private\\\":false,\\\"protected\\\":false}],\\\"style\\\":{\\\"position\\\":\\\"static\\\",\\\"padding\\\":\\\"0\\\",\\\"overflow-x\\\":\\\"auto\\\",\\\"overflow-y\\\":\\\"auto\\\",\\\"width\\\":\\\"1920.00px!important\\\",\\\"height\\\":\\\"1080.00px!important\\\"}}]\",\"css\":\"* { box-sizing: border-box; } body {margin: 0;} *:focus { outline-offset: 2px; outline-color: rgba(0,132,255,0.2);} [data-gjs-type='wrapper'] .no-events > * {pointer-events: none} [loader=in] {overflow: hidden;} .loader{position: absolute; top: 0; right:0; bottom: 0; left: 0; z-index: 99; display: flex;justify-content: center;align-items: center; background-color: rgba(255,255,255,0.2);} .loader>.dot {margin: 5px; width: 24px; height: 24px; flex-shrink: 0; background: #0084ff; border-radius: 100%; display: inline-block; animation: slide 1s infinite;} .loader>.dot:nth-child(1) { animation-delay: 0.1s; background: #0084ff; } .loader>.dot:nth-child(2) { animation-delay: 0.2s; background: #339cff; } .loader>.dot:nth-child(3) { animation-delay: 0.3s; background: #66b5ff; } .loader>.dot:nth-child(4) { animation-delay: 0.4s; background: #99ceff; } .loader>.dot:nth-child(5) { animation-delay: 0.5s; background: #cce6ff; } @-moz-keyframes slide { 0% { transform: scale(1); } 50% { opacity: 0.3; transform: scale(1.6); } 100% { transform: scale(1); }  } @-webkit-keyframes slide { 0% { transform: scale(1); } 50% { opacity: 0.3; transform: scale(1.6); } 100% { transform: scale(1); }  } @-o-keyframes slide { 0% { transform: scale(1); } 50% { opacity: 0.3; transform: scale(1.6); } 100% { transform: scale(1); }  } @keyframes slide { 0% { transform: scale(1); } 50% { opacity: 0.3; transform: scale(1.6); } 100% { transform: scale(1); } } #wrapper{position:static;padding:0;overflow-x:auto;overflow-y:auto;width:1920.00px!important;height:1080.00px!important;}\",\"groups\":\"{\\\"groups\\\":[],\\\"compIdToGroupMap\\\":{}}\",\"pmComponents\":[{\"tagName\":\"script\",\"type\":\"sp-code\",\"badgable\":false,\"content\":\"\\n      function detectOS() {\\n        if (navigator.appVersion.indexOf('Win') != -1) return 'Windows';\\n        else if (navigator.appVersion.indexOf('Mac') != -1) return 'MacOS';\\n        else if (navigator.appVersion.indexOf('X11') != -1) return 'UNIX';\\n        else if (navigator.appVersion.indexOf('Linux') != -1) return 'Linux';\\n        return 'Unknown OS';\\n      }\\n\\n      function getBodyScale() {\\n        var scale = window.innerWidth / document.body.clientWidth;\\n        if (document.body.clientHeight * scale > window.innerHeight || document.querySelector('html').offsetHeight > window.innerHeight) {\\n          var osName = detectOS();\\n\\n          scale = parseFloat(((window.innerWidth - 20) / document.body.clientWidth).toFixed(3));\\n        }\\n\\n        return scale;\\n      }\\n\\n      function transformPage() {\\n        var scale = getBodyScale();\\n        document.body.style.transform = 'scale(' + scale + ')';\\n        document.body.style.transformOrigin = 'left top';\\n      }\\n\\n      window.addEventListener('load', transformPage);\\n      window.addEventListener('resize', transformPage);\\n\\n      setTimeout(transformPage, 500);\\n    \",\"classes\":[{\"name\":\"sp-page-adaptor\",\"label\":\"sp-page-adaptor\",\"type\":1,\"active\":true,\"private\":true,\"protected\":false}],\"open\":false},{\"tagName\":\"script\",\"type\":\"sp-code\",\"badgable\":false,\"content\":\"\\n      \\n  if (window.spSocket) {\\n    function nav(url, isNewWindow) {\\n      if (isNewWindow) {\\n        window.open(url, '_blank');\\n      } else {\\n        window.location.href = url;\\n      }\\n    }\\n\\n    window.spSocket.subscribe({ eventName: 'dashboard', callback: function(data) {\\n      if (!data) return;\\n\\n      switch(data.type) {\\n        \\n      case 'dashboard.dom.updateAttr':\\n        var $comp = $(data.selector);\\n\\n        if ($comp) {\\n          if (data.attrs && data.attrs instanceof Array) {\\n            data.attrs.forEach(function(attr) {\\n              Object.keys(attr).forEach(function(key) {\\n                $comp.attr(key, attr[key]);\\n              });\\n            });\\n          }\\n        }\\n        break;\\n\\n    ;\\n        \\n    case 'dashboard.window.eval':\\n      var handleEvalResult = function(event) {\\n        if (event.data && event.data.type && event.data.type === \\\"dashboard.window.eval\\\") {\\n          if (event.data.err) {\\n            window.spSocket.send({ eventName: \\\"dashboard\\\", data: { type: \\\"dashboard.window.evalResponse\\\", err: event.data.err } });\\n            return;\\n          }\\n          window.spSocket.send({ eventName: \\\"dashboard\\\", data: { type: \\\"dashboard.window.evalResponse\\\", data: event.data.data } });\\n        }\\n      }\\n  \\n      var propertiesToCover = [\\\"location\\\"];\\n      var createSandboxContext = function(srcObj, propertiesToCover) {\\n        var context = {};\\n        Object.keys(srcObj).forEach(function (key) {\\n          if (srcObj.hasOwnProperty(key) && propertiesToCover.indexOf(key) > -1) {\\n            context[key] = srcObj[key];\\n          }\\n        });\\n        return context;\\n      }\\n\\n      var createIframe = function() {\\n        var $iframe = document.getElementById(\\\"dashboard-sandbox\\\");\\n        if (!$iframe) {\\n          $iframe = document.createElement(\\\"iframe\\\");\\n          $iframe.setAttribute(\\\"id\\\", \\\"dashboard-sandbox\\\");\\n          $iframe.setAttribute(\\\"sandbox\\\", \\\"allow-same-origin allow-scripts\\\");\\n          $iframe.style.display = \\\"none\\\";\\n        }\\n        $iframe.innerHTML = \\\"\\\";\\n\\n        return $iframe;\\n      };\\n\\n      var initializeSandbox = function(code) {\\n        // var $iframe = createIframe();\\n        var $script = document.getElementById('sandbox');\\n\\n        if (!$script) {\\n          $script = document.createElement(\\\"script\\\");\\n          $script.setAttribute('id', 'sandbox');\\n        }\\n\\n        $script.innerText = '(function() { return eval(' + code + ') })()';\\n\\n        document.body.appendChild($script);\\n\\n        // $iframe.contentWindow.addEventListener(\\\"message\\\", handleEvalResult, false);\\n        // $iframe.contentWindow.sandboxContext = createSandboxContext(window, propertiesToCover);\\n        // $iframe.contentDocument.body.appendChild($script);\\n      }\\n\\n      initializeSandbox(data.code);\\n      break;\\n\\n  ;\\n        \\n    case 'dashboard.component.show':\\n      var $comp = $('#' + data.componentId);\\n      if ($comp) {\\n          $comp.show();\\n      }\\n      break;\\n\\n  ;\\n        \\n    case 'dashboard.component.hide':\\n      var $comp = $('#' + data.componentId);\\n      if ($comp) {\\n          $comp.hide();\\n      }\\n      break;\\n\\n  ;\\n        \\n    case 'dashboard.component.loading.start':\\n      var $comp = $(data.selector);\\n      if ($comp && !$comp.children('.loader').length) {\\n          $comp.prepend('<div class=\\\"loader\\\"><span class=\\\"dot\\\"></span><span class=\\\"dot\\\"></span><span class=\\\"dot\\\"></span><span class=\\\"dot\\\"></span><span class=\\\"dot\\\"></span></div>');\\n      }\\n      break;\\n\\n    case 'dashboard.component.loading.end':\\n      var $comp = $(data.selector);\\n      if ($comp && $comp.children('.loader').length) {\\n          $comp.children('.loader').remove();\\n      }\\n      break;\\n\\n  ;\\n      }\\n    }});\\n\\n    window.addEventListener('load', function() {\\n      if (window.ee) {\\n        window.ee.emit('resize-onload');\\n      }\\n    });\\n  }\\n\\n    \",\"classes\":[{\"name\":\"sp-global-event-listener\",\"label\":\"sp-global-event-listener\",\"type\":1,\"active\":true,\"private\":true,\"protected\":false}],\"open\":false},{\"tagName\":\"script\",\"type\":\"sp-code\",\"badgable\":false,\"content\":\"\\n      function detectOS() {\\n        if (navigator.appVersion.indexOf('Win') != -1) return 'Windows';\\n        else if (navigator.appVersion.indexOf('Mac') != -1) return 'MacOS';\\n        else if (navigator.appVersion.indexOf('X11') != -1) return 'UNIX';\\n        else if (navigator.appVersion.indexOf('Linux') != -1) return 'Linux';\\n        return 'Unknown OS';\\n      }\\n\\n      function getBodyScale() {\\n        var scale = window.innerWidth / document.body.clientWidth;\\n        if (document.body.clientHeight * scale > window.innerHeight || document.querySelector('html').offsetHeight > window.innerHeight) {\\n          var osName = detectOS();\\n\\n          scale = parseFloat(((window.innerWidth - 20) / document.body.clientWidth).toFixed(3));\\n        }\\n\\n        return scale;\\n      }\\n\\n      function transformPage() {\\n        var scale = getBodyScale();\\n        document.body.style.transform = 'scale(' + scale + ')';\\n        document.body.style.transformOrigin = 'left top';\\n      }\\n\\n      window.addEventListener('load', transformPage);\\n      window.addEventListener('resize', transformPage);\\n\\n      setTimeout(transformPage, 500);\\n    \",\"classes\":[{\"name\":\"sp-page-adaptor\",\"label\":\"sp-page-adaptor\",\"type\":1,\"active\":true,\"private\":true,\"protected\":false}],\"open\":false}],\"pmStyle\":[{\"selectors\":[{\"name\":\"wrapper\",\"label\":\"wrapper\",\"type\":2,\"active\":true,\"private\":false,\"protected\":false}],\"style\":{\"position\":\"static\",\"padding\":\"0\",\"overflow-x\":\"auto\",\"overflow-y\":\"auto\",\"width\":\"1920.00px!important\",\"height\":\"1080.00px!important\"}}],\"html\":\"<script>\\n\\n      function detectOS() {\\n        if (navigator.appVersion.indexOf('Win') != -1) return 'Windows';\\n        else if (navigator.appVersion.indexOf('Mac') != -1) return 'MacOS';\\n        else if (navigator.appVersion.indexOf('X11') != -1) return 'UNIX';\\n        else if (navigator.appVersion.indexOf('Linux') != -1) return 'Linux';\\n        return 'Unknown OS';\\n      }\\n\\n      function getBodyScale() {\\n        var scale = window.innerWidth / document.body.clientWidth;\\n        if (document.body.clientHeight * scale > window.innerHeight || document.querySelector('html').offsetHeight > window.innerHeight) {\\n          var osName = detectOS();\\n\\n          scale = parseFloat(((window.innerWidth - 20) / document.body.clientWidth).toFixed(3));\\n        }\\n\\n        return scale;\\n      }\\n\\n      function transformPage() {\\n        var scale = getBodyScale();\\n        document.body.style.transform = 'scale(' + scale + ')';\\n        document.body.style.transformOrigin = 'left top';\\n      }\\n\\n      window.addEventListener('load', transformPage);\\n      window.addEventListener('resize', transformPage);\\n\\n      setTimeout(transformPage, 500);\\n    \\n</script><script>\\n\\n      \\n  if (window.spSocket) {\\n    function nav(url, isNewWindow) {\\n      if (isNewWindow) {\\n        window.open(url, '_blank');\\n      } else {\\n        window.location.href = url;\\n      }\\n    }\\n\\n    window.spSocket.subscribe({ eventName: 'dashboard', callback: function(data) {\\n      if (!data) return;\\n\\n      switch(data.type) {\\n        \\n      case 'dashboard.dom.updateAttr':\\n        var $comp = $(data.selector);\\n\\n        if ($comp) {\\n          if (data.attrs && data.attrs instanceof Array) {\\n            data.attrs.forEach(function(attr) {\\n              Object.keys(attr).forEach(function(key) {\\n                $comp.attr(key, attr[key]);\\n              });\\n            });\\n          }\\n        }\\n        break;\\n\\n    ;\\n        \\n    case 'dashboard.window.eval':\\n      var handleEvalResult = function(event) {\\n        if (event.data && event.data.type && event.data.type === \\\"dashboard.window.eval\\\") {\\n          if (event.data.err) {\\n            window.spSocket.send({ eventName: \\\"dashboard\\\", data: { type: \\\"dashboard.window.evalResponse\\\", err: event.data.err } });\\n            return;\\n          }\\n          window.spSocket.send({ eventName: \\\"dashboard\\\", data: { type: \\\"dashboard.window.evalResponse\\\", data: event.data.data } });\\n        }\\n      }\\n  \\n      var propertiesToCover = [\\\"location\\\"];\\n      var createSandboxContext = function(srcObj, propertiesToCover) {\\n        var context = {};\\n        Object.keys(srcObj).forEach(function (key) {\\n          if (srcObj.hasOwnProperty(key) && propertiesToCover.indexOf(key) > -1) {\\n            context[key] = srcObj[key];\\n          }\\n        });\\n        return context;\\n      }\\n\\n      var createIframe = function() {\\n        var $iframe = document.getElementById(\\\"dashboard-sandbox\\\");\\n        if (!$iframe) {\\n          $iframe = document.createElement(\\\"iframe\\\");\\n          $iframe.setAttribute(\\\"id\\\", \\\"dashboard-sandbox\\\");\\n          $iframe.setAttribute(\\\"sandbox\\\", \\\"allow-same-origin allow-scripts\\\");\\n          $iframe.style.display = \\\"none\\\";\\n        }\\n        $iframe.innerHTML = \\\"\\\";\\n\\n        return $iframe;\\n      };\\n\\n      var initializeSandbox = function(code) {\\n        // var $iframe = createIframe();\\n        var $script = document.getElementById('sandbox');\\n\\n        if (!$script) {\\n          $script = document.createElement(\\\"script\\\");\\n          $script.setAttribute('id', 'sandbox');\\n        }\\n\\n        $script.innerText = '(function() { return eval(' + code + ') })()';\\n\\n        document.body.appendChild($script);\\n\\n        // $iframe.contentWindow.addEventListener(\\\"message\\\", handleEvalResult, false);\\n        // $iframe.contentWindow.sandboxContext = createSandboxContext(window, propertiesToCover);\\n        // $iframe.contentDocument.body.appendChild($script);\\n      }\\n\\n      initializeSandbox(data.code);\\n      break;\\n\\n  ;\\n        \\n    case 'dashboard.component.show':\\n      var $comp = $('#' + data.componentId);\\n      if ($comp) {\\n          $comp.show();\\n      }\\n      break;\\n\\n  ;\\n        \\n    case 'dashboard.component.hide':\\n      var $comp = $('#' + data.componentId);\\n      if ($comp) {\\n          $comp.hide();\\n      }\\n      break;\\n\\n  ;\\n        \\n    case 'dashboard.component.loading.start':\\n      var $comp = $(data.selector);\\n      if ($comp && !$comp.children('.loader').length) {\\n          $comp.prepend('<div class=\\\"loader\\\"><span class=\\\"dot\\\"></span><span class=\\\"dot\\\"></span><span class=\\\"dot\\\"></span><span class=\\\"dot\\\"></span><span class=\\\"dot\\\"></span></div>');\\n      }\\n      break;\\n\\n    case 'dashboard.component.loading.end':\\n      var $comp = $(data.selector);\\n      if ($comp && $comp.children('.loader').length) {\\n          $comp.children('.loader').remove();\\n      }\\n      break;\\n\\n  ;\\n      }\\n    }});\\n\\n    window.addEventListener('load', function() {\\n      if (window.ee) {\\n        window.ee.emit('resize-onload');\\n      }\\n    });\\n  }\\n\\n    \\n</script><script>\\n\\n      function detectOS() {\\n        if (navigator.appVersion.indexOf('Win') != -1) return 'Windows';\\n        else if (navigator.appVersion.indexOf('Mac') != -1) return 'MacOS';\\n        else if (navigator.appVersion.indexOf('X11') != -1) return 'UNIX';\\n        else if (navigator.appVersion.indexOf('Linux') != -1) return 'Linux';\\n        return 'Unknown OS';\\n      }\\n\\n      function getBodyScale() {\\n        var scale = window.innerWidth / document.body.clientWidth;\\n        if (document.body.clientHeight * scale > window.innerHeight || document.querySelector('html').offsetHeight > window.innerHeight) {\\n          var osName = detectOS();\\n\\n          scale = parseFloat(((window.innerWidth - 20) / document.body.clientWidth).toFixed(3));\\n        }\\n\\n        return scale;\\n      }\\n\\n      function transformPage() {\\n        var scale = getBodyScale();\\n        document.body.style.transform = 'scale(' + scale + ')';\\n        document.body.style.transformOrigin = 'left top';\\n      }\\n\\n      window.addEventListener('load', transformPage);\\n      window.addEventListener('resize', transformPage);\\n\\n      setTimeout(transformPage, 500);\\n    \\n</script>\"}]","gjs-favoriteBlockTypes":"[]"},"preview":"graph"},"inports":{},"outports":{},"groups":[],"processes":{"f5f3e64068dc11ee97d6ff3d15daa880":{"component":13104,"metadata":{"def":{"description":{"zh_CN":""},"type":12,"docUrl":"","author":"Ellison","codeName":"","codePath":"","params":{"__cpu":{"type":"string","controlInstUuid":"system-cpu","value":null,"isRequired":false},"__mem":{"type":"string","controlInstUuid":"system-mem","isRequired":false,"value":null},"__scale":{"type":"string","controlInstUuid":"system-scale","value":null,"isRequired":false},"nodeRunMode":{"type":"string","controlInstUuid":"a0528cf03abc11ec8ea8137a2b4be38e","value":"singleInstanceNodeService","hidden":true},"serviceName":{"type":"string","controlInstUuid":"c774dc703abc11ec8ea8137a2b4be38e","hidden":true,"value":"ellison"}},"ports":[],"actionList":[{"label":"配置页","editShow":true,"isModal":true,"url":"{{protocol}}//{{host}}/proxr/{{userId}}/{{appId}}/{{nodeId}}/8002/","editUrl":"{{protocol}}//{{host}}/formula-parser/"}],"downloadList":[{}],"watchList":[{}],"dockerRepo":"formula-parser:2","dockerCmd":"node dist/main.js --mode running","portsAuto":true,"portsActionable":true},"ui":{"tabs":{"params":{"tabName":{"en_US":"Parameters Setting","zh_CN":"参数设置","zh":"参数设置"},"controls":[{"uuid":"a0528cf03abc11ec8ea8137a2b4be38e","type":"string","label":{"zh_CN":"是否单实例"},"placeholder":{"zh_CN":""},"tooltip":{"zh_CN":""},"relations":{"hide":{"operator":"=="}}},{"uuid":"c774dc703abc11ec8ea8137a2b4be38e","type":"string","label":{"zh_CN":"服务名称"},"placeholder":{"zh_CN":"占位提示文本"},"tooltip":{"zh_CN":""},"relations":{"hide":{"operator":"=="}}}]},"tune":{"tabName":{"en_US":"Tuning","zh_CN":"执行调优","zh":"执行调优"},"controls":[{"uuid":"system-scale","type":"float","label":{"zh_CN":"启动容器数"},"placeholder":{"zh_CN":"默认自动选择"},"relations":{"hide":{"operator":"=="}}},{"uuid":"system-cpu","type":"float","label":{"zh_CN":"每个容器cpu核数"},"placeholder":{"zh_CN":"默认自动选择"}},{"uuid":"system-mem","type":"float","label":{"zh_CN":"每个容器内存数(GB)"},"placeholder":{"zh_CN":"默认自动选择"}}]}}},"locale":"zh_CN","receieveMsgType":"async","icon":"random","color":"rgba(234,134,208,0.7)","type":"public_component","label":"数据转换","x":510,"y":249,"sublabel":"数据转换","width":90,"height":90,"size":"1"}}},"connections":[],"timestamp":1697100941718}}
    "#;

    //http://sp9.xuelangyun.com:30080/web/service/predict/55471
    const GRAPH_NODE_TEST: &'static str = r#"
    {"success":true,"data":{"caseSensitive":false,"properties":{"predictConfig":{"isolationMode":"v2","mode":""},"globalVars":[{"id":"0984d5b016dc11edad7d75bf4d27d1d3"},{"id":"0984d5b116dc11edad7d75bf4d27d1d3"},{"id":"0984d5b216dc11edad7d75bf4d27d1d3"}],"dashboardConfig":{"gjs-html":"<script>\n\n      \n  if (window.spSocket) {\n    function nav(url, isNewWindow) {\n      if (isNewWindow) {\n        window.open(url, '_blank');\n      } else {\n        window.location.href = url;\n      }\n    }\n\n    window.spSocket.subscribe({ eventName: 'dashboard', callback: function(data) {\n      if (!data) return;\n\n      switch(data.type) {\n        \n      case 'dashboard.dom.updateAttr':\n        var $comp = $(data.selector);\n\n        if ($comp) {\n          if (data.attrs && data.attrs instanceof Array) {\n            data.attrs.forEach(function(attr) {\n              Object.keys(attr).forEach(function(key) {\n                $comp.attr(key, attr[key]);\n              });\n            });\n          }\n        }\n        break;\n\n    ;\n        \n    case 'dashboard.window.eval':\n      var handleEvalResult = function(event) {\n        if (event.data && event.data.type && event.data.type === \"dashboard.window.eval\") {\n          if (event.data.err) {\n            window.spSocket.send({ eventName: \"dashboard\", data: { type: \"dashboard.window.evalResponse\", err: event.data.err } });\n            return;\n          }\n          window.spSocket.send({ eventName: \"dashboard\", data: { type: \"dashboard.window.evalResponse\", data: event.data.data } });\n        }\n      }\n  \n      var propertiesToCover = [\"location\"];\n      var createSandboxContext = function(srcObj, propertiesToCover) {\n        var context = {};\n        Object.keys(srcObj).forEach(function (key) {\n          if (srcObj.hasOwnProperty(key) && propertiesToCover.indexOf(key) > -1) {\n            context[key] = srcObj[key];\n          }\n        });\n        return context;\n      }\n\n      var createIframe = function() {\n        var $iframe = document.getElementById(\"dashboard-sandbox\");\n        if (!$iframe) {\n          $iframe = document.createElement(\"iframe\");\n          $iframe.setAttribute(\"id\", \"dashboard-sandbox\");\n          $iframe.setAttribute(\"sandbox\", \"allow-same-origin allow-scripts\");\n          $iframe.style.display = \"none\";\n        }\n        $iframe.innerHTML = \"\";\n\n        return $iframe;\n      };\n\n      var initializeSandbox = function(code) {\n        // var $iframe = createIframe();\n        var $script = document.getElementById('sandbox');\n\n        if (!$script) {\n          $script = document.createElement(\"script\");\n          $script.setAttribute('id', 'sandbox');\n        }\n\n        $script.innerText = '(function() { return eval(' + code + ') })()';\n\n        document.body.appendChild($script);\n\n        // $iframe.contentWindow.addEventListener(\"message\", handleEvalResult, false);\n        // $iframe.contentWindow.sandboxContext = createSandboxContext(window, propertiesToCover);\n        // $iframe.contentDocument.body.appendChild($script);\n      }\n\n      initializeSandbox(data.code);\n      break;\n\n  ;\n        \n    case 'dashboard.component.show':\n      var $comp = $('#' + data.componentId);\n      if ($comp) {\n          $comp.show();\n      }\n      break;\n\n  ;\n        \n    case 'dashboard.component.hide':\n      var $comp = $('#' + data.componentId);\n      if ($comp) {\n          $comp.hide();\n      }\n      break;\n\n  ;\n        \n    case 'dashboard.component.loading.start':\n      var $comp = $(data.selector);\n      if ($comp && !$comp.children('.loader').length) {\n          $comp.prepend('<div class=\"loader\"><span class=\"dot\"></span><span class=\"dot\"></span><span class=\"dot\"></span><span class=\"dot\"></span><span class=\"dot\"></span></div>');\n      }\n      break;\n\n    case 'dashboard.component.loading.end':\n      var $comp = $(data.selector);\n      if ($comp && $comp.children('.loader').length) {\n          $comp.children('.loader').remove();\n      }\n      break;\n\n  ;\n      }\n    }});\n\n    window.addEventListener('load', function() {\n      if (window.ee) {\n        window.ee.emit('resize-onload');\n      }\n    });\n  }\n\n    \n</script><script>\n\n      \n  if (window.spSocket) {\n    function nav(url, isNewWindow) {\n      if (isNewWindow) {\n        window.open(url, '_blank');\n      } else {\n        window.location.href = url;\n      }\n    }\n\n    window.spSocket.subscribe({ eventName: 'dashboard', callback: function(data) {\n      if (!data) return;\n\n      switch(data.type) {\n        \n      case 'dashboard.dom.updateAttr':\n        var $comp = $(data.selector);\n\n        if ($comp) {\n          if (data.attrs && data.attrs instanceof Array) {\n            data.attrs.forEach(function(attr) {\n              Object.keys(attr).forEach(function(key) {\n                $comp.attr(key, attr[key]);\n              });\n            });\n          }\n        }\n        break;\n\n    ;\n        \n    case 'dashboard.window.eval':\n      var handleEvalResult = function(event) {\n        if (event.data && event.data.type && event.data.type === \"dashboard.window.eval\") {\n          if (event.data.err) {\n            window.spSocket.send({ eventName: \"dashboard\", data: { type: \"dashboard.window.evalResponse\", err: event.data.err } });\n            return;\n          }\n          window.spSocket.send({ eventName: \"dashboard\", data: { type: \"dashboard.window.evalResponse\", data: event.data.data } });\n        }\n      }\n  \n      var propertiesToCover = [\"location\"];\n      var createSandboxContext = function(srcObj, propertiesToCover) {\n        var context = {};\n        Object.keys(srcObj).forEach(function (key) {\n          if (srcObj.hasOwnProperty(key) && propertiesToCover.indexOf(key) > -1) {\n            context[key] = srcObj[key];\n          }\n        });\n        return context;\n      }\n\n      var createIframe = function() {\n        var $iframe = document.getElementById(\"dashboard-sandbox\");\n        if (!$iframe) {\n          $iframe = document.createElement(\"iframe\");\n          $iframe.setAttribute(\"id\", \"dashboard-sandbox\");\n          $iframe.setAttribute(\"sandbox\", \"allow-same-origin allow-scripts\");\n          $iframe.style.display = \"none\";\n        }\n        $iframe.innerHTML = \"\";\n\n        return $iframe;\n      };\n\n      var initializeSandbox = function(code) {\n        // var $iframe = createIframe();\n        var $script = document.getElementById('sandbox');\n\n        if (!$script) {\n          $script = document.createElement(\"script\");\n          $script.setAttribute('id', 'sandbox');\n        }\n\n        $script.innerText = '(function() { return eval(' + code + ') })()';\n\n        document.body.appendChild($script);\n\n        // $iframe.contentWindow.addEventListener(\"message\", handleEvalResult, false);\n        // $iframe.contentWindow.sandboxContext = createSandboxContext(window, propertiesToCover);\n        // $iframe.contentDocument.body.appendChild($script);\n      }\n\n      initializeSandbox(data.code);\n      break;\n\n  ;\n        \n    case 'dashboard.component.show':\n      var $comp = $('#' + data.componentId);\n      if ($comp) {\n          $comp.show();\n      }\n      break;\n\n  ;\n        \n    case 'dashboard.component.hide':\n      var $comp = $('#' + data.componentId);\n      if ($comp) {\n          $comp.hide();\n      }\n      break;\n\n  ;\n        \n    case 'dashboard.component.loading.start':\n      var $comp = $(data.selector);\n      if ($comp && !$comp.children('.loader').length) {\n          $comp.prepend('<div class=\"loader\"><span class=\"dot\"></span><span class=\"dot\"></span><span class=\"dot\"></span><span class=\"dot\"></span><span class=\"dot\"></span></div>');\n      }\n      break;\n\n    case 'dashboard.component.loading.end':\n      var $comp = $(data.selector);\n      if ($comp && $comp.children('.loader').length) {\n          $comp.children('.loader').remove();\n      }\n      break;\n\n  ;\n      }\n    }});\n\n    window.addEventListener('load', function() {\n      if (window.ee) {\n        window.ee.emit('resize-onload');\n      }\n    });\n  }\n\n    \n</script><script>\n\n      function detectOS() {\n        if (navigator.appVersion.indexOf('Win') != -1) return 'Windows';\n        else if (navigator.appVersion.indexOf('Mac') != -1) return 'MacOS';\n        else if (navigator.appVersion.indexOf('X11') != -1) return 'UNIX';\n        else if (navigator.appVersion.indexOf('Linux') != -1) return 'Linux';\n        return 'Unknown OS';\n      }\n\n      function getBodyScale() {\n        var scale = window.innerWidth / document.body.clientWidth;\n        if (document.body.clientHeight * scale > window.innerHeight || document.querySelector('html').offsetHeight > window.innerHeight) {\n          var osName = detectOS();\n\n          scale = parseFloat(((window.innerWidth - 20) / document.body.clientWidth).toFixed(3));\n        }\n\n        return scale;\n      }\n\n      function transformPage() {\n        var scale = getBodyScale();\n        document.body.style.transform = 'scale(' + scale + ')';\n        document.body.style.transformOrigin = 'left top';\n      }\n\n      window.addEventListener('load', transformPage);\n      window.addEventListener('resize', transformPage);\n\n      setTimeout(transformPage, 500);\n    \n</script>","gjs-components":"[{\"tagName\":\"script\",\"type\":\"sp-code\",\"badgable\":false,\"content\":\"\\n      \\n  if (window.spSocket) {\\n    function nav(url, isNewWindow) {\\n      if (isNewWindow) {\\n        window.open(url, '_blank');\\n      } else {\\n        window.location.href = url;\\n      }\\n    }\\n\\n    window.spSocket.subscribe({ eventName: 'dashboard', callback: function(data) {\\n      if (!data) return;\\n\\n      switch(data.type) {\\n        \\n      case 'dashboard.dom.updateAttr':\\n        var $comp = $(data.selector);\\n\\n        if ($comp) {\\n          if (data.attrs && data.attrs instanceof Array) {\\n            data.attrs.forEach(function(attr) {\\n              Object.keys(attr).forEach(function(key) {\\n                $comp.attr(key, attr[key]);\\n              });\\n            });\\n          }\\n        }\\n        break;\\n\\n    ;\\n        \\n    case 'dashboard.window.eval':\\n      var handleEvalResult = function(event) {\\n        if (event.data && event.data.type && event.data.type === \\\"dashboard.window.eval\\\") {\\n          if (event.data.err) {\\n            window.spSocket.send({ eventName: \\\"dashboard\\\", data: { type: \\\"dashboard.window.evalResponse\\\", err: event.data.err } });\\n            return;\\n          }\\n          window.spSocket.send({ eventName: \\\"dashboard\\\", data: { type: \\\"dashboard.window.evalResponse\\\", data: event.data.data } });\\n        }\\n      }\\n  \\n      var propertiesToCover = [\\\"location\\\"];\\n      var createSandboxContext = function(srcObj, propertiesToCover) {\\n        var context = {};\\n        Object.keys(srcObj).forEach(function (key) {\\n          if (srcObj.hasOwnProperty(key) && propertiesToCover.indexOf(key) > -1) {\\n            context[key] = srcObj[key];\\n          }\\n        });\\n        return context;\\n      }\\n\\n      var createIframe = function() {\\n        var $iframe = document.getElementById(\\\"dashboard-sandbox\\\");\\n        if (!$iframe) {\\n          $iframe = document.createElement(\\\"iframe\\\");\\n          $iframe.setAttribute(\\\"id\\\", \\\"dashboard-sandbox\\\");\\n          $iframe.setAttribute(\\\"sandbox\\\", \\\"allow-same-origin allow-scripts\\\");\\n          $iframe.style.display = \\\"none\\\";\\n        }\\n        $iframe.innerHTML = \\\"\\\";\\n\\n        return $iframe;\\n      };\\n\\n      var initializeSandbox = function(code) {\\n        // var $iframe = createIframe();\\n        var $script = document.getElementById('sandbox');\\n\\n        if (!$script) {\\n          $script = document.createElement(\\\"script\\\");\\n          $script.setAttribute('id', 'sandbox');\\n        }\\n\\n        $script.innerText = '(function() { return eval(' + code + ') })()';\\n\\n        document.body.appendChild($script);\\n\\n        // $iframe.contentWindow.addEventListener(\\\"message\\\", handleEvalResult, false);\\n        // $iframe.contentWindow.sandboxContext = createSandboxContext(window, propertiesToCover);\\n        // $iframe.contentDocument.body.appendChild($script);\\n      }\\n\\n      initializeSandbox(data.code);\\n      break;\\n\\n  ;\\n        \\n    case 'dashboard.component.show':\\n      var $comp = $('#' + data.componentId);\\n      if ($comp) {\\n          $comp.show();\\n      }\\n      break;\\n\\n  ;\\n        \\n    case 'dashboard.component.hide':\\n      var $comp = $('#' + data.componentId);\\n      if ($comp) {\\n          $comp.hide();\\n      }\\n      break;\\n\\n  ;\\n        \\n    case 'dashboard.component.loading.start':\\n      var $comp = $(data.selector);\\n      if ($comp && !$comp.children('.loader').length) {\\n          $comp.prepend('<div class=\\\"loader\\\"><span class=\\\"dot\\\"></span><span class=\\\"dot\\\"></span><span class=\\\"dot\\\"></span><span class=\\\"dot\\\"></span><span class=\\\"dot\\\"></span></div>');\\n      }\\n      break;\\n\\n    case 'dashboard.component.loading.end':\\n      var $comp = $(data.selector);\\n      if ($comp && $comp.children('.loader').length) {\\n          $comp.children('.loader').remove();\\n      }\\n      break;\\n\\n  ;\\n      }\\n    }});\\n\\n    window.addEventListener('load', function() {\\n      if (window.ee) {\\n        window.ee.emit('resize-onload');\\n      }\\n    });\\n  }\\n\\n    \",\"classes\":[{\"name\":\"sp-global-event-listener\",\"label\":\"sp-global-event-listener\",\"type\":1,\"active\":true,\"private\":true,\"protected\":false}],\"open\":false},{\"tagName\":\"script\",\"type\":\"sp-code\",\"badgable\":false,\"content\":\"\\n      \\n  if (window.spSocket) {\\n    function nav(url, isNewWindow) {\\n      if (isNewWindow) {\\n        window.open(url, '_blank');\\n      } else {\\n        window.location.href = url;\\n      }\\n    }\\n\\n    window.spSocket.subscribe({ eventName: 'dashboard', callback: function(data) {\\n      if (!data) return;\\n\\n      switch(data.type) {\\n        \\n      case 'dashboard.dom.updateAttr':\\n        var $comp = $(data.selector);\\n\\n        if ($comp) {\\n          if (data.attrs && data.attrs instanceof Array) {\\n            data.attrs.forEach(function(attr) {\\n              Object.keys(attr).forEach(function(key) {\\n                $comp.attr(key, attr[key]);\\n              });\\n            });\\n          }\\n        }\\n        break;\\n\\n    ;\\n        \\n    case 'dashboard.window.eval':\\n      var handleEvalResult = function(event) {\\n        if (event.data && event.data.type && event.data.type === \\\"dashboard.window.eval\\\") {\\n          if (event.data.err) {\\n            window.spSocket.send({ eventName: \\\"dashboard\\\", data: { type: \\\"dashboard.window.evalResponse\\\", err: event.data.err } });\\n            return;\\n          }\\n          window.spSocket.send({ eventName: \\\"dashboard\\\", data: { type: \\\"dashboard.window.evalResponse\\\", data: event.data.data } });\\n        }\\n      }\\n  \\n      var propertiesToCover = [\\\"location\\\"];\\n      var createSandboxContext = function(srcObj, propertiesToCover) {\\n        var context = {};\\n        Object.keys(srcObj).forEach(function (key) {\\n          if (srcObj.hasOwnProperty(key) && propertiesToCover.indexOf(key) > -1) {\\n            context[key] = srcObj[key];\\n          }\\n        });\\n        return context;\\n      }\\n\\n      var createIframe = function() {\\n        var $iframe = document.getElementById(\\\"dashboard-sandbox\\\");\\n        if (!$iframe) {\\n          $iframe = document.createElement(\\\"iframe\\\");\\n          $iframe.setAttribute(\\\"id\\\", \\\"dashboard-sandbox\\\");\\n          $iframe.setAttribute(\\\"sandbox\\\", \\\"allow-same-origin allow-scripts\\\");\\n          $iframe.style.display = \\\"none\\\";\\n        }\\n        $iframe.innerHTML = \\\"\\\";\\n\\n        return $iframe;\\n      };\\n\\n      var initializeSandbox = function(code) {\\n        // var $iframe = createIframe();\\n        var $script = document.getElementById('sandbox');\\n\\n        if (!$script) {\\n          $script = document.createElement(\\\"script\\\");\\n          $script.setAttribute('id', 'sandbox');\\n        }\\n\\n        $script.innerText = '(function() { return eval(' + code + ') })()';\\n\\n        document.body.appendChild($script);\\n\\n        // $iframe.contentWindow.addEventListener(\\\"message\\\", handleEvalResult, false);\\n        // $iframe.contentWindow.sandboxContext = createSandboxContext(window, propertiesToCover);\\n        // $iframe.contentDocument.body.appendChild($script);\\n      }\\n\\n      initializeSandbox(data.code);\\n      break;\\n\\n  ;\\n        \\n    case 'dashboard.component.show':\\n      var $comp = $('#' + data.componentId);\\n      if ($comp) {\\n          $comp.show();\\n      }\\n      break;\\n\\n  ;\\n        \\n    case 'dashboard.component.hide':\\n      var $comp = $('#' + data.componentId);\\n      if ($comp) {\\n          $comp.hide();\\n      }\\n      break;\\n\\n  ;\\n        \\n    case 'dashboard.component.loading.start':\\n      var $comp = $(data.selector);\\n      if ($comp && !$comp.children('.loader').length) {\\n          $comp.prepend('<div class=\\\"loader\\\"><span class=\\\"dot\\\"></span><span class=\\\"dot\\\"></span><span class=\\\"dot\\\"></span><span class=\\\"dot\\\"></span><span class=\\\"dot\\\"></span></div>');\\n      }\\n      break;\\n\\n    case 'dashboard.component.loading.end':\\n      var $comp = $(data.selector);\\n      if ($comp && $comp.children('.loader').length) {\\n          $comp.children('.loader').remove();\\n      }\\n      break;\\n\\n  ;\\n      }\\n    }});\\n\\n    window.addEventListener('load', function() {\\n      if (window.ee) {\\n        window.ee.emit('resize-onload');\\n      }\\n    });\\n  }\\n\\n    \",\"classes\":[{\"name\":\"sp-global-event-listener\",\"label\":\"sp-global-event-listener\",\"type\":1,\"active\":true,\"private\":true,\"protected\":false}],\"open\":false},{\"tagName\":\"script\",\"type\":\"sp-code\",\"badgable\":false,\"content\":\"\\n      function detectOS() {\\n        if (navigator.appVersion.indexOf('Win') != -1) return 'Windows';\\n        else if (navigator.appVersion.indexOf('Mac') != -1) return 'MacOS';\\n        else if (navigator.appVersion.indexOf('X11') != -1) return 'UNIX';\\n        else if (navigator.appVersion.indexOf('Linux') != -1) return 'Linux';\\n        return 'Unknown OS';\\n      }\\n\\n      function getBodyScale() {\\n        var scale = window.innerWidth / document.body.clientWidth;\\n        if (document.body.clientHeight * scale > window.innerHeight || document.querySelector('html').offsetHeight > window.innerHeight) {\\n          var osName = detectOS();\\n\\n          scale = parseFloat(((window.innerWidth - 20) / document.body.clientWidth).toFixed(3));\\n        }\\n\\n        return scale;\\n      }\\n\\n      function transformPage() {\\n        var scale = getBodyScale();\\n        document.body.style.transform = 'scale(' + scale + ')';\\n        document.body.style.transformOrigin = 'left top';\\n      }\\n\\n      window.addEventListener('load', transformPage);\\n      window.addEventListener('resize', transformPage);\\n\\n      setTimeout(transformPage, 500);\\n    \",\"classes\":[{\"name\":\"sp-page-adaptor\",\"label\":\"sp-page-adaptor\",\"type\":1,\"active\":true,\"private\":true,\"protected\":false}],\"open\":false}]","gjs-css":"* { box-sizing: border-box; } body {margin: 0;} *:focus { outline-offset: 2px; outline-color: rgba(0,132,255,0.2);} [data-gjs-type='wrapper'] .no-events > * {pointer-events: none} [loader=in] {overflow: hidden;} .loader{position: absolute; top: 0; right:0; bottom: 0; left: 0; z-index: 99; display: flex;justify-content: center;align-items: center; background-color: rgba(255,255,255,0.2);} .loader>.dot {margin: 5px; width: 24px; height: 24px; flex-shrink: 0; background: #0084ff; border-radius: 100%; display: inline-block; animation: slide 1s infinite;} .loader>.dot:nth-child(1) { animation-delay: 0.1s; background: #0084ff; } .loader>.dot:nth-child(2) { animation-delay: 0.2s; background: #339cff; } .loader>.dot:nth-child(3) { animation-delay: 0.3s; background: #66b5ff; } .loader>.dot:nth-child(4) { animation-delay: 0.4s; background: #99ceff; } .loader>.dot:nth-child(5) { animation-delay: 0.5s; background: #cce6ff; } @-moz-keyframes slide { 0% { transform: scale(1); } 50% { opacity: 0.3; transform: scale(1.6); } 100% { transform: scale(1); }  } @-webkit-keyframes slide { 0% { transform: scale(1); } 50% { opacity: 0.3; transform: scale(1.6); } 100% { transform: scale(1); }  } @-o-keyframes slide { 0% { transform: scale(1); } 50% { opacity: 0.3; transform: scale(1.6); } 100% { transform: scale(1); }  } @keyframes slide { 0% { transform: scale(1); } 50% { opacity: 0.3; transform: scale(1.6); } 100% { transform: scale(1); } } body{position:static;padding:0;overflow-x:auto;overflow-y:auto;width:1920.00px!important;height:1080.00px!important;opacity:1;}","gjs-styles":"[{\"selectors\":[{\"name\":\"wrapper\",\"label\":\"wrapper\",\"type\":2,\"active\":true,\"private\":false,\"protected\":false}],\"style\":{\"position\":\"static\",\"padding\":\"0\",\"overflow-x\":\"auto\",\"overflow-y\":\"auto\",\"width\":\"1920.00px!important\",\"height\":\"1080.00px!important\",\"opacity\":1},\"wrapper\":1}]","gjs-pageList":"[{\"components\":\"[{\\\"tagName\\\":\\\"script\\\",\\\"type\\\":\\\"sp-code\\\",\\\"badgable\\\":false,\\\"content\\\":\\\"\\\\n      \\\\n  if (window.spSocket) {\\\\n    function nav(url, isNewWindow) {\\\\n      if (isNewWindow) {\\\\n        window.open(url, '_blank');\\\\n      } else {\\\\n        window.location.href = url;\\\\n      }\\\\n    }\\\\n\\\\n    window.spSocket.subscribe({ eventName: 'dashboard', callback: function(data) {\\\\n      if (!data) return;\\\\n\\\\n      switch(data.type) {\\\\n        \\\\n      case 'dashboard.dom.updateAttr':\\\\n        var $comp = $(data.selector);\\\\n\\\\n        if ($comp) {\\\\n          if (data.attrs && data.attrs instanceof Array) {\\\\n            data.attrs.forEach(function(attr) {\\\\n              Object.keys(attr).forEach(function(key) {\\\\n                $comp.attr(key, attr[key]);\\\\n              });\\\\n            });\\\\n          }\\\\n        }\\\\n        break;\\\\n\\\\n    ;\\\\n        \\\\n    case 'dashboard.window.eval':\\\\n      var handleEvalResult = function(event) {\\\\n        if (event.data && event.data.type && event.data.type === \\\\\\\"dashboard.window.eval\\\\\\\") {\\\\n          if (event.data.err) {\\\\n            window.spSocket.send({ eventName: \\\\\\\"dashboard\\\\\\\", data: { type: \\\\\\\"dashboard.window.evalResponse\\\\\\\", err: event.data.err } });\\\\n            return;\\\\n          }\\\\n          window.spSocket.send({ eventName: \\\\\\\"dashboard\\\\\\\", data: { type: \\\\\\\"dashboard.window.evalResponse\\\\\\\", data: event.data.data } });\\\\n        }\\\\n      }\\\\n  \\\\n      var propertiesToCover = [\\\\\\\"location\\\\\\\"];\\\\n      var createSandboxContext = function(srcObj, propertiesToCover) {\\\\n        var context = {};\\\\n        Object.keys(srcObj).forEach(function (key) {\\\\n          if (srcObj.hasOwnProperty(key) && propertiesToCover.indexOf(key) > -1) {\\\\n            context[key] = srcObj[key];\\\\n          }\\\\n        });\\\\n        return context;\\\\n      }\\\\n\\\\n      var createIframe = function() {\\\\n        var $iframe = document.getElementById(\\\\\\\"dashboard-sandbox\\\\\\\");\\\\n        if (!$iframe) {\\\\n          $iframe = document.createElement(\\\\\\\"iframe\\\\\\\");\\\\n          $iframe.setAttribute(\\\\\\\"id\\\\\\\", \\\\\\\"dashboard-sandbox\\\\\\\");\\\\n          $iframe.setAttribute(\\\\\\\"sandbox\\\\\\\", \\\\\\\"allow-same-origin allow-scripts\\\\\\\");\\\\n          $iframe.style.display = \\\\\\\"none\\\\\\\";\\\\n        }\\\\n        $iframe.innerHTML = \\\\\\\"\\\\\\\";\\\\n\\\\n        return $iframe;\\\\n      };\\\\n\\\\n      var initializeSandbox = function(code) {\\\\n        // var $iframe = createIframe();\\\\n        var $script = document.getElementById('sandbox');\\\\n\\\\n        if (!$script) {\\\\n          $script = document.createElement(\\\\\\\"script\\\\\\\");\\\\n          $script.setAttribute('id', 'sandbox');\\\\n        }\\\\n\\\\n        $script.innerText = '(function() { return eval(' + code + ') })()';\\\\n\\\\n        document.body.appendChild($script);\\\\n\\\\n        // $iframe.contentWindow.addEventListener(\\\\\\\"message\\\\\\\", handleEvalResult, false);\\\\n        // $iframe.contentWindow.sandboxContext = createSandboxContext(window, propertiesToCover);\\\\n        // $iframe.contentDocument.body.appendChild($script);\\\\n      }\\\\n\\\\n      initializeSandbox(data.code);\\\\n      break;\\\\n\\\\n  ;\\\\n        \\\\n    case 'dashboard.component.show':\\\\n      var $comp = $('#' + data.componentId);\\\\n      if ($comp) {\\\\n          $comp.show();\\\\n      }\\\\n      break;\\\\n\\\\n  ;\\\\n        \\\\n    case 'dashboard.component.hide':\\\\n      var $comp = $('#' + data.componentId);\\\\n      if ($comp) {\\\\n          $comp.hide();\\\\n      }\\\\n      break;\\\\n\\\\n  ;\\\\n        \\\\n    case 'dashboard.component.loading.start':\\\\n      var $comp = $(data.selector);\\\\n      if ($comp && !$comp.children('.loader').length) {\\\\n          $comp.prepend('<div class=\\\\\\\"loader\\\\\\\"><span class=\\\\\\\"dot\\\\\\\"></span><span class=\\\\\\\"dot\\\\\\\"></span><span class=\\\\\\\"dot\\\\\\\"></span><span class=\\\\\\\"dot\\\\\\\"></span><span class=\\\\\\\"dot\\\\\\\"></span></div>');\\\\n      }\\\\n      break;\\\\n\\\\n    case 'dashboard.component.loading.end':\\\\n      var $comp = $(data.selector);\\\\n      if ($comp && $comp.children('.loader').length) {\\\\n          $comp.children('.loader').remove();\\\\n      }\\\\n      break;\\\\n\\\\n  ;\\\\n      }\\\\n    }});\\\\n\\\\n    window.addEventListener('load', function() {\\\\n      if (window.ee) {\\\\n        window.ee.emit('resize-onload');\\\\n      }\\\\n    });\\\\n  }\\\\n\\\\n    \\\",\\\"classes\\\":[{\\\"name\\\":\\\"sp-global-event-listener\\\",\\\"label\\\":\\\"sp-global-event-listener\\\",\\\"type\\\":1,\\\"active\\\":true,\\\"private\\\":true,\\\"protected\\\":false}],\\\"open\\\":false},{\\\"tagName\\\":\\\"script\\\",\\\"type\\\":\\\"sp-code\\\",\\\"badgable\\\":false,\\\"content\\\":\\\"\\\\n      \\\\n  if (window.spSocket) {\\\\n    function nav(url, isNewWindow) {\\\\n      if (isNewWindow) {\\\\n        window.open(url, '_blank');\\\\n      } else {\\\\n        window.location.href = url;\\\\n      }\\\\n    }\\\\n\\\\n    window.spSocket.subscribe({ eventName: 'dashboard', callback: function(data) {\\\\n      if (!data) return;\\\\n\\\\n      switch(data.type) {\\\\n        \\\\n      case 'dashboard.dom.updateAttr':\\\\n        var $comp = $(data.selector);\\\\n\\\\n        if ($comp) {\\\\n          if (data.attrs && data.attrs instanceof Array) {\\\\n            data.attrs.forEach(function(attr) {\\\\n              Object.keys(attr).forEach(function(key) {\\\\n                $comp.attr(key, attr[key]);\\\\n              });\\\\n            });\\\\n          }\\\\n        }\\\\n        break;\\\\n\\\\n    ;\\\\n        \\\\n    case 'dashboard.window.eval':\\\\n      var handleEvalResult = function(event) {\\\\n        if (event.data && event.data.type && event.data.type === \\\\\\\"dashboard.window.eval\\\\\\\") {\\\\n          if (event.data.err) {\\\\n            window.spSocket.send({ eventName: \\\\\\\"dashboard\\\\\\\", data: { type: \\\\\\\"dashboard.window.evalResponse\\\\\\\", err: event.data.err } });\\\\n            return;\\\\n          }\\\\n          window.spSocket.send({ eventName: \\\\\\\"dashboard\\\\\\\", data: { type: \\\\\\\"dashboard.window.evalResponse\\\\\\\", data: event.data.data } });\\\\n        }\\\\n      }\\\\n  \\\\n      var propertiesToCover = [\\\\\\\"location\\\\\\\"];\\\\n      var createSandboxContext = function(srcObj, propertiesToCover) {\\\\n        var context = {};\\\\n        Object.keys(srcObj).forEach(function (key) {\\\\n          if (srcObj.hasOwnProperty(key) && propertiesToCover.indexOf(key) > -1) {\\\\n            context[key] = srcObj[key];\\\\n          }\\\\n        });\\\\n        return context;\\\\n      }\\\\n\\\\n      var createIframe = function() {\\\\n        var $iframe = document.getElementById(\\\\\\\"dashboard-sandbox\\\\\\\");\\\\n        if (!$iframe) {\\\\n          $iframe = document.createElement(\\\\\\\"iframe\\\\\\\");\\\\n          $iframe.setAttribute(\\\\\\\"id\\\\\\\", \\\\\\\"dashboard-sandbox\\\\\\\");\\\\n          $iframe.setAttribute(\\\\\\\"sandbox\\\\\\\", \\\\\\\"allow-same-origin allow-scripts\\\\\\\");\\\\n          $iframe.style.display = \\\\\\\"none\\\\\\\";\\\\n        }\\\\n        $iframe.innerHTML = \\\\\\\"\\\\\\\";\\\\n\\\\n        return $iframe;\\\\n      };\\\\n\\\\n      var initializeSandbox = function(code) {\\\\n        // var $iframe = createIframe();\\\\n        var $script = document.getElementById('sandbox');\\\\n\\\\n        if (!$script) {\\\\n          $script = document.createElement(\\\\\\\"script\\\\\\\");\\\\n          $script.setAttribute('id', 'sandbox');\\\\n        }\\\\n\\\\n        $script.innerText = '(function() { return eval(' + code + ') })()';\\\\n\\\\n        document.body.appendChild($script);\\\\n\\\\n        // $iframe.contentWindow.addEventListener(\\\\\\\"message\\\\\\\", handleEvalResult, false);\\\\n        // $iframe.contentWindow.sandboxContext = createSandboxContext(window, propertiesToCover);\\\\n        // $iframe.contentDocument.body.appendChild($script);\\\\n      }\\\\n\\\\n      initializeSandbox(data.code);\\\\n      break;\\\\n\\\\n  ;\\\\n        \\\\n    case 'dashboard.component.show':\\\\n      var $comp = $('#' + data.componentId);\\\\n      if ($comp) {\\\\n          $comp.show();\\\\n      }\\\\n      break;\\\\n\\\\n  ;\\\\n        \\\\n    case 'dashboard.component.hide':\\\\n      var $comp = $('#' + data.componentId);\\\\n      if ($comp) {\\\\n          $comp.hide();\\\\n      }\\\\n      break;\\\\n\\\\n  ;\\\\n        \\\\n    case 'dashboard.component.loading.start':\\\\n      var $comp = $(data.selector);\\\\n      if ($comp && !$comp.children('.loader').length) {\\\\n          $comp.prepend('<div class=\\\\\\\"loader\\\\\\\"><span class=\\\\\\\"dot\\\\\\\"></span><span class=\\\\\\\"dot\\\\\\\"></span><span class=\\\\\\\"dot\\\\\\\"></span><span class=\\\\\\\"dot\\\\\\\"></span><span class=\\\\\\\"dot\\\\\\\"></span></div>');\\\\n      }\\\\n      break;\\\\n\\\\n    case 'dashboard.component.loading.end':\\\\n      var $comp = $(data.selector);\\\\n      if ($comp && $comp.children('.loader').length) {\\\\n          $comp.children('.loader').remove();\\\\n      }\\\\n      break;\\\\n\\\\n  ;\\\\n      }\\\\n    }});\\\\n\\\\n    window.addEventListener('load', function() {\\\\n      if (window.ee) {\\\\n        window.ee.emit('resize-onload');\\\\n      }\\\\n    });\\\\n  }\\\\n\\\\n    \\\",\\\"classes\\\":[{\\\"name\\\":\\\"sp-global-event-listener\\\",\\\"label\\\":\\\"sp-global-event-listener\\\",\\\"type\\\":1,\\\"active\\\":true,\\\"private\\\":true,\\\"protected\\\":false}],\\\"open\\\":false},{\\\"tagName\\\":\\\"script\\\",\\\"type\\\":\\\"sp-code\\\",\\\"badgable\\\":false,\\\"content\\\":\\\"\\\\n      function detectOS() {\\\\n        if (navigator.appVersion.indexOf('Win') != -1) return 'Windows';\\\\n        else if (navigator.appVersion.indexOf('Mac') != -1) return 'MacOS';\\\\n        else if (navigator.appVersion.indexOf('X11') != -1) return 'UNIX';\\\\n        else if (navigator.appVersion.indexOf('Linux') != -1) return 'Linux';\\\\n        return 'Unknown OS';\\\\n      }\\\\n\\\\n      function getBodyScale() {\\\\n        var scale = window.innerWidth / document.body.clientWidth;\\\\n        if (document.body.clientHeight * scale > window.innerHeight || document.querySelector('html').offsetHeight > window.innerHeight) {\\\\n          var osName = detectOS();\\\\n\\\\n          scale = parseFloat(((window.innerWidth - 20) / document.body.clientWidth).toFixed(3));\\\\n        }\\\\n\\\\n        return scale;\\\\n      }\\\\n\\\\n      function transformPage() {\\\\n        var scale = getBodyScale();\\\\n        document.body.style.transform = 'scale(' + scale + ')';\\\\n        document.body.style.transformOrigin = 'left top';\\\\n      }\\\\n\\\\n      window.addEventListener('load', transformPage);\\\\n      window.addEventListener('resize', transformPage);\\\\n\\\\n      setTimeout(transformPage, 500);\\\\n    \\\",\\\"classes\\\":[{\\\"name\\\":\\\"sp-page-adaptor\\\",\\\"label\\\":\\\"sp-page-adaptor\\\",\\\"type\\\":1,\\\"active\\\":true,\\\"private\\\":true,\\\"protected\\\":false}],\\\"open\\\":false}]\",\"styles\":\"[{\\\"selectors\\\":[{\\\"name\\\":\\\"wrapper\\\",\\\"label\\\":\\\"wrapper\\\",\\\"type\\\":2,\\\"active\\\":true,\\\"private\\\":false,\\\"protected\\\":false}],\\\"style\\\":{\\\"position\\\":\\\"static\\\",\\\"padding\\\":\\\"0\\\",\\\"overflow-x\\\":\\\"auto\\\",\\\"overflow-y\\\":\\\"auto\\\",\\\"width\\\":\\\"1920.00px!important\\\",\\\"height\\\":\\\"1080.00px!important\\\",\\\"opacity\\\":1},\\\"wrapper\\\":1}]\",\"css\":\"* { box-sizing: border-box; } body {margin: 0;} *:focus { outline-offset: 2px; outline-color: rgba(0,132,255,0.2);} [data-gjs-type='wrapper'] .no-events > * {pointer-events: none} [loader=in] {overflow: hidden;} .loader{position: absolute; top: 0; right:0; bottom: 0; left: 0; z-index: 99; display: flex;justify-content: center;align-items: center; background-color: rgba(255,255,255,0.2);} .loader>.dot {margin: 5px; width: 24px; height: 24px; flex-shrink: 0; background: #0084ff; border-radius: 100%; display: inline-block; animation: slide 1s infinite;} .loader>.dot:nth-child(1) { animation-delay: 0.1s; background: #0084ff; } .loader>.dot:nth-child(2) { animation-delay: 0.2s; background: #339cff; } .loader>.dot:nth-child(3) { animation-delay: 0.3s; background: #66b5ff; } .loader>.dot:nth-child(4) { animation-delay: 0.4s; background: #99ceff; } .loader>.dot:nth-child(5) { animation-delay: 0.5s; background: #cce6ff; } @-moz-keyframes slide { 0% { transform: scale(1); } 50% { opacity: 0.3; transform: scale(1.6); } 100% { transform: scale(1); }  } @-webkit-keyframes slide { 0% { transform: scale(1); } 50% { opacity: 0.3; transform: scale(1.6); } 100% { transform: scale(1); }  } @-o-keyframes slide { 0% { transform: scale(1); } 50% { opacity: 0.3; transform: scale(1.6); } 100% { transform: scale(1); }  } @keyframes slide { 0% { transform: scale(1); } 50% { opacity: 0.3; transform: scale(1.6); } 100% { transform: scale(1); } } body{position:static;padding:0;overflow-x:auto;overflow-y:auto;width:1920.00px!important;height:1080.00px!important;opacity:1;}\",\"groups\":\"{\\\"groups\\\":[],\\\"compIdToGroupMap\\\":{}}\",\"pmComponents\":[{\"tagName\":\"script\",\"type\":\"sp-code\",\"badgable\":false,\"content\":\"\\n      \\n  if (window.spSocket) {\\n    function nav(url, isNewWindow) {\\n      if (isNewWindow) {\\n        window.open(url, '_blank');\\n      } else {\\n        window.location.href = url;\\n      }\\n    }\\n\\n    window.spSocket.subscribe({ eventName: 'dashboard', callback: function(data) {\\n      if (!data) return;\\n\\n      switch(data.type) {\\n        \\n      case 'dashboard.dom.updateAttr':\\n        var $comp = $(data.selector);\\n\\n        if ($comp) {\\n          if (data.attrs && data.attrs instanceof Array) {\\n            data.attrs.forEach(function(attr) {\\n              Object.keys(attr).forEach(function(key) {\\n                $comp.attr(key, attr[key]);\\n              });\\n            });\\n          }\\n        }\\n        break;\\n\\n    ;\\n        \\n    case 'dashboard.window.eval':\\n      var handleEvalResult = function(event) {\\n        if (event.data && event.data.type && event.data.type === \\\"dashboard.window.eval\\\") {\\n          if (event.data.err) {\\n            window.spSocket.send({ eventName: \\\"dashboard\\\", data: { type: \\\"dashboard.window.evalResponse\\\", err: event.data.err } });\\n            return;\\n          }\\n          window.spSocket.send({ eventName: \\\"dashboard\\\", data: { type: \\\"dashboard.window.evalResponse\\\", data: event.data.data } });\\n        }\\n      }\\n  \\n      var propertiesToCover = [\\\"location\\\"];\\n      var createSandboxContext = function(srcObj, propertiesToCover) {\\n        var context = {};\\n        Object.keys(srcObj).forEach(function (key) {\\n          if (srcObj.hasOwnProperty(key) && propertiesToCover.indexOf(key) > -1) {\\n            context[key] = srcObj[key];\\n          }\\n        });\\n        return context;\\n      }\\n\\n      var createIframe = function() {\\n        var $iframe = document.getElementById(\\\"dashboard-sandbox\\\");\\n        if (!$iframe) {\\n          $iframe = document.createElement(\\\"iframe\\\");\\n          $iframe.setAttribute(\\\"id\\\", \\\"dashboard-sandbox\\\");\\n          $iframe.setAttribute(\\\"sandbox\\\", \\\"allow-same-origin allow-scripts\\\");\\n          $iframe.style.display = \\\"none\\\";\\n        }\\n        $iframe.innerHTML = \\\"\\\";\\n\\n        return $iframe;\\n      };\\n\\n      var initializeSandbox = function(code) {\\n        // var $iframe = createIframe();\\n        var $script = document.getElementById('sandbox');\\n\\n        if (!$script) {\\n          $script = document.createElement(\\\"script\\\");\\n          $script.setAttribute('id', 'sandbox');\\n        }\\n\\n        $script.innerText = '(function() { return eval(' + code + ') })()';\\n\\n        document.body.appendChild($script);\\n\\n        // $iframe.contentWindow.addEventListener(\\\"message\\\", handleEvalResult, false);\\n        // $iframe.contentWindow.sandboxContext = createSandboxContext(window, propertiesToCover);\\n        // $iframe.contentDocument.body.appendChild($script);\\n      }\\n\\n      initializeSandbox(data.code);\\n      break;\\n\\n  ;\\n        \\n    case 'dashboard.component.show':\\n      var $comp = $('#' + data.componentId);\\n      if ($comp) {\\n          $comp.show();\\n      }\\n      break;\\n\\n  ;\\n        \\n    case 'dashboard.component.hide':\\n      var $comp = $('#' + data.componentId);\\n      if ($comp) {\\n          $comp.hide();\\n      }\\n      break;\\n\\n  ;\\n        \\n    case 'dashboard.component.loading.start':\\n      var $comp = $(data.selector);\\n      if ($comp && !$comp.children('.loader').length) {\\n          $comp.prepend('<div class=\\\"loader\\\"><span class=\\\"dot\\\"></span><span class=\\\"dot\\\"></span><span class=\\\"dot\\\"></span><span class=\\\"dot\\\"></span><span class=\\\"dot\\\"></span></div>');\\n      }\\n      break;\\n\\n    case 'dashboard.component.loading.end':\\n      var $comp = $(data.selector);\\n      if ($comp && $comp.children('.loader').length) {\\n          $comp.children('.loader').remove();\\n      }\\n      break;\\n\\n  ;\\n      }\\n    }});\\n\\n    window.addEventListener('load', function() {\\n      if (window.ee) {\\n        window.ee.emit('resize-onload');\\n      }\\n    });\\n  }\\n\\n    \",\"classes\":[{\"name\":\"sp-global-event-listener\",\"label\":\"sp-global-event-listener\",\"type\":1,\"active\":true,\"private\":true,\"protected\":false}],\"open\":false},{\"tagName\":\"script\",\"type\":\"sp-code\",\"badgable\":false,\"content\":\"\\n      \\n  if (window.spSocket) {\\n    function nav(url, isNewWindow) {\\n      if (isNewWindow) {\\n        window.open(url, '_blank');\\n      } else {\\n        window.location.href = url;\\n      }\\n    }\\n\\n    window.spSocket.subscribe({ eventName: 'dashboard', callback: function(data) {\\n      if (!data) return;\\n\\n      switch(data.type) {\\n        \\n      case 'dashboard.dom.updateAttr':\\n        var $comp = $(data.selector);\\n\\n        if ($comp) {\\n          if (data.attrs && data.attrs instanceof Array) {\\n            data.attrs.forEach(function(attr) {\\n              Object.keys(attr).forEach(function(key) {\\n                $comp.attr(key, attr[key]);\\n              });\\n            });\\n          }\\n        }\\n        break;\\n\\n    ;\\n        \\n    case 'dashboard.window.eval':\\n      var handleEvalResult = function(event) {\\n        if (event.data && event.data.type && event.data.type === \\\"dashboard.window.eval\\\") {\\n          if (event.data.err) {\\n            window.spSocket.send({ eventName: \\\"dashboard\\\", data: { type: \\\"dashboard.window.evalResponse\\\", err: event.data.err } });\\n            return;\\n          }\\n          window.spSocket.send({ eventName: \\\"dashboard\\\", data: { type: \\\"dashboard.window.evalResponse\\\", data: event.data.data } });\\n        }\\n      }\\n  \\n      var propertiesToCover = [\\\"location\\\"];\\n      var createSandboxContext = function(srcObj, propertiesToCover) {\\n        var context = {};\\n        Object.keys(srcObj).forEach(function (key) {\\n          if (srcObj.hasOwnProperty(key) && propertiesToCover.indexOf(key) > -1) {\\n            context[key] = srcObj[key];\\n          }\\n        });\\n        return context;\\n      }\\n\\n      var createIframe = function() {\\n        var $iframe = document.getElementById(\\\"dashboard-sandbox\\\");\\n        if (!$iframe) {\\n          $iframe = document.createElement(\\\"iframe\\\");\\n          $iframe.setAttribute(\\\"id\\\", \\\"dashboard-sandbox\\\");\\n          $iframe.setAttribute(\\\"sandbox\\\", \\\"allow-same-origin allow-scripts\\\");\\n          $iframe.style.display = \\\"none\\\";\\n        }\\n        $iframe.innerHTML = \\\"\\\";\\n\\n        return $iframe;\\n      };\\n\\n      var initializeSandbox = function(code) {\\n        // var $iframe = createIframe();\\n        var $script = document.getElementById('sandbox');\\n\\n        if (!$script) {\\n          $script = document.createElement(\\\"script\\\");\\n          $script.setAttribute('id', 'sandbox');\\n        }\\n\\n        $script.innerText = '(function() { return eval(' + code + ') })()';\\n\\n        document.body.appendChild($script);\\n\\n        // $iframe.contentWindow.addEventListener(\\\"message\\\", handleEvalResult, false);\\n        // $iframe.contentWindow.sandboxContext = createSandboxContext(window, propertiesToCover);\\n        // $iframe.contentDocument.body.appendChild($script);\\n      }\\n\\n      initializeSandbox(data.code);\\n      break;\\n\\n  ;\\n        \\n    case 'dashboard.component.show':\\n      var $comp = $('#' + data.componentId);\\n      if ($comp) {\\n          $comp.show();\\n      }\\n      break;\\n\\n  ;\\n        \\n    case 'dashboard.component.hide':\\n      var $comp = $('#' + data.componentId);\\n      if ($comp) {\\n          $comp.hide();\\n      }\\n      break;\\n\\n  ;\\n        \\n    case 'dashboard.component.loading.start':\\n      var $comp = $(data.selector);\\n      if ($comp && !$comp.children('.loader').length) {\\n          $comp.prepend('<div class=\\\"loader\\\"><span class=\\\"dot\\\"></span><span class=\\\"dot\\\"></span><span class=\\\"dot\\\"></span><span class=\\\"dot\\\"></span><span class=\\\"dot\\\"></span></div>');\\n      }\\n      break;\\n\\n    case 'dashboard.component.loading.end':\\n      var $comp = $(data.selector);\\n      if ($comp && $comp.children('.loader').length) {\\n          $comp.children('.loader').remove();\\n      }\\n      break;\\n\\n  ;\\n      }\\n    }});\\n\\n    window.addEventListener('load', function() {\\n      if (window.ee) {\\n        window.ee.emit('resize-onload');\\n      }\\n    });\\n  }\\n\\n    \",\"classes\":[{\"name\":\"sp-global-event-listener\",\"label\":\"sp-global-event-listener\",\"type\":1,\"active\":true,\"private\":true,\"protected\":false}],\"open\":false},{\"tagName\":\"script\",\"type\":\"sp-code\",\"badgable\":false,\"content\":\"\\n      function detectOS() {\\n        if (navigator.appVersion.indexOf('Win') != -1) return 'Windows';\\n        else if (navigator.appVersion.indexOf('Mac') != -1) return 'MacOS';\\n        else if (navigator.appVersion.indexOf('X11') != -1) return 'UNIX';\\n        else if (navigator.appVersion.indexOf('Linux') != -1) return 'Linux';\\n        return 'Unknown OS';\\n      }\\n\\n      function getBodyScale() {\\n        var scale = window.innerWidth / document.body.clientWidth;\\n        if (document.body.clientHeight * scale > window.innerHeight || document.querySelector('html').offsetHeight > window.innerHeight) {\\n          var osName = detectOS();\\n\\n          scale = parseFloat(((window.innerWidth - 20) / document.body.clientWidth).toFixed(3));\\n        }\\n\\n        return scale;\\n      }\\n\\n      function transformPage() {\\n        var scale = getBodyScale();\\n        document.body.style.transform = 'scale(' + scale + ')';\\n        document.body.style.transformOrigin = 'left top';\\n      }\\n\\n      window.addEventListener('load', transformPage);\\n      window.addEventListener('resize', transformPage);\\n\\n      setTimeout(transformPage, 500);\\n    \",\"classes\":[{\"name\":\"sp-page-adaptor\",\"label\":\"sp-page-adaptor\",\"type\":1,\"active\":true,\"private\":true,\"protected\":false}],\"open\":false}],\"pmStyle\":[{\"selectors\":[{\"name\":\"wrapper\",\"label\":\"wrapper\",\"type\":2,\"active\":true,\"private\":false,\"protected\":false}],\"style\":{\"position\":\"static\",\"padding\":\"0\",\"overflow-x\":\"auto\",\"overflow-y\":\"auto\",\"width\":\"1920.00px!important\",\"height\":\"1080.00px!important\",\"opacity\":1},\"wrapper\":1}],\"html\":\"<script>\\n\\n      \\n  if (window.spSocket) {\\n    function nav(url, isNewWindow) {\\n      if (isNewWindow) {\\n        window.open(url, '_blank');\\n      } else {\\n        window.location.href = url;\\n      }\\n    }\\n\\n    window.spSocket.subscribe({ eventName: 'dashboard', callback: function(data) {\\n      if (!data) return;\\n\\n      switch(data.type) {\\n        \\n      case 'dashboard.dom.updateAttr':\\n        var $comp = $(data.selector);\\n\\n        if ($comp) {\\n          if (data.attrs && data.attrs instanceof Array) {\\n            data.attrs.forEach(function(attr) {\\n              Object.keys(attr).forEach(function(key) {\\n                $comp.attr(key, attr[key]);\\n              });\\n            });\\n          }\\n        }\\n        break;\\n\\n    ;\\n        \\n    case 'dashboard.window.eval':\\n      var handleEvalResult = function(event) {\\n        if (event.data && event.data.type && event.data.type === \\\"dashboard.window.eval\\\") {\\n          if (event.data.err) {\\n            window.spSocket.send({ eventName: \\\"dashboard\\\", data: { type: \\\"dashboard.window.evalResponse\\\", err: event.data.err } });\\n            return;\\n          }\\n          window.spSocket.send({ eventName: \\\"dashboard\\\", data: { type: \\\"dashboard.window.evalResponse\\\", data: event.data.data } });\\n        }\\n      }\\n  \\n      var propertiesToCover = [\\\"location\\\"];\\n      var createSandboxContext = function(srcObj, propertiesToCover) {\\n        var context = {};\\n        Object.keys(srcObj).forEach(function (key) {\\n          if (srcObj.hasOwnProperty(key) && propertiesToCover.indexOf(key) > -1) {\\n            context[key] = srcObj[key];\\n          }\\n        });\\n        return context;\\n      }\\n\\n      var createIframe = function() {\\n        var $iframe = document.getElementById(\\\"dashboard-sandbox\\\");\\n        if (!$iframe) {\\n          $iframe = document.createElement(\\\"iframe\\\");\\n          $iframe.setAttribute(\\\"id\\\", \\\"dashboard-sandbox\\\");\\n          $iframe.setAttribute(\\\"sandbox\\\", \\\"allow-same-origin allow-scripts\\\");\\n          $iframe.style.display = \\\"none\\\";\\n        }\\n        $iframe.innerHTML = \\\"\\\";\\n\\n        return $iframe;\\n      };\\n\\n      var initializeSandbox = function(code) {\\n        // var $iframe = createIframe();\\n        var $script = document.getElementById('sandbox');\\n\\n        if (!$script) {\\n          $script = document.createElement(\\\"script\\\");\\n          $script.setAttribute('id', 'sandbox');\\n        }\\n\\n        $script.innerText = '(function() { return eval(' + code + ') })()';\\n\\n        document.body.appendChild($script);\\n\\n        // $iframe.contentWindow.addEventListener(\\\"message\\\", handleEvalResult, false);\\n        // $iframe.contentWindow.sandboxContext = createSandboxContext(window, propertiesToCover);\\n        // $iframe.contentDocument.body.appendChild($script);\\n      }\\n\\n      initializeSandbox(data.code);\\n      break;\\n\\n  ;\\n        \\n    case 'dashboard.component.show':\\n      var $comp = $('#' + data.componentId);\\n      if ($comp) {\\n          $comp.show();\\n      }\\n      break;\\n\\n  ;\\n        \\n    case 'dashboard.component.hide':\\n      var $comp = $('#' + data.componentId);\\n      if ($comp) {\\n          $comp.hide();\\n      }\\n      break;\\n\\n  ;\\n        \\n    case 'dashboard.component.loading.start':\\n      var $comp = $(data.selector);\\n      if ($comp && !$comp.children('.loader').length) {\\n          $comp.prepend('<div class=\\\"loader\\\"><span class=\\\"dot\\\"></span><span class=\\\"dot\\\"></span><span class=\\\"dot\\\"></span><span class=\\\"dot\\\"></span><span class=\\\"dot\\\"></span></div>');\\n      }\\n      break;\\n\\n    case 'dashboard.component.loading.end':\\n      var $comp = $(data.selector);\\n      if ($comp && $comp.children('.loader').length) {\\n          $comp.children('.loader').remove();\\n      }\\n      break;\\n\\n  ;\\n      }\\n    }});\\n\\n    window.addEventListener('load', function() {\\n      if (window.ee) {\\n        window.ee.emit('resize-onload');\\n      }\\n    });\\n  }\\n\\n    \\n</script><script>\\n\\n      \\n  if (window.spSocket) {\\n    function nav(url, isNewWindow) {\\n      if (isNewWindow) {\\n        window.open(url, '_blank');\\n      } else {\\n        window.location.href = url;\\n      }\\n    }\\n\\n    window.spSocket.subscribe({ eventName: 'dashboard', callback: function(data) {\\n      if (!data) return;\\n\\n      switch(data.type) {\\n        \\n      case 'dashboard.dom.updateAttr':\\n        var $comp = $(data.selector);\\n\\n        if ($comp) {\\n          if (data.attrs && data.attrs instanceof Array) {\\n            data.attrs.forEach(function(attr) {\\n              Object.keys(attr).forEach(function(key) {\\n                $comp.attr(key, attr[key]);\\n              });\\n            });\\n          }\\n        }\\n        break;\\n\\n    ;\\n        \\n    case 'dashboard.window.eval':\\n      var handleEvalResult = function(event) {\\n        if (event.data && event.data.type && event.data.type === \\\"dashboard.window.eval\\\") {\\n          if (event.data.err) {\\n            window.spSocket.send({ eventName: \\\"dashboard\\\", data: { type: \\\"dashboard.window.evalResponse\\\", err: event.data.err } });\\n            return;\\n          }\\n          window.spSocket.send({ eventName: \\\"dashboard\\\", data: { type: \\\"dashboard.window.evalResponse\\\", data: event.data.data } });\\n        }\\n      }\\n  \\n      var propertiesToCover = [\\\"location\\\"];\\n      var createSandboxContext = function(srcObj, propertiesToCover) {\\n        var context = {};\\n        Object.keys(srcObj).forEach(function (key) {\\n          if (srcObj.hasOwnProperty(key) && propertiesToCover.indexOf(key) > -1) {\\n            context[key] = srcObj[key];\\n          }\\n        });\\n        return context;\\n      }\\n\\n      var createIframe = function() {\\n        var $iframe = document.getElementById(\\\"dashboard-sandbox\\\");\\n        if (!$iframe) {\\n          $iframe = document.createElement(\\\"iframe\\\");\\n          $iframe.setAttribute(\\\"id\\\", \\\"dashboard-sandbox\\\");\\n          $iframe.setAttribute(\\\"sandbox\\\", \\\"allow-same-origin allow-scripts\\\");\\n          $iframe.style.display = \\\"none\\\";\\n        }\\n        $iframe.innerHTML = \\\"\\\";\\n\\n        return $iframe;\\n      };\\n\\n      var initializeSandbox = function(code) {\\n        // var $iframe = createIframe();\\n        var $script = document.getElementById('sandbox');\\n\\n        if (!$script) {\\n          $script = document.createElement(\\\"script\\\");\\n          $script.setAttribute('id', 'sandbox');\\n        }\\n\\n        $script.innerText = '(function() { return eval(' + code + ') })()';\\n\\n        document.body.appendChild($script);\\n\\n        // $iframe.contentWindow.addEventListener(\\\"message\\\", handleEvalResult, false);\\n        // $iframe.contentWindow.sandboxContext = createSandboxContext(window, propertiesToCover);\\n        // $iframe.contentDocument.body.appendChild($script);\\n      }\\n\\n      initializeSandbox(data.code);\\n      break;\\n\\n  ;\\n        \\n    case 'dashboard.component.show':\\n      var $comp = $('#' + data.componentId);\\n      if ($comp) {\\n          $comp.show();\\n      }\\n      break;\\n\\n  ;\\n        \\n    case 'dashboard.component.hide':\\n      var $comp = $('#' + data.componentId);\\n      if ($comp) {\\n          $comp.hide();\\n      }\\n      break;\\n\\n  ;\\n        \\n    case 'dashboard.component.loading.start':\\n      var $comp = $(data.selector);\\n      if ($comp && !$comp.children('.loader').length) {\\n          $comp.prepend('<div class=\\\"loader\\\"><span class=\\\"dot\\\"></span><span class=\\\"dot\\\"></span><span class=\\\"dot\\\"></span><span class=\\\"dot\\\"></span><span class=\\\"dot\\\"></span></div>');\\n      }\\n      break;\\n\\n    case 'dashboard.component.loading.end':\\n      var $comp = $(data.selector);\\n      if ($comp && $comp.children('.loader').length) {\\n          $comp.children('.loader').remove();\\n      }\\n      break;\\n\\n  ;\\n      }\\n    }});\\n\\n    window.addEventListener('load', function() {\\n      if (window.ee) {\\n        window.ee.emit('resize-onload');\\n      }\\n    });\\n  }\\n\\n    \\n</script><script>\\n\\n      function detectOS() {\\n        if (navigator.appVersion.indexOf('Win') != -1) return 'Windows';\\n        else if (navigator.appVersion.indexOf('Mac') != -1) return 'MacOS';\\n        else if (navigator.appVersion.indexOf('X11') != -1) return 'UNIX';\\n        else if (navigator.appVersion.indexOf('Linux') != -1) return 'Linux';\\n        return 'Unknown OS';\\n      }\\n\\n      function getBodyScale() {\\n        var scale = window.innerWidth / document.body.clientWidth;\\n        if (document.body.clientHeight * scale > window.innerHeight || document.querySelector('html').offsetHeight > window.innerHeight) {\\n          var osName = detectOS();\\n\\n          scale = parseFloat(((window.innerWidth - 20) / document.body.clientWidth).toFixed(3));\\n        }\\n\\n        return scale;\\n      }\\n\\n      function transformPage() {\\n        var scale = getBodyScale();\\n        document.body.style.transform = 'scale(' + scale + ')';\\n        document.body.style.transformOrigin = 'left top';\\n      }\\n\\n      window.addEventListener('load', transformPage);\\n      window.addEventListener('resize', transformPage);\\n\\n      setTimeout(transformPage, 500);\\n    \\n</script>\"}]","gjs-favoriteBlockTypes":"[]"},"preview":"graph","x":-806,"y":80,"scale":1.391},"inports":{},"outports":{},"groups":[],"processes":{"2a0a85c052f211eeb30ff5621d478ec4":{"component":1199,"metadata":{"def":{"description":{"zh_CN":"Online VS Code Editor"},"type":12,"docUrl":"https://code.visualstudio.com/Docs","author":"奔豚","codeName":"","codePath":"","params":{"inputData1":{"type":"data","propertyName":"dataName","defInPortUuid":"in1"},"outputData1":{"type":"data","propertyName":"dataName","defOutPortUuid":"out1"},"__cpu":{"type":"string","controlInstUuid":"system-cpu","isRequired":false,"value":3},"__mem":{"type":"string","controlInstUuid":"system-mem","isRequired":false,"value":1},"__scale":{"type":"string","controlInstUuid":"system-scale","isRequired":false,"value":1},"param1":{"type":"string","controlInstUuid":"3d9785704c6c11e9b582cd1b610d1444"},"param2":{"type":"string","controlInstUuid":"4a279dc04c6c11e9b582cd1b610d1444"},"param3":{"type":"string","controlInstUuid":"524540c04c6c11e9b582cd1b610d1444"},"param4":{"type":"string","controlInstUuid":"56f709004c6c11e9b582cd1b610d1444"},"param5":{"type":"string","controlInstUuid":"5d6aa5804c6c11e9b582cd1b610d1444"},"param6":{"type":"string","controlInstUuid":"63be5df04c6c11e9b582cd1b610d1444"},"param7":{"type":"string","controlInstUuid":"693bdaa04c6c11e9b582cd1b610d1444"},"param8":{"type":"string","controlInstUuid":"6e0bd9404c6c11e9b582cd1b610d1444"},"param9":{"type":"string","controlInstUuid":"748c6e104c6c11e9b582cd1b610d1444"},"param10":{"type":"string","controlInstUuid":"79e599e04c6c11e9b582cd1b610d1444"},"param11":{"type":"string","controlInstUuid":"7f8ac2d04c6c11e9b582cd1b610d1444"},"param12":{"type":"string","controlInstUuid":"853c95f04c6c11e9b582cd1b610d1444"},"param13":{"type":"string","controlInstUuid":"8c44d1504c6c11e9b582cd1b610d1444"},"param14":{"type":"string","controlInstUuid":"928c06a04c6c11e9b582cd1b610d1444"},"param15":{"type":"string","controlInstUuid":"97a766204c6c11e9b582cd1b610d1444"},"param16":{"type":"string","controlInstUuid":"9cb642804c6c11e9b582cd1b610d1444"},"param17":{"type":"string","controlInstUuid":"a25a5a004c6c11e9b582cd1b610d1444"},"param18":{"type":"string","controlInstUuid":"a9a2d2b04c6c11e9b582cd1b610d1444"},"param19":{"type":"string","controlInstUuid":"af5b83a04c6c11e9b582cd1b610d1444"},"param20":{"type":"string","controlInstUuid":"b68354f04c6c11e9b582cd1b610d1444"},"__mode":{"type":"string","controlInstUuid":"56d12890f48011e98707c992daa4b5e3","isRequired":true,"value":"run"},"__change_pip_source":{"type":"string","controlInstUuid":"bf1046b0e3db11ebbcd73d97f26b16ec","value":"https://pypi.mirrors.ustc.edu.cn/simple"},"__trust_host":{"type":"string","controlInstUuid":"fd8050c0e3db11ebbcd73d97f26b16ec"}},"ports":[{"uuid":"in1","description":{"en_US":"input data","zh_CN":"输入1"},"display":true,"ioType":"in","type":"data","subType":"all","angle":180,"x":0,"y":45,"options":["string","number","bool","json","array","system","file","npy","image","csv","model","all"]},{"uuid":"out1","description":{"en_US":"output data","zh_CN":"输出1"},"display":true,"ioType":"out","type":"data","subType":"all","angle":0,"x":90,"y":45,"options":["string","number","bool","json","array","system","file","npy","image","csv","model","all"],"sampleData":""}],"dockerRepo":"vscode-python:3","dockerCmd":"/code/entrypoint.sh","dockerCmd2":"","actionList":[{"label":"编辑 VS Code","port":"8443","url":"{{protocol}}//{{host}}/proxr/{{userId}}/{{appId}}/{{nodeId}}/8443/"}],"downloadList":[{"isDir":true,"ossPath":"studio/{userId}/{appId}/{nodeId}/code","localPath":"/code"}],"watchList":[{"ossPath":"studio/{userId}/{appId}/{nodeId}/code","localPath":"/code"}],"dockerRepoType":"[SuanpanV2]","exportable":true},"ui":{"tabs":{"params":{"tabName":{"en_US":"Parameters Setting","zh_CN":"参数设置","zh":"参数设置"},"controls":[{"uuid":"56d12890f48011e98707c992daa4b5e3","type":"select","label":{"zh_CN":"运行模式"},"placeholder":{"zh_CN":"在线编辑"},"tooltip":{"zh_CN":""},"options":[{"name":{"zh_CN":"在线编辑"},"value":"online-edit"},{"name":{"zh_CN":"正式运行"},"value":"run"}],"relations":{"hide":{"operator":"=="}}},{"uuid":"3d9785704c6c11e9b582cd1b610d1444","type":"string","label":{"zh_CN":"未定义参数1（点击编辑）"},"placeholder":{"zh_CN":""},"tooltip":{"zh_CN":""},"relations":{"hide":{"operator":"=="}}},{"uuid":"4a279dc04c6c11e9b582cd1b610d1444","type":"string","label":{"zh_CN":"未定义参数2（点击编辑）"},"placeholder":{"zh_CN":""},"tooltip":{"zh_CN":""},"relations":{"hide":{"operator":"=="}}},{"uuid":"524540c04c6c11e9b582cd1b610d1444","type":"string","label":{"zh_CN":"未定义参数3（点击编辑）"},"placeholder":{"zh_CN":""},"tooltip":{"zh_CN":""},"relations":{"hide":{"operator":"=="}}},{"uuid":"56f709004c6c11e9b582cd1b610d1444","type":"string","label":{"zh_CN":"未定义参数4（点击编辑）"},"placeholder":{"zh_CN":""},"tooltip":{"zh_CN":""},"relations":{"hide":{"operator":"=="}}},{"uuid":"5d6aa5804c6c11e9b582cd1b610d1444","type":"string","label":{"zh_CN":"未定义参数5（点击编辑）"},"placeholder":{"zh_CN":""},"tooltip":{"zh_CN":""},"relations":{"hide":{"operator":"=="}}},{"uuid":"63be5df04c6c11e9b582cd1b610d1444","type":"string","label":{"zh_CN":"未定义参数6（点击编辑）"},"placeholder":{"zh_CN":""},"tooltip":{"zh_CN":""},"relations":{"hide":{"operator":"=="}}},{"uuid":"693bdaa04c6c11e9b582cd1b610d1444","type":"string","label":{"zh_CN":"未定义参数7（点击编辑）"},"placeholder":{"zh_CN":""},"tooltip":{"zh_CN":""},"relations":{"hide":{"operator":"=="}}},{"uuid":"6e0bd9404c6c11e9b582cd1b610d1444","type":"string","label":{"zh_CN":"未定义参数8（点击编辑）"},"placeholder":{"zh_CN":""},"tooltip":{"zh_CN":""},"relations":{"hide":{"operator":"=="}}},{"uuid":"748c6e104c6c11e9b582cd1b610d1444","type":"string","label":{"zh_CN":"未定义参数9（点击编辑）"},"placeholder":{"zh_CN":""},"tooltip":{"zh_CN":""},"relations":{"hide":{"operator":"=="}}},{"uuid":"79e599e04c6c11e9b582cd1b610d1444","type":"string","label":{"zh_CN":"未定义参数10（点击编辑）"},"placeholder":{"zh_CN":""},"tooltip":{"zh_CN":""},"relations":{"hide":{"operator":"=="}}},{"uuid":"7f8ac2d04c6c11e9b582cd1b610d1444","type":"string","label":{"zh_CN":"未定义参数11（点击编辑）"},"placeholder":{"zh_CN":""},"tooltip":{"zh_CN":""},"relations":{"hide":{"operator":"=="}}},{"uuid":"853c95f04c6c11e9b582cd1b610d1444","type":"string","label":{"zh_CN":"未定义参数12（点击编辑）"},"placeholder":{"zh_CN":""},"tooltip":{"zh_CN":""},"relations":{"hide":{"operator":"=="}}},{"uuid":"8c44d1504c6c11e9b582cd1b610d1444","type":"string","label":{"zh_CN":"未定义参数13（点击编辑）"},"placeholder":{"zh_CN":""},"tooltip":{"zh_CN":""},"relations":{"hide":{"operator":"=="}}},{"uuid":"928c06a04c6c11e9b582cd1b610d1444","type":"string","label":{"zh_CN":"未定义参数14（点击编辑）"},"placeholder":{"zh_CN":""},"tooltip":{"zh_CN":""},"relations":{"hide":{"operator":"=="}}},{"uuid":"97a766204c6c11e9b582cd1b610d1444","type":"string","label":{"zh_CN":"未定义参数15（点击编辑）"},"placeholder":{"zh_CN":""},"tooltip":{"zh_CN":""},"relations":{"hide":{"operator":"=="}}},{"uuid":"9cb642804c6c11e9b582cd1b610d1444","type":"string","label":{"zh_CN":"未定义参数16（点击编辑）"},"placeholder":{"zh_CN":""},"tooltip":{"zh_CN":""},"relations":{"hide":{"operator":"=="}}},{"uuid":"a25a5a004c6c11e9b582cd1b610d1444","type":"string","label":{"zh_CN":"未定义参数17（点击编辑）"},"placeholder":{"zh_CN":""},"tooltip":{"zh_CN":""},"relations":{"hide":{"operator":"=="}}},{"uuid":"a9a2d2b04c6c11e9b582cd1b610d1444","type":"string","label":{"zh_CN":"未定义参数18（点击编辑）"},"placeholder":{"zh_CN":""},"tooltip":{"zh_CN":""},"relations":{"hide":{"operator":"=="}}},{"uuid":"af5b83a04c6c11e9b582cd1b610d1444","type":"string","label":{"zh_CN":"未定义参数19（点击编辑）"},"placeholder":{"zh_CN":""},"tooltip":{"zh_CN":""},"relations":{"hide":{"operator":"=="}}},{"uuid":"b68354f04c6c11e9b582cd1b610d1444","type":"string","label":{"zh_CN":"未定义参数20（点击编辑）"},"placeholder":{"zh_CN":""},"tooltip":{"zh_CN":""},"relations":{"hide":{"operator":"=="}}}],"required":true},"tune":{"tabName":{"en_US":"Tuning","zh_CN":"执行调优","zh":"执行调优"},"controls":[{"uuid":"system-scale","type":"float","label":{"zh_CN":"启动容器数"},"placeholder":{"zh_CN":"默认自动选择"},"relations":{"hide":{"operator":"=="}}},{"uuid":"system-cpu","type":"float","label":{"zh_CN":"每个容器cpu核数"},"placeholder":{"zh_CN":"默认自动选择"}},{"uuid":"system-mem","type":"float","label":{"zh_CN":"每个容器内存数(GB)"},"placeholder":{"zh_CN":"默认自动选择"}},{"uuid":"bf1046b0e3db11ebbcd73d97f26b16ec","type":"string","label":{"zh_CN":"修改镜像源"},"placeholder":{"zh_CN":"填写镜像地址..."},"tooltip":{"zh_CN":""},"relations":{"hide":{"operator":"=="}}},{"uuid":"fd8050c0e3db11ebbcd73d97f26b16ec","type":"string","label":{"zh_CN":"信任主机URL"},"placeholder":{"zh_CN":"填写trust-host地址..."},"tooltip":{"zh_CN":""},"relations":{"hide":{"operator":"=="}}}],"required":false}}},"locale":"zh_CN","icon":"atlas","color":"rgba(255,255,255,1)","receieveMsgType":"async","type":"public_component","label":"VS Code - Python (Service)","x":894,"y":193,"sublabel":"VS Code - Python (Service)","width":90,"height":90,"size":"1","errorCount":0,"notificationList":{"infoNotificationsNum":0,"errorNotificationsNum":0},"removedNotifications":{}}},"5dfe7fd06c1f11ee844b3becc80f4ab8":{"component":5981,"metadata":{"def":{"description":{"zh_CN":"对输入图片图像质量检测，计算PSNR"},"type":12,"docUrl":"","author":"墨文","codeName":"","codePath":"","params":{"inputData1":{"type":"string","propertyName":"dataName","defInPortUuid":"in1"},"outputData1":{"type":"string","propertyName":"dataName","defOutPortUuid":"out1"},"inputData2":{"type":"string","propertyName":"dataName","defInPortUuid":"in2"},"__cpu":{"type":"string","controlInstUuid":"system-cpu","value":null,"isRequired":false},"__mem":{"type":"string","controlInstUuid":"system-mem","isRequired":false,"value":null},"__scale":{"type":"string","controlInstUuid":"system-scale","value":null,"isRequired":false}},"ports":[{"uuid":"in1","description":{"en_US":"input data","zh_CN":"输入图片"},"display":true,"type":"data","ioType":"in","subType":"all","angle":180,"options":[]},{"uuid":"out1","description":{"en_US":"output data","zh_CN":"检测结果"},"display":true,"type":"data","ioType":"out","subType":"all","angle":0,"options":[],"sampleData":""},{"uuid":"in2","description":{"en_US":"input data","zh_CN":"基准图片"},"display":true,"ioType":"in","type":"data","subType":"all","angle":180,"options":[]}],"actionList":[{},{},{}],"dockerRepo":"image_components:3","downloadList":[{},{},{}],"watchList":[{},{},{}],"dockerCmd":"python run.py components.quality.SPPsnr.app","dockerRepoType":"[SuanpanV2]"},"ui":{"tabs":{"params":{"tabName":{"en_US":"Parameters Setting","zh_CN":"参数设置","zh":"参数设置"},"controls":[]},"tune":{"tabName":{"en_US":"Tuning","zh_CN":"执行调优","zh":"执行调优"},"controls":[{"uuid":"system-scale","type":"float","label":{"zh_CN":"启动容器数"},"placeholder":{"zh_CN":"默认自动选择"}},{"uuid":"system-cpu","type":"float","label":{"zh_CN":"每个容器cpu核数"},"placeholder":{"zh_CN":"默认自动选择"}},{"uuid":"system-mem","type":"float","label":{"zh_CN":"每个容器内存数(GB)"},"placeholder":{"zh_CN":"默认自动选择"}}]}}},"locale":"zh_CN","color":"rgba(255,255,255,1)","label":"图像质量检测（PSNR）","x":1517,"y":116,"type":"public_component","sublabel":"图像质量检测（PSNR）","receieveMsgType":"async","width":90,"height":90,"icon":"cube","size":"1"}},"5ee1daf06c1f11ee844b3becc80f4ab8":{"component":5732,"metadata":{"def":{"description":{"zh_CN":"图像合并组件，将多个单通道的图片合并为一个"},"type":12,"docUrl":"","author":"墨文","codeName":"","codePath":"","params":{"inputData1":{"type":"string","propertyName":"dataName","defInPortUuid":"in1"},"outputData1":{"type":"string","propertyName":"dataName","defOutPortUuid":"out1"},"inputData2":{"type":"string","propertyName":"dataName","defInPortUuid":"in2"},"inputData3":{"type":"string","propertyName":"dataName","defInPortUuid":"in3"},"inputData4":{"type":"string","propertyName":"dataName","defInPortUuid":"in4"},"__cpu":{"type":"string","controlInstUuid":"system-cpu","value":null,"isRequired":false},"__mem":{"type":"string","controlInstUuid":"system-mem","isRequired":false,"value":null},"__scale":{"type":"string","controlInstUuid":"system-scale","value":null,"isRequired":false}},"ports":[{"uuid":"in1","description":{"en_US":"input data","zh_CN":"图片数据1"},"display":true,"type":"data","ioType":"in","subType":"all","angle":180,"options":[]},{"uuid":"out1","description":{"en_US":"output data","zh_CN":"圆拟合结果"},"display":true,"type":"data","ioType":"out","subType":"all","angle":0,"options":[]},{"uuid":"in2","description":{"en_US":"input data","zh_CN":"图片数据2"},"display":true,"ioType":"in","type":"data","subType":"all","angle":180,"options":[]},{"uuid":"in3","description":{"en_US":"input data","zh_CN":"图片数据3"},"display":true,"ioType":"in","type":"data","subType":"all","angle":180,"options":[]},{"uuid":"in4","description":{"en_US":"input data","zh_CN":"图片数据4"},"display":true,"ioType":"in","type":"data","subType":"all","angle":180,"options":[]}],"actionList":[{"url":"","label":""},{},{}],"dockerRepo":"image_components:3","downloadList":[{},{},{}],"watchList":[{},{},{}],"dockerCmd":"python run.py components.basic.SPImageMerge.app","dockerRepoType":"[SuanpanV2]"},"ui":{"tabs":{"params":{"tabName":{"en_US":"Parameters Setting","zh_CN":"参数设置","zh":"参数设置"},"controls":[]},"tune":{"tabName":{"en_US":"Tuning","zh_CN":"执行调优","zh":"执行调优"},"controls":[{"uuid":"system-scale","type":"float","label":{"zh_CN":"启动容器数"},"placeholder":{"zh_CN":"默认自动选择"}},{"uuid":"system-cpu","type":"float","label":{"zh_CN":"每个容器cpu核数"},"placeholder":{"zh_CN":"默认自动选择"}},{"uuid":"system-mem","type":"float","label":{"zh_CN":"每个容器内存数(GB)"},"placeholder":{"zh_CN":"默认自动选择"}}]}}},"locale":"zh_CN","label":"图像合并（Npy）","x":1517,"y":500,"type":"public_component","sublabel":"图像合并（Npy）","receieveMsgType":"async","width":90,"height":90,"icon":"cube","size":"1","color":"rgba(255,255,255,1)"}}},"connections":[{"src":{"process":"2a0a85c052f211eeb30ff5621d478ec4","port":"out1"},"tgt":{"process":"5dfe7fd06c1f11ee844b3becc80f4ab8","port":"in1"},"metadata":{"path":"M991,238 L1007,238 L1249,238 L1249,146 L1491,146 L1507,146","custom":false}},{"src":{"process":"2a0a85c052f211eeb30ff5621d478ec4","port":"out1"},"tgt":{"process":"5ee1daf06c1f11ee844b3becc80f4ab8","port":"in3"},"metadata":{"path":"M991,238 L1007,238 L1249,238 L1249,554 L1491,554 L1507,554","custom":false}},{"src":{"process":"5dfe7fd06c1f11ee844b3becc80f4ab8","port":"out1"},"tgt":{"process":"2a0a85c052f211eeb30ff5621d478ec4","port":"in1"},"metadata":{"path":"M1614,161 L1630,161 L1630,100 L868,100 L868,238 L884,238","custom":false}}],"timestamp":1697459274324}}
    "#;

    const GRAPH_NODE_EMPTY_STR: &'static str = r#"
    {"success":true,"data":{"caseSensitive":false,"properties":{"predictConfig":{"isolationMode":"v2","mode":"","routerNum":0},"globalVars":[{"id":"710d65b06f3411eebd0e23d942839e2e"},{"id":"710d65b16f3411eebd0e23d942839e2e"},{"id":"710d65b26f3411eebd0e23d942839e2e"}],"dashboardConfig":{"gjs-html":"<script>\n\n      \n  if (window.spSocket) {\n    function nav(url, isNewWindow) {\n      if (isNewWindow) {\n        window.open(url, '_blank');\n      } else {\n        window.location.href = url;\n      }\n    }\n\n    window.spSocket.subscribe({ eventName: 'dashboard', callback: function(data) {\n      if (!data) return;\n\n      switch(data.type) {\n        \n      case 'dashboard.dom.updateAttr':\n        var $comp = $(data.selector);\n\n        if ($comp) {\n          if (data.attrs && data.attrs instanceof Array) {\n            data.attrs.forEach(function(attr) {\n              Object.keys(attr).forEach(function(key) {\n                $comp.attr(key, attr[key]);\n              });\n            });\n          }\n        }\n        break;\n\n    ;\n        \n    case 'dashboard.window.eval':\n      var handleEvalResult = function(event) {\n        if (event.data && event.data.type && event.data.type === \"dashboard.window.eval\") {\n          if (event.data.err) {\n            window.spSocket.send({ eventName: \"dashboard\", data: { type: \"dashboard.window.evalResponse\", err: event.data.err } });\n            return;\n          }\n          window.spSocket.send({ eventName: \"dashboard\", data: { type: \"dashboard.window.evalResponse\", data: event.data.data } });\n        }\n      }\n  \n      var propertiesToCover = [\"location\"];\n      var createSandboxContext = function(srcObj, propertiesToCover) {\n        var context = {};\n        Object.keys(srcObj).forEach(function (key) {\n          if (srcObj.hasOwnProperty(key) && propertiesToCover.indexOf(key) > -1) {\n            context[key] = srcObj[key];\n          }\n        });\n        return context;\n      }\n\n      var createIframe = function() {\n        var $iframe = document.getElementById(\"dashboard-sandbox\");\n        if (!$iframe) {\n          $iframe = document.createElement(\"iframe\");\n          $iframe.setAttribute(\"id\", \"dashboard-sandbox\");\n          $iframe.setAttribute(\"sandbox\", \"allow-same-origin allow-scripts\");\n          $iframe.style.display = \"none\";\n        }\n        $iframe.innerHTML = \"\";\n\n        return $iframe;\n      };\n\n      var initializeSandbox = function(code) {\n        // var $iframe = createIframe();\n        var $script = document.getElementById('sandbox');\n\n        if (!$script) {\n          $script = document.createElement(\"script\");\n          $script.setAttribute('id', 'sandbox');\n        }\n\n        $script.innerText = '(function() { return eval(' + code + ') })()';\n\n        document.body.appendChild($script);\n\n        // $iframe.contentWindow.addEventListener(\"message\", handleEvalResult, false);\n        // $iframe.contentWindow.sandboxContext = createSandboxContext(window, propertiesToCover);\n        // $iframe.contentDocument.body.appendChild($script);\n      }\n\n      initializeSandbox(data.code);\n      break;\n\n  ;\n        \n    case 'dashboard.component.show':\n      var $comp = $('#' + data.componentId);\n      if ($comp) {\n          $comp.show();\n      }\n      break;\n\n  ;\n        \n    case 'dashboard.component.hide':\n      var $comp = $('#' + data.componentId);\n      if ($comp) {\n          $comp.hide();\n      }\n      break;\n\n  ;\n        \n    case 'dashboard.component.loading.start':\n      var $comp = $(data.selector);\n      if ($comp && !$comp.children('.loader').length) {\n          $comp.prepend('<div class=\"loader\"><span class=\"dot\"></span><span class=\"dot\"></span><span class=\"dot\"></span><span class=\"dot\"></span><span class=\"dot\"></span></div>');\n      }\n      break;\n\n    case 'dashboard.component.loading.end':\n      var $comp = $(data.selector);\n      if ($comp && $comp.children('.loader').length) {\n          $comp.children('.loader').remove();\n      }\n      break;\n\n  ;\n      }\n    }});\n\n    window.addEventListener('load', function() {\n      if (window.ee) {\n        window.ee.emit('resize-onload');\n      }\n    });\n  }\n\n    \n</script><script>\n\n      \n  if (window.spSocket) {\n    function nav(url, isNewWindow) {\n      if (isNewWindow) {\n        window.open(url, '_blank');\n      } else {\n        window.location.href = url;\n      }\n    }\n\n    window.spSocket.subscribe({ eventName: 'dashboard', callback: function(data) {\n      if (!data) return;\n\n      switch(data.type) {\n        \n      case 'dashboard.dom.updateAttr':\n        var $comp = $(data.selector);\n\n        if ($comp) {\n          if (data.attrs && data.attrs instanceof Array) {\n            data.attrs.forEach(function(attr) {\n              Object.keys(attr).forEach(function(key) {\n                $comp.attr(key, attr[key]);\n              });\n            });\n          }\n        }\n        break;\n\n    ;\n        \n    case 'dashboard.window.eval':\n      var handleEvalResult = function(event) {\n        if (event.data && event.data.type && event.data.type === \"dashboard.window.eval\") {\n          if (event.data.err) {\n            window.spSocket.send({ eventName: \"dashboard\", data: { type: \"dashboard.window.evalResponse\", err: event.data.err } });\n            return;\n          }\n          window.spSocket.send({ eventName: \"dashboard\", data: { type: \"dashboard.window.evalResponse\", data: event.data.data } });\n        }\n      }\n  \n      var propertiesToCover = [\"location\"];\n      var createSandboxContext = function(srcObj, propertiesToCover) {\n        var context = {};\n        Object.keys(srcObj).forEach(function (key) {\n          if (srcObj.hasOwnProperty(key) && propertiesToCover.indexOf(key) > -1) {\n            context[key] = srcObj[key];\n          }\n        });\n        return context;\n      }\n\n      var createIframe = function() {\n        var $iframe = document.getElementById(\"dashboard-sandbox\");\n        if (!$iframe) {\n          $iframe = document.createElement(\"iframe\");\n          $iframe.setAttribute(\"id\", \"dashboard-sandbox\");\n          $iframe.setAttribute(\"sandbox\", \"allow-same-origin allow-scripts\");\n          $iframe.style.display = \"none\";\n        }\n        $iframe.innerHTML = \"\";\n\n        return $iframe;\n      };\n\n      var initializeSandbox = function(code) {\n        // var $iframe = createIframe();\n        var $script = document.getElementById('sandbox');\n\n        if (!$script) {\n          $script = document.createElement(\"script\");\n          $script.setAttribute('id', 'sandbox');\n        }\n\n        $script.innerText = '(function() { return eval(' + code + ') })()';\n\n        document.body.appendChild($script);\n\n        // $iframe.contentWindow.addEventListener(\"message\", handleEvalResult, false);\n        // $iframe.contentWindow.sandboxContext = createSandboxContext(window, propertiesToCover);\n        // $iframe.contentDocument.body.appendChild($script);\n      }\n\n      initializeSandbox(data.code);\n      break;\n\n  ;\n        \n    case 'dashboard.component.show':\n      var $comp = $('#' + data.componentId);\n      if ($comp) {\n          $comp.show();\n      }\n      break;\n\n  ;\n        \n    case 'dashboard.component.hide':\n      var $comp = $('#' + data.componentId);\n      if ($comp) {\n          $comp.hide();\n      }\n      break;\n\n  ;\n        \n    case 'dashboard.component.loading.start':\n      var $comp = $(data.selector);\n      if ($comp && !$comp.children('.loader').length) {\n          $comp.prepend('<div class=\"loader\"><span class=\"dot\"></span><span class=\"dot\"></span><span class=\"dot\"></span><span class=\"dot\"></span><span class=\"dot\"></span></div>');\n      }\n      break;\n\n    case 'dashboard.component.loading.end':\n      var $comp = $(data.selector);\n      if ($comp && $comp.children('.loader').length) {\n          $comp.children('.loader').remove();\n      }\n      break;\n\n  ;\n      }\n    }});\n\n    window.addEventListener('load', function() {\n      if (window.ee) {\n        window.ee.emit('resize-onload');\n      }\n    });\n  }\n\n    \n</script><script>\n\n      function detectOS() {\n        if (navigator.appVersion.indexOf('Win') != -1) return 'Windows';\n        else if (navigator.appVersion.indexOf('Mac') != -1) return 'MacOS';\n        else if (navigator.appVersion.indexOf('X11') != -1) return 'UNIX';\n        else if (navigator.appVersion.indexOf('Linux') != -1) return 'Linux';\n        return 'Unknown OS';\n      }\n\n      function getBodyScale() {\n        var scale = window.innerWidth / document.body.clientWidth;\n        if (document.body.clientHeight * scale > window.innerHeight || document.querySelector('html').offsetHeight > window.innerHeight) {\n          var osName = detectOS();\n\n          scale = parseFloat(((window.innerWidth - 20) / document.body.clientWidth).toFixed(3));\n        }\n\n        return scale;\n      }\n\n      function transformPage() {\n        var scale = getBodyScale();\n        document.body.style.transform = 'scale(' + scale + ')';\n        document.body.style.transformOrigin = 'left top';\n      }\n\n      window.addEventListener('load', transformPage);\n      window.addEventListener('resize', transformPage);\n\n      setTimeout(transformPage, 500);\n    \n</script>","gjs-components":"[{\"tagName\":\"script\",\"type\":\"sp-code\",\"badgable\":false,\"content\":\"\\n      \\n  if (window.spSocket) {\\n    function nav(url, isNewWindow) {\\n      if (isNewWindow) {\\n        window.open(url, '_blank');\\n      } else {\\n        window.location.href = url;\\n      }\\n    }\\n\\n    window.spSocket.subscribe({ eventName: 'dashboard', callback: function(data) {\\n      if (!data) return;\\n\\n      switch(data.type) {\\n        \\n      case 'dashboard.dom.updateAttr':\\n        var $comp = $(data.selector);\\n\\n        if ($comp) {\\n          if (data.attrs && data.attrs instanceof Array) {\\n            data.attrs.forEach(function(attr) {\\n              Object.keys(attr).forEach(function(key) {\\n                $comp.attr(key, attr[key]);\\n              });\\n            });\\n          }\\n        }\\n        break;\\n\\n    ;\\n        \\n    case 'dashboard.window.eval':\\n      var handleEvalResult = function(event) {\\n        if (event.data && event.data.type && event.data.type === \\\"dashboard.window.eval\\\") {\\n          if (event.data.err) {\\n            window.spSocket.send({ eventName: \\\"dashboard\\\", data: { type: \\\"dashboard.window.evalResponse\\\", err: event.data.err } });\\n            return;\\n          }\\n          window.spSocket.send({ eventName: \\\"dashboard\\\", data: { type: \\\"dashboard.window.evalResponse\\\", data: event.data.data } });\\n        }\\n      }\\n  \\n      var propertiesToCover = [\\\"location\\\"];\\n      var createSandboxContext = function(srcObj, propertiesToCover) {\\n        var context = {};\\n        Object.keys(srcObj).forEach(function (key) {\\n          if (srcObj.hasOwnProperty(key) && propertiesToCover.indexOf(key) > -1) {\\n            context[key] = srcObj[key];\\n          }\\n        });\\n        return context;\\n      }\\n\\n      var createIframe = function() {\\n        var $iframe = document.getElementById(\\\"dashboard-sandbox\\\");\\n        if (!$iframe) {\\n          $iframe = document.createElement(\\\"iframe\\\");\\n          $iframe.setAttribute(\\\"id\\\", \\\"dashboard-sandbox\\\");\\n          $iframe.setAttribute(\\\"sandbox\\\", \\\"allow-same-origin allow-scripts\\\");\\n          $iframe.style.display = \\\"none\\\";\\n        }\\n        $iframe.innerHTML = \\\"\\\";\\n\\n        return $iframe;\\n      };\\n\\n      var initializeSandbox = function(code) {\\n        // var $iframe = createIframe();\\n        var $script = document.getElementById('sandbox');\\n\\n        if (!$script) {\\n          $script = document.createElement(\\\"script\\\");\\n          $script.setAttribute('id', 'sandbox');\\n        }\\n\\n        $script.innerText = '(function() { return eval(' + code + ') })()';\\n\\n        document.body.appendChild($script);\\n\\n        // $iframe.contentWindow.addEventListener(\\\"message\\\", handleEvalResult, false);\\n        // $iframe.contentWindow.sandboxContext = createSandboxContext(window, propertiesToCover);\\n        // $iframe.contentDocument.body.appendChild($script);\\n      }\\n\\n      initializeSandbox(data.code);\\n      break;\\n\\n  ;\\n        \\n    case 'dashboard.component.show':\\n      var $comp = $('#' + data.componentId);\\n      if ($comp) {\\n          $comp.show();\\n      }\\n      break;\\n\\n  ;\\n        \\n    case 'dashboard.component.hide':\\n      var $comp = $('#' + data.componentId);\\n      if ($comp) {\\n          $comp.hide();\\n      }\\n      break;\\n\\n  ;\\n        \\n    case 'dashboard.component.loading.start':\\n      var $comp = $(data.selector);\\n      if ($comp && !$comp.children('.loader').length) {\\n          $comp.prepend('<div class=\\\"loader\\\"><span class=\\\"dot\\\"></span><span class=\\\"dot\\\"></span><span class=\\\"dot\\\"></span><span class=\\\"dot\\\"></span><span class=\\\"dot\\\"></span></div>');\\n      }\\n      break;\\n\\n    case 'dashboard.component.loading.end':\\n      var $comp = $(data.selector);\\n      if ($comp && $comp.children('.loader').length) {\\n          $comp.children('.loader').remove();\\n      }\\n      break;\\n\\n  ;\\n      }\\n    }});\\n\\n    window.addEventListener('load', function() {\\n      if (window.ee) {\\n        window.ee.emit('resize-onload');\\n      }\\n    });\\n  }\\n\\n    \",\"classes\":[{\"name\":\"sp-global-event-listener\",\"label\":\"sp-global-event-listener\",\"type\":1,\"active\":true,\"private\":true,\"protected\":false}],\"open\":false},{\"tagName\":\"script\",\"type\":\"sp-code\",\"badgable\":false,\"content\":\"\\n      \\n  if (window.spSocket) {\\n    function nav(url, isNewWindow) {\\n      if (isNewWindow) {\\n        window.open(url, '_blank');\\n      } else {\\n        window.location.href = url;\\n      }\\n    }\\n\\n    window.spSocket.subscribe({ eventName: 'dashboard', callback: function(data) {\\n      if (!data) return;\\n\\n      switch(data.type) {\\n        \\n      case 'dashboard.dom.updateAttr':\\n        var $comp = $(data.selector);\\n\\n        if ($comp) {\\n          if (data.attrs && data.attrs instanceof Array) {\\n            data.attrs.forEach(function(attr) {\\n              Object.keys(attr).forEach(function(key) {\\n                $comp.attr(key, attr[key]);\\n              });\\n            });\\n          }\\n        }\\n        break;\\n\\n    ;\\n        \\n    case 'dashboard.window.eval':\\n      var handleEvalResult = function(event) {\\n        if (event.data && event.data.type && event.data.type === \\\"dashboard.window.eval\\\") {\\n          if (event.data.err) {\\n            window.spSocket.send({ eventName: \\\"dashboard\\\", data: { type: \\\"dashboard.window.evalResponse\\\", err: event.data.err } });\\n            return;\\n          }\\n          window.spSocket.send({ eventName: \\\"dashboard\\\", data: { type: \\\"dashboard.window.evalResponse\\\", data: event.data.data } });\\n        }\\n      }\\n  \\n      var propertiesToCover = [\\\"location\\\"];\\n      var createSandboxContext = function(srcObj, propertiesToCover) {\\n        var context = {};\\n        Object.keys(srcObj).forEach(function (key) {\\n          if (srcObj.hasOwnProperty(key) && propertiesToCover.indexOf(key) > -1) {\\n            context[key] = srcObj[key];\\n          }\\n        });\\n        return context;\\n      }\\n\\n      var createIframe = function() {\\n        var $iframe = document.getElementById(\\\"dashboard-sandbox\\\");\\n        if (!$iframe) {\\n          $iframe = document.createElement(\\\"iframe\\\");\\n          $iframe.setAttribute(\\\"id\\\", \\\"dashboard-sandbox\\\");\\n          $iframe.setAttribute(\\\"sandbox\\\", \\\"allow-same-origin allow-scripts\\\");\\n          $iframe.style.display = \\\"none\\\";\\n        }\\n        $iframe.innerHTML = \\\"\\\";\\n\\n        return $iframe;\\n      };\\n\\n      var initializeSandbox = function(code) {\\n        // var $iframe = createIframe();\\n        var $script = document.getElementById('sandbox');\\n\\n        if (!$script) {\\n          $script = document.createElement(\\\"script\\\");\\n          $script.setAttribute('id', 'sandbox');\\n        }\\n\\n        $script.innerText = '(function() { return eval(' + code + ') })()';\\n\\n        document.body.appendChild($script);\\n\\n        // $iframe.contentWindow.addEventListener(\\\"message\\\", handleEvalResult, false);\\n        // $iframe.contentWindow.sandboxContext = createSandboxContext(window, propertiesToCover);\\n        // $iframe.contentDocument.body.appendChild($script);\\n      }\\n\\n      initializeSandbox(data.code);\\n      break;\\n\\n  ;\\n        \\n    case 'dashboard.component.show':\\n      var $comp = $('#' + data.componentId);\\n      if ($comp) {\\n          $comp.show();\\n      }\\n      break;\\n\\n  ;\\n        \\n    case 'dashboard.component.hide':\\n      var $comp = $('#' + data.componentId);\\n      if ($comp) {\\n          $comp.hide();\\n      }\\n      break;\\n\\n  ;\\n        \\n    case 'dashboard.component.loading.start':\\n      var $comp = $(data.selector);\\n      if ($comp && !$comp.children('.loader').length) {\\n          $comp.prepend('<div class=\\\"loader\\\"><span class=\\\"dot\\\"></span><span class=\\\"dot\\\"></span><span class=\\\"dot\\\"></span><span class=\\\"dot\\\"></span><span class=\\\"dot\\\"></span></div>');\\n      }\\n      break;\\n\\n    case 'dashboard.component.loading.end':\\n      var $comp = $(data.selector);\\n      if ($comp && $comp.children('.loader').length) {\\n          $comp.children('.loader').remove();\\n      }\\n      break;\\n\\n  ;\\n      }\\n    }});\\n\\n    window.addEventListener('load', function() {\\n      if (window.ee) {\\n        window.ee.emit('resize-onload');\\n      }\\n    });\\n  }\\n\\n    \",\"classes\":[{\"name\":\"sp-global-event-listener\",\"label\":\"sp-global-event-listener\",\"type\":1,\"active\":true,\"private\":true,\"protected\":false}],\"open\":false},{\"tagName\":\"script\",\"type\":\"sp-code\",\"badgable\":false,\"content\":\"\\n      function detectOS() {\\n        if (navigator.appVersion.indexOf('Win') != -1) return 'Windows';\\n        else if (navigator.appVersion.indexOf('Mac') != -1) return 'MacOS';\\n        else if (navigator.appVersion.indexOf('X11') != -1) return 'UNIX';\\n        else if (navigator.appVersion.indexOf('Linux') != -1) return 'Linux';\\n        return 'Unknown OS';\\n      }\\n\\n      function getBodyScale() {\\n        var scale = window.innerWidth / document.body.clientWidth;\\n        if (document.body.clientHeight * scale > window.innerHeight || document.querySelector('html').offsetHeight > window.innerHeight) {\\n          var osName = detectOS();\\n\\n          scale = parseFloat(((window.innerWidth - 20) / document.body.clientWidth).toFixed(3));\\n        }\\n\\n        return scale;\\n      }\\n\\n      function transformPage() {\\n        var scale = getBodyScale();\\n        document.body.style.transform = 'scale(' + scale + ')';\\n        document.body.style.transformOrigin = 'left top';\\n      }\\n\\n      window.addEventListener('load', transformPage);\\n      window.addEventListener('resize', transformPage);\\n\\n      setTimeout(transformPage, 500);\\n    \",\"classes\":[{\"name\":\"sp-page-adaptor\",\"label\":\"sp-page-adaptor\",\"type\":1,\"active\":true,\"private\":true,\"protected\":false}],\"open\":false}]","gjs-css":"* { box-sizing: border-box; } body {margin: 0;} *:focus { outline-offset: 2px; outline-color: rgba(0,132,255,0.2);} [data-gjs-type='wrapper'] .no-events > * {pointer-events: none} [loader=in] {overflow: hidden;} .loader{position: absolute; top: 0; right:0; bottom: 0; left: 0; z-index: 99; display: flex;justify-content: center;align-items: center; background-color: rgba(255,255,255,0.2);} .loader>.dot {margin: 5px; width: 24px; height: 24px; flex-shrink: 0; background: #0084ff; border-radius: 100%; display: inline-block; animation: slide 1s infinite;} .loader>.dot:nth-child(1) { animation-delay: 0.1s; background: #0084ff; } .loader>.dot:nth-child(2) { animation-delay: 0.2s; background: #339cff; } .loader>.dot:nth-child(3) { animation-delay: 0.3s; background: #66b5ff; } .loader>.dot:nth-child(4) { animation-delay: 0.4s; background: #99ceff; } .loader>.dot:nth-child(5) { animation-delay: 0.5s; background: #cce6ff; } @-moz-keyframes slide { 0% { transform: scale(1); } 50% { opacity: 0.3; transform: scale(1.6); } 100% { transform: scale(1); }  } @-webkit-keyframes slide { 0% { transform: scale(1); } 50% { opacity: 0.3; transform: scale(1.6); } 100% { transform: scale(1); }  } @-o-keyframes slide { 0% { transform: scale(1); } 50% { opacity: 0.3; transform: scale(1.6); } 100% { transform: scale(1); }  } @keyframes slide { 0% { transform: scale(1); } 50% { opacity: 0.3; transform: scale(1.6); } 100% { transform: scale(1); } } body{position:static;padding:0;overflow-x:auto;overflow-y:auto;width:1920.00px!important;height:1080.00px!important;opacity:1;}","gjs-styles":"[{\"selectors\":[{\"name\":\"wrapper\",\"label\":\"wrapper\",\"type\":2,\"active\":true,\"private\":false,\"protected\":false}],\"style\":{\"position\":\"static\",\"padding\":\"0\",\"overflow-x\":\"auto\",\"overflow-y\":\"auto\",\"width\":\"1920.00px!important\",\"height\":\"1080.00px!important\",\"opacity\":1},\"wrapper\":1}]","gjs-pageList":"[{\"components\":\"[{\\\"tagName\\\":\\\"script\\\",\\\"type\\\":\\\"sp-code\\\",\\\"badgable\\\":false,\\\"content\\\":\\\"\\\\n      \\\\n  if (window.spSocket) {\\\\n    function nav(url, isNewWindow) {\\\\n      if (isNewWindow) {\\\\n        window.open(url, '_blank');\\\\n      } else {\\\\n        window.location.href = url;\\\\n      }\\\\n    }\\\\n\\\\n    window.spSocket.subscribe({ eventName: 'dashboard', callback: function(data) {\\\\n      if (!data) return;\\\\n\\\\n      switch(data.type) {\\\\n        \\\\n      case 'dashboard.dom.updateAttr':\\\\n        var $comp = $(data.selector);\\\\n\\\\n        if ($comp) {\\\\n          if (data.attrs && data.attrs instanceof Array) {\\\\n            data.attrs.forEach(function(attr) {\\\\n              Object.keys(attr).forEach(function(key) {\\\\n                $comp.attr(key, attr[key]);\\\\n              });\\\\n            });\\\\n          }\\\\n        }\\\\n        break;\\\\n\\\\n    ;\\\\n        \\\\n    case 'dashboard.window.eval':\\\\n      var handleEvalResult = function(event) {\\\\n        if (event.data && event.data.type && event.data.type === \\\\\\\"dashboard.window.eval\\\\\\\") {\\\\n          if (event.data.err) {\\\\n            window.spSocket.send({ eventName: \\\\\\\"dashboard\\\\\\\", data: { type: \\\\\\\"dashboard.window.evalResponse\\\\\\\", err: event.data.err } });\\\\n            return;\\\\n          }\\\\n          window.spSocket.send({ eventName: \\\\\\\"dashboard\\\\\\\", data: { type: \\\\\\\"dashboard.window.evalResponse\\\\\\\", data: event.data.data } });\\\\n        }\\\\n      }\\\\n  \\\\n      var propertiesToCover = [\\\\\\\"location\\\\\\\"];\\\\n      var createSandboxContext = function(srcObj, propertiesToCover) {\\\\n        var context = {};\\\\n        Object.keys(srcObj).forEach(function (key) {\\\\n          if (srcObj.hasOwnProperty(key) && propertiesToCover.indexOf(key) > -1) {\\\\n            context[key] = srcObj[key];\\\\n          }\\\\n        });\\\\n        return context;\\\\n      }\\\\n\\\\n      var createIframe = function() {\\\\n        var $iframe = document.getElementById(\\\\\\\"dashboard-sandbox\\\\\\\");\\\\n        if (!$iframe) {\\\\n          $iframe = document.createElement(\\\\\\\"iframe\\\\\\\");\\\\n          $iframe.setAttribute(\\\\\\\"id\\\\\\\", \\\\\\\"dashboard-sandbox\\\\\\\");\\\\n          $iframe.setAttribute(\\\\\\\"sandbox\\\\\\\", \\\\\\\"allow-same-origin allow-scripts\\\\\\\");\\\\n          $iframe.style.display = \\\\\\\"none\\\\\\\";\\\\n        }\\\\n        $iframe.innerHTML = \\\\\\\"\\\\\\\";\\\\n\\\\n        return $iframe;\\\\n      };\\\\n\\\\n      var initializeSandbox = function(code) {\\\\n        // var $iframe = createIframe();\\\\n        var $script = document.getElementById('sandbox');\\\\n\\\\n        if (!$script) {\\\\n          $script = document.createElement(\\\\\\\"script\\\\\\\");\\\\n          $script.setAttribute('id', 'sandbox');\\\\n        }\\\\n\\\\n        $script.innerText = '(function() { return eval(' + code + ') })()';\\\\n\\\\n        document.body.appendChild($script);\\\\n\\\\n        // $iframe.contentWindow.addEventListener(\\\\\\\"message\\\\\\\", handleEvalResult, false);\\\\n        // $iframe.contentWindow.sandboxContext = createSandboxContext(window, propertiesToCover);\\\\n        // $iframe.contentDocument.body.appendChild($script);\\\\n      }\\\\n\\\\n      initializeSandbox(data.code);\\\\n      break;\\\\n\\\\n  ;\\\\n        \\\\n    case 'dashboard.component.show':\\\\n      var $comp = $('#' + data.componentId);\\\\n      if ($comp) {\\\\n          $comp.show();\\\\n      }\\\\n      break;\\\\n\\\\n  ;\\\\n        \\\\n    case 'dashboard.component.hide':\\\\n      var $comp = $('#' + data.componentId);\\\\n      if ($comp) {\\\\n          $comp.hide();\\\\n      }\\\\n      break;\\\\n\\\\n  ;\\\\n        \\\\n    case 'dashboard.component.loading.start':\\\\n      var $comp = $(data.selector);\\\\n      if ($comp && !$comp.children('.loader').length) {\\\\n          $comp.prepend('<div class=\\\\\\\"loader\\\\\\\"><span class=\\\\\\\"dot\\\\\\\"></span><span class=\\\\\\\"dot\\\\\\\"></span><span class=\\\\\\\"dot\\\\\\\"></span><span class=\\\\\\\"dot\\\\\\\"></span><span class=\\\\\\\"dot\\\\\\\"></span></div>');\\\\n      }\\\\n      break;\\\\n\\\\n    case 'dashboard.component.loading.end':\\\\n      var $comp = $(data.selector);\\\\n      if ($comp && $comp.children('.loader').length) {\\\\n          $comp.children('.loader').remove();\\\\n      }\\\\n      break;\\\\n\\\\n  ;\\\\n      }\\\\n    }});\\\\n\\\\n    window.addEventListener('load', function() {\\\\n      if (window.ee) {\\\\n        window.ee.emit('resize-onload');\\\\n      }\\\\n    });\\\\n  }\\\\n\\\\n    \\\",\\\"classes\\\":[{\\\"name\\\":\\\"sp-global-event-listener\\\",\\\"label\\\":\\\"sp-global-event-listener\\\",\\\"type\\\":1,\\\"active\\\":true,\\\"private\\\":true,\\\"protected\\\":false}],\\\"open\\\":false},{\\\"tagName\\\":\\\"script\\\",\\\"type\\\":\\\"sp-code\\\",\\\"badgable\\\":false,\\\"content\\\":\\\"\\\\n      \\\\n  if (window.spSocket) {\\\\n    function nav(url, isNewWindow) {\\\\n      if (isNewWindow) {\\\\n        window.open(url, '_blank');\\\\n      } else {\\\\n        window.location.href = url;\\\\n      }\\\\n    }\\\\n\\\\n    window.spSocket.subscribe({ eventName: 'dashboard', callback: function(data) {\\\\n      if (!data) return;\\\\n\\\\n      switch(data.type) {\\\\n        \\\\n      case 'dashboard.dom.updateAttr':\\\\n        var $comp = $(data.selector);\\\\n\\\\n        if ($comp) {\\\\n          if (data.attrs && data.attrs instanceof Array) {\\\\n            data.attrs.forEach(function(attr) {\\\\n              Object.keys(attr).forEach(function(key) {\\\\n                $comp.attr(key, attr[key]);\\\\n              });\\\\n            });\\\\n          }\\\\n        }\\\\n        break;\\\\n\\\\n    ;\\\\n        \\\\n    case 'dashboard.window.eval':\\\\n      var handleEvalResult = function(event) {\\\\n        if (event.data && event.data.type && event.data.type === \\\\\\\"dashboard.window.eval\\\\\\\") {\\\\n          if (event.data.err) {\\\\n            window.spSocket.send({ eventName: \\\\\\\"dashboard\\\\\\\", data: { type: \\\\\\\"dashboard.window.evalResponse\\\\\\\", err: event.data.err } });\\\\n            return;\\\\n          }\\\\n          window.spSocket.send({ eventName: \\\\\\\"dashboard\\\\\\\", data: { type: \\\\\\\"dashboard.window.evalResponse\\\\\\\", data: event.data.data } });\\\\n        }\\\\n      }\\\\n  \\\\n      var propertiesToCover = [\\\\\\\"location\\\\\\\"];\\\\n      var createSandboxContext = function(srcObj, propertiesToCover) {\\\\n        var context = {};\\\\n        Object.keys(srcObj).forEach(function (key) {\\\\n          if (srcObj.hasOwnProperty(key) && propertiesToCover.indexOf(key) > -1) {\\\\n            context[key] = srcObj[key];\\\\n          }\\\\n        });\\\\n        return context;\\\\n      }\\\\n\\\\n      var createIframe = function() {\\\\n        var $iframe = document.getElementById(\\\\\\\"dashboard-sandbox\\\\\\\");\\\\n        if (!$iframe) {\\\\n          $iframe = document.createElement(\\\\\\\"iframe\\\\\\\");\\\\n          $iframe.setAttribute(\\\\\\\"id\\\\\\\", \\\\\\\"dashboard-sandbox\\\\\\\");\\\\n          $iframe.setAttribute(\\\\\\\"sandbox\\\\\\\", \\\\\\\"allow-same-origin allow-scripts\\\\\\\");\\\\n          $iframe.style.display = \\\\\\\"none\\\\\\\";\\\\n        }\\\\n        $iframe.innerHTML = \\\\\\\"\\\\\\\";\\\\n\\\\n        return $iframe;\\\\n      };\\\\n\\\\n      var initializeSandbox = function(code) {\\\\n        // var $iframe = createIframe();\\\\n        var $script = document.getElementById('sandbox');\\\\n\\\\n        if (!$script) {\\\\n          $script = document.createElement(\\\\\\\"script\\\\\\\");\\\\n          $script.setAttribute('id', 'sandbox');\\\\n        }\\\\n\\\\n        $script.innerText = '(function() { return eval(' + code + ') })()';\\\\n\\\\n        document.body.appendChild($script);\\\\n\\\\n        // $iframe.contentWindow.addEventListener(\\\\\\\"message\\\\\\\", handleEvalResult, false);\\\\n        // $iframe.contentWindow.sandboxContext = createSandboxContext(window, propertiesToCover);\\\\n        // $iframe.contentDocument.body.appendChild($script);\\\\n      }\\\\n\\\\n      initializeSandbox(data.code);\\\\n      break;\\\\n\\\\n  ;\\\\n        \\\\n    case 'dashboard.component.show':\\\\n      var $comp = $('#' + data.componentId);\\\\n      if ($comp) {\\\\n          $comp.show();\\\\n      }\\\\n      break;\\\\n\\\\n  ;\\\\n        \\\\n    case 'dashboard.component.hide':\\\\n      var $comp = $('#' + data.componentId);\\\\n      if ($comp) {\\\\n          $comp.hide();\\\\n      }\\\\n      break;\\\\n\\\\n  ;\\\\n        \\\\n    case 'dashboard.component.loading.start':\\\\n      var $comp = $(data.selector);\\\\n      if ($comp && !$comp.children('.loader').length) {\\\\n          $comp.prepend('<div class=\\\\\\\"loader\\\\\\\"><span class=\\\\\\\"dot\\\\\\\"></span><span class=\\\\\\\"dot\\\\\\\"></span><span class=\\\\\\\"dot\\\\\\\"></span><span class=\\\\\\\"dot\\\\\\\"></span><span class=\\\\\\\"dot\\\\\\\"></span></div>');\\\\n      }\\\\n      break;\\\\n\\\\n    case 'dashboard.component.loading.end':\\\\n      var $comp = $(data.selector);\\\\n      if ($comp && $comp.children('.loader').length) {\\\\n          $comp.children('.loader').remove();\\\\n      }\\\\n      break;\\\\n\\\\n  ;\\\\n      }\\\\n    }});\\\\n\\\\n    window.addEventListener('load', function() {\\\\n      if (window.ee) {\\\\n        window.ee.emit('resize-onload');\\\\n      }\\\\n    });\\\\n  }\\\\n\\\\n    \\\",\\\"classes\\\":[{\\\"name\\\":\\\"sp-global-event-listener\\\",\\\"label\\\":\\\"sp-global-event-listener\\\",\\\"type\\\":1,\\\"active\\\":true,\\\"private\\\":true,\\\"protected\\\":false}],\\\"open\\\":false},{\\\"tagName\\\":\\\"script\\\",\\\"type\\\":\\\"sp-code\\\",\\\"badgable\\\":false,\\\"content\\\":\\\"\\\\n      function detectOS() {\\\\n        if (navigator.appVersion.indexOf('Win') != -1) return 'Windows';\\\\n        else if (navigator.appVersion.indexOf('Mac') != -1) return 'MacOS';\\\\n        else if (navigator.appVersion.indexOf('X11') != -1) return 'UNIX';\\\\n        else if (navigator.appVersion.indexOf('Linux') != -1) return 'Linux';\\\\n        return 'Unknown OS';\\\\n      }\\\\n\\\\n      function getBodyScale() {\\\\n        var scale = window.innerWidth / document.body.clientWidth;\\\\n        if (document.body.clientHeight * scale > window.innerHeight || document.querySelector('html').offsetHeight > window.innerHeight) {\\\\n          var osName = detectOS();\\\\n\\\\n          scale = parseFloat(((window.innerWidth - 20) / document.body.clientWidth).toFixed(3));\\\\n        }\\\\n\\\\n        return scale;\\\\n      }\\\\n\\\\n      function transformPage() {\\\\n        var scale = getBodyScale();\\\\n        document.body.style.transform = 'scale(' + scale + ')';\\\\n        document.body.style.transformOrigin = 'left top';\\\\n      }\\\\n\\\\n      window.addEventListener('load', transformPage);\\\\n      window.addEventListener('resize', transformPage);\\\\n\\\\n      setTimeout(transformPage, 500);\\\\n    \\\",\\\"classes\\\":[{\\\"name\\\":\\\"sp-page-adaptor\\\",\\\"label\\\":\\\"sp-page-adaptor\\\",\\\"type\\\":1,\\\"active\\\":true,\\\"private\\\":true,\\\"protected\\\":false}],\\\"open\\\":false}]\",\"styles\":\"[{\\\"selectors\\\":[{\\\"name\\\":\\\"wrapper\\\",\\\"label\\\":\\\"wrapper\\\",\\\"type\\\":2,\\\"active\\\":true,\\\"private\\\":false,\\\"protected\\\":false}],\\\"style\\\":{\\\"position\\\":\\\"static\\\",\\\"padding\\\":\\\"0\\\",\\\"overflow-x\\\":\\\"auto\\\",\\\"overflow-y\\\":\\\"auto\\\",\\\"width\\\":\\\"1920.00px!important\\\",\\\"height\\\":\\\"1080.00px!important\\\",\\\"opacity\\\":1},\\\"wrapper\\\":1}]\",\"css\":\"* { box-sizing: border-box; } body {margin: 0;} *:focus { outline-offset: 2px; outline-color: rgba(0,132,255,0.2);} [data-gjs-type='wrapper'] .no-events > * {pointer-events: none} [loader=in] {overflow: hidden;} .loader{position: absolute; top: 0; right:0; bottom: 0; left: 0; z-index: 99; display: flex;justify-content: center;align-items: center; background-color: rgba(255,255,255,0.2);} .loader>.dot {margin: 5px; width: 24px; height: 24px; flex-shrink: 0; background: #0084ff; border-radius: 100%; display: inline-block; animation: slide 1s infinite;} .loader>.dot:nth-child(1) { animation-delay: 0.1s; background: #0084ff; } .loader>.dot:nth-child(2) { animation-delay: 0.2s; background: #339cff; } .loader>.dot:nth-child(3) { animation-delay: 0.3s; background: #66b5ff; } .loader>.dot:nth-child(4) { animation-delay: 0.4s; background: #99ceff; } .loader>.dot:nth-child(5) { animation-delay: 0.5s; background: #cce6ff; } @-moz-keyframes slide { 0% { transform: scale(1); } 50% { opacity: 0.3; transform: scale(1.6); } 100% { transform: scale(1); }  } @-webkit-keyframes slide { 0% { transform: scale(1); } 50% { opacity: 0.3; transform: scale(1.6); } 100% { transform: scale(1); }  } @-o-keyframes slide { 0% { transform: scale(1); } 50% { opacity: 0.3; transform: scale(1.6); } 100% { transform: scale(1); }  } @keyframes slide { 0% { transform: scale(1); } 50% { opacity: 0.3; transform: scale(1.6); } 100% { transform: scale(1); } } body{position:static;padding:0;overflow-x:auto;overflow-y:auto;width:1920.00px!important;height:1080.00px!important;opacity:1;}\",\"groups\":\"{\\\"groups\\\":[],\\\"compIdToGroupMap\\\":{}}\",\"pmComponents\":[{\"tagName\":\"script\",\"type\":\"sp-code\",\"badgable\":false,\"content\":\"\\n      \\n  if (window.spSocket) {\\n    function nav(url, isNewWindow) {\\n      if (isNewWindow) {\\n        window.open(url, '_blank');\\n      } else {\\n        window.location.href = url;\\n      }\\n    }\\n\\n    window.spSocket.subscribe({ eventName: 'dashboard', callback: function(data) {\\n      if (!data) return;\\n\\n      switch(data.type) {\\n        \\n      case 'dashboard.dom.updateAttr':\\n        var $comp = $(data.selector);\\n\\n        if ($comp) {\\n          if (data.attrs && data.attrs instanceof Array) {\\n            data.attrs.forEach(function(attr) {\\n              Object.keys(attr).forEach(function(key) {\\n                $comp.attr(key, attr[key]);\\n              });\\n            });\\n          }\\n        }\\n        break;\\n\\n    ;\\n        \\n    case 'dashboard.window.eval':\\n      var handleEvalResult = function(event) {\\n        if (event.data && event.data.type && event.data.type === \\\"dashboard.window.eval\\\") {\\n          if (event.data.err) {\\n            window.spSocket.send({ eventName: \\\"dashboard\\\", data: { type: \\\"dashboard.window.evalResponse\\\", err: event.data.err } });\\n            return;\\n          }\\n          window.spSocket.send({ eventName: \\\"dashboard\\\", data: { type: \\\"dashboard.window.evalResponse\\\", data: event.data.data } });\\n        }\\n      }\\n  \\n      var propertiesToCover = [\\\"location\\\"];\\n      var createSandboxContext = function(srcObj, propertiesToCover) {\\n        var context = {};\\n        Object.keys(srcObj).forEach(function (key) {\\n          if (srcObj.hasOwnProperty(key) && propertiesToCover.indexOf(key) > -1) {\\n            context[key] = srcObj[key];\\n          }\\n        });\\n        return context;\\n      }\\n\\n      var createIframe = function() {\\n        var $iframe = document.getElementById(\\\"dashboard-sandbox\\\");\\n        if (!$iframe) {\\n          $iframe = document.createElement(\\\"iframe\\\");\\n          $iframe.setAttribute(\\\"id\\\", \\\"dashboard-sandbox\\\");\\n          $iframe.setAttribute(\\\"sandbox\\\", \\\"allow-same-origin allow-scripts\\\");\\n          $iframe.style.display = \\\"none\\\";\\n        }\\n        $iframe.innerHTML = \\\"\\\";\\n\\n        return $iframe;\\n      };\\n\\n      var initializeSandbox = function(code) {\\n        // var $iframe = createIframe();\\n        var $script = document.getElementById('sandbox');\\n\\n        if (!$script) {\\n          $script = document.createElement(\\\"script\\\");\\n          $script.setAttribute('id', 'sandbox');\\n        }\\n\\n        $script.innerText = '(function() { return eval(' + code + ') })()';\\n\\n        document.body.appendChild($script);\\n\\n        // $iframe.contentWindow.addEventListener(\\\"message\\\", handleEvalResult, false);\\n        // $iframe.contentWindow.sandboxContext = createSandboxContext(window, propertiesToCover);\\n        // $iframe.contentDocument.body.appendChild($script);\\n      }\\n\\n      initializeSandbox(data.code);\\n      break;\\n\\n  ;\\n        \\n    case 'dashboard.component.show':\\n      var $comp = $('#' + data.componentId);\\n      if ($comp) {\\n          $comp.show();\\n      }\\n      break;\\n\\n  ;\\n        \\n    case 'dashboard.component.hide':\\n      var $comp = $('#' + data.componentId);\\n      if ($comp) {\\n          $comp.hide();\\n      }\\n      break;\\n\\n  ;\\n        \\n    case 'dashboard.component.loading.start':\\n      var $comp = $(data.selector);\\n      if ($comp && !$comp.children('.loader').length) {\\n          $comp.prepend('<div class=\\\"loader\\\"><span class=\\\"dot\\\"></span><span class=\\\"dot\\\"></span><span class=\\\"dot\\\"></span><span class=\\\"dot\\\"></span><span class=\\\"dot\\\"></span></div>');\\n      }\\n      break;\\n\\n    case 'dashboard.component.loading.end':\\n      var $comp = $(data.selector);\\n      if ($comp && $comp.children('.loader').length) {\\n          $comp.children('.loader').remove();\\n      }\\n      break;\\n\\n  ;\\n      }\\n    }});\\n\\n    window.addEventListener('load', function() {\\n      if (window.ee) {\\n        window.ee.emit('resize-onload');\\n      }\\n    });\\n  }\\n\\n    \",\"classes\":[{\"name\":\"sp-global-event-listener\",\"label\":\"sp-global-event-listener\",\"type\":1,\"active\":true,\"private\":true,\"protected\":false}],\"open\":false},{\"tagName\":\"script\",\"type\":\"sp-code\",\"badgable\":false,\"content\":\"\\n      \\n  if (window.spSocket) {\\n    function nav(url, isNewWindow) {\\n      if (isNewWindow) {\\n        window.open(url, '_blank');\\n      } else {\\n        window.location.href = url;\\n      }\\n    }\\n\\n    window.spSocket.subscribe({ eventName: 'dashboard', callback: function(data) {\\n      if (!data) return;\\n\\n      switch(data.type) {\\n        \\n      case 'dashboard.dom.updateAttr':\\n        var $comp = $(data.selector);\\n\\n        if ($comp) {\\n          if (data.attrs && data.attrs instanceof Array) {\\n            data.attrs.forEach(function(attr) {\\n              Object.keys(attr).forEach(function(key) {\\n                $comp.attr(key, attr[key]);\\n              });\\n            });\\n          }\\n        }\\n        break;\\n\\n    ;\\n        \\n    case 'dashboard.window.eval':\\n      var handleEvalResult = function(event) {\\n        if (event.data && event.data.type && event.data.type === \\\"dashboard.window.eval\\\") {\\n          if (event.data.err) {\\n            window.spSocket.send({ eventName: \\\"dashboard\\\", data: { type: \\\"dashboard.window.evalResponse\\\", err: event.data.err } });\\n            return;\\n          }\\n          window.spSocket.send({ eventName: \\\"dashboard\\\", data: { type: \\\"dashboard.window.evalResponse\\\", data: event.data.data } });\\n        }\\n      }\\n  \\n      var propertiesToCover = [\\\"location\\\"];\\n      var createSandboxContext = function(srcObj, propertiesToCover) {\\n        var context = {};\\n        Object.keys(srcObj).forEach(function (key) {\\n          if (srcObj.hasOwnProperty(key) && propertiesToCover.indexOf(key) > -1) {\\n            context[key] = srcObj[key];\\n          }\\n        });\\n        return context;\\n      }\\n\\n      var createIframe = function() {\\n        var $iframe = document.getElementById(\\\"dashboard-sandbox\\\");\\n        if (!$iframe) {\\n          $iframe = document.createElement(\\\"iframe\\\");\\n          $iframe.setAttribute(\\\"id\\\", \\\"dashboard-sandbox\\\");\\n          $iframe.setAttribute(\\\"sandbox\\\", \\\"allow-same-origin allow-scripts\\\");\\n          $iframe.style.display = \\\"none\\\";\\n        }\\n        $iframe.innerHTML = \\\"\\\";\\n\\n        return $iframe;\\n      };\\n\\n      var initializeSandbox = function(code) {\\n        // var $iframe = createIframe();\\n        var $script = document.getElementById('sandbox');\\n\\n        if (!$script) {\\n          $script = document.createElement(\\\"script\\\");\\n          $script.setAttribute('id', 'sandbox');\\n        }\\n\\n        $script.innerText = '(function() { return eval(' + code + ') })()';\\n\\n        document.body.appendChild($script);\\n\\n        // $iframe.contentWindow.addEventListener(\\\"message\\\", handleEvalResult, false);\\n        // $iframe.contentWindow.sandboxContext = createSandboxContext(window, propertiesToCover);\\n        // $iframe.contentDocument.body.appendChild($script);\\n      }\\n\\n      initializeSandbox(data.code);\\n      break;\\n\\n  ;\\n        \\n    case 'dashboard.component.show':\\n      var $comp = $('#' + data.componentId);\\n      if ($comp) {\\n          $comp.show();\\n      }\\n      break;\\n\\n  ;\\n        \\n    case 'dashboard.component.hide':\\n      var $comp = $('#' + data.componentId);\\n      if ($comp) {\\n          $comp.hide();\\n      }\\n      break;\\n\\n  ;\\n        \\n    case 'dashboard.component.loading.start':\\n      var $comp = $(data.selector);\\n      if ($comp && !$comp.children('.loader').length) {\\n          $comp.prepend('<div class=\\\"loader\\\"><span class=\\\"dot\\\"></span><span class=\\\"dot\\\"></span><span class=\\\"dot\\\"></span><span class=\\\"dot\\\"></span><span class=\\\"dot\\\"></span></div>');\\n      }\\n      break;\\n\\n    case 'dashboard.component.loading.end':\\n      var $comp = $(data.selector);\\n      if ($comp && $comp.children('.loader').length) {\\n          $comp.children('.loader').remove();\\n      }\\n      break;\\n\\n  ;\\n      }\\n    }});\\n\\n    window.addEventListener('load', function() {\\n      if (window.ee) {\\n        window.ee.emit('resize-onload');\\n      }\\n    });\\n  }\\n\\n    \",\"classes\":[{\"name\":\"sp-global-event-listener\",\"label\":\"sp-global-event-listener\",\"type\":1,\"active\":true,\"private\":true,\"protected\":false}],\"open\":false},{\"tagName\":\"script\",\"type\":\"sp-code\",\"badgable\":false,\"content\":\"\\n      function detectOS() {\\n        if (navigator.appVersion.indexOf('Win') != -1) return 'Windows';\\n        else if (navigator.appVersion.indexOf('Mac') != -1) return 'MacOS';\\n        else if (navigator.appVersion.indexOf('X11') != -1) return 'UNIX';\\n        else if (navigator.appVersion.indexOf('Linux') != -1) return 'Linux';\\n        return 'Unknown OS';\\n      }\\n\\n      function getBodyScale() {\\n        var scale = window.innerWidth / document.body.clientWidth;\\n        if (document.body.clientHeight * scale > window.innerHeight || document.querySelector('html').offsetHeight > window.innerHeight) {\\n          var osName = detectOS();\\n\\n          scale = parseFloat(((window.innerWidth - 20) / document.body.clientWidth).toFixed(3));\\n        }\\n\\n        return scale;\\n      }\\n\\n      function transformPage() {\\n        var scale = getBodyScale();\\n        document.body.style.transform = 'scale(' + scale + ')';\\n        document.body.style.transformOrigin = 'left top';\\n      }\\n\\n      window.addEventListener('load', transformPage);\\n      window.addEventListener('resize', transformPage);\\n\\n      setTimeout(transformPage, 500);\\n    \",\"classes\":[{\"name\":\"sp-page-adaptor\",\"label\":\"sp-page-adaptor\",\"type\":1,\"active\":true,\"private\":true,\"protected\":false}],\"open\":false}],\"pmStyle\":[{\"selectors\":[{\"name\":\"wrapper\",\"label\":\"wrapper\",\"type\":2,\"active\":true,\"private\":false,\"protected\":false}],\"style\":{\"position\":\"static\",\"padding\":\"0\",\"overflow-x\":\"auto\",\"overflow-y\":\"auto\",\"width\":\"1920.00px!important\",\"height\":\"1080.00px!important\",\"opacity\":1},\"wrapper\":1}],\"html\":\"<script>\\n\\n      \\n  if (window.spSocket) {\\n    function nav(url, isNewWindow) {\\n      if (isNewWindow) {\\n        window.open(url, '_blank');\\n      } else {\\n        window.location.href = url;\\n      }\\n    }\\n\\n    window.spSocket.subscribe({ eventName: 'dashboard', callback: function(data) {\\n      if (!data) return;\\n\\n      switch(data.type) {\\n        \\n      case 'dashboard.dom.updateAttr':\\n        var $comp = $(data.selector);\\n\\n        if ($comp) {\\n          if (data.attrs && data.attrs instanceof Array) {\\n            data.attrs.forEach(function(attr) {\\n              Object.keys(attr).forEach(function(key) {\\n                $comp.attr(key, attr[key]);\\n              });\\n            });\\n          }\\n        }\\n        break;\\n\\n    ;\\n        \\n    case 'dashboard.window.eval':\\n      var handleEvalResult = function(event) {\\n        if (event.data && event.data.type && event.data.type === \\\"dashboard.window.eval\\\") {\\n          if (event.data.err) {\\n            window.spSocket.send({ eventName: \\\"dashboard\\\", data: { type: \\\"dashboard.window.evalResponse\\\", err: event.data.err } });\\n            return;\\n          }\\n          window.spSocket.send({ eventName: \\\"dashboard\\\", data: { type: \\\"dashboard.window.evalResponse\\\", data: event.data.data } });\\n        }\\n      }\\n  \\n      var propertiesToCover = [\\\"location\\\"];\\n      var createSandboxContext = function(srcObj, propertiesToCover) {\\n        var context = {};\\n        Object.keys(srcObj).forEach(function (key) {\\n          if (srcObj.hasOwnProperty(key) && propertiesToCover.indexOf(key) > -1) {\\n            context[key] = srcObj[key];\\n          }\\n        });\\n        return context;\\n      }\\n\\n      var createIframe = function() {\\n        var $iframe = document.getElementById(\\\"dashboard-sandbox\\\");\\n        if (!$iframe) {\\n          $iframe = document.createElement(\\\"iframe\\\");\\n          $iframe.setAttribute(\\\"id\\\", \\\"dashboard-sandbox\\\");\\n          $iframe.setAttribute(\\\"sandbox\\\", \\\"allow-same-origin allow-scripts\\\");\\n          $iframe.style.display = \\\"none\\\";\\n        }\\n        $iframe.innerHTML = \\\"\\\";\\n\\n        return $iframe;\\n      };\\n\\n      var initializeSandbox = function(code) {\\n        // var $iframe = createIframe();\\n        var $script = document.getElementById('sandbox');\\n\\n        if (!$script) {\\n          $script = document.createElement(\\\"script\\\");\\n          $script.setAttribute('id', 'sandbox');\\n        }\\n\\n        $script.innerText = '(function() { return eval(' + code + ') })()';\\n\\n        document.body.appendChild($script);\\n\\n        // $iframe.contentWindow.addEventListener(\\\"message\\\", handleEvalResult, false);\\n        // $iframe.contentWindow.sandboxContext = createSandboxContext(window, propertiesToCover);\\n        // $iframe.contentDocument.body.appendChild($script);\\n      }\\n\\n      initializeSandbox(data.code);\\n      break;\\n\\n  ;\\n        \\n    case 'dashboard.component.show':\\n      var $comp = $('#' + data.componentId);\\n      if ($comp) {\\n          $comp.show();\\n      }\\n      break;\\n\\n  ;\\n        \\n    case 'dashboard.component.hide':\\n      var $comp = $('#' + data.componentId);\\n      if ($comp) {\\n          $comp.hide();\\n      }\\n      break;\\n\\n  ;\\n        \\n    case 'dashboard.component.loading.start':\\n      var $comp = $(data.selector);\\n      if ($comp && !$comp.children('.loader').length) {\\n          $comp.prepend('<div class=\\\"loader\\\"><span class=\\\"dot\\\"></span><span class=\\\"dot\\\"></span><span class=\\\"dot\\\"></span><span class=\\\"dot\\\"></span><span class=\\\"dot\\\"></span></div>');\\n      }\\n      break;\\n\\n    case 'dashboard.component.loading.end':\\n      var $comp = $(data.selector);\\n      if ($comp && $comp.children('.loader').length) {\\n          $comp.children('.loader').remove();\\n      }\\n      break;\\n\\n  ;\\n      }\\n    }});\\n\\n    window.addEventListener('load', function() {\\n      if (window.ee) {\\n        window.ee.emit('resize-onload');\\n      }\\n    });\\n  }\\n\\n    \\n</script><script>\\n\\n      \\n  if (window.spSocket) {\\n    function nav(url, isNewWindow) {\\n      if (isNewWindow) {\\n        window.open(url, '_blank');\\n      } else {\\n        window.location.href = url;\\n      }\\n    }\\n\\n    window.spSocket.subscribe({ eventName: 'dashboard', callback: function(data) {\\n      if (!data) return;\\n\\n      switch(data.type) {\\n        \\n      case 'dashboard.dom.updateAttr':\\n        var $comp = $(data.selector);\\n\\n        if ($comp) {\\n          if (data.attrs && data.attrs instanceof Array) {\\n            data.attrs.forEach(function(attr) {\\n              Object.keys(attr).forEach(function(key) {\\n                $comp.attr(key, attr[key]);\\n              });\\n            });\\n          }\\n        }\\n        break;\\n\\n    ;\\n        \\n    case 'dashboard.window.eval':\\n      var handleEvalResult = function(event) {\\n        if (event.data && event.data.type && event.data.type === \\\"dashboard.window.eval\\\") {\\n          if (event.data.err) {\\n            window.spSocket.send({ eventName: \\\"dashboard\\\", data: { type: \\\"dashboard.window.evalResponse\\\", err: event.data.err } });\\n            return;\\n          }\\n          window.spSocket.send({ eventName: \\\"dashboard\\\", data: { type: \\\"dashboard.window.evalResponse\\\", data: event.data.data } });\\n        }\\n      }\\n  \\n      var propertiesToCover = [\\\"location\\\"];\\n      var createSandboxContext = function(srcObj, propertiesToCover) {\\n        var context = {};\\n        Object.keys(srcObj).forEach(function (key) {\\n          if (srcObj.hasOwnProperty(key) && propertiesToCover.indexOf(key) > -1) {\\n            context[key] = srcObj[key];\\n          }\\n        });\\n        return context;\\n      }\\n\\n      var createIframe = function() {\\n        var $iframe = document.getElementById(\\\"dashboard-sandbox\\\");\\n        if (!$iframe) {\\n          $iframe = document.createElement(\\\"iframe\\\");\\n          $iframe.setAttribute(\\\"id\\\", \\\"dashboard-sandbox\\\");\\n          $iframe.setAttribute(\\\"sandbox\\\", \\\"allow-same-origin allow-scripts\\\");\\n          $iframe.style.display = \\\"none\\\";\\n        }\\n        $iframe.innerHTML = \\\"\\\";\\n\\n        return $iframe;\\n      };\\n\\n      var initializeSandbox = function(code) {\\n        // var $iframe = createIframe();\\n        var $script = document.getElementById('sandbox');\\n\\n        if (!$script) {\\n          $script = document.createElement(\\\"script\\\");\\n          $script.setAttribute('id', 'sandbox');\\n        }\\n\\n        $script.innerText = '(function() { return eval(' + code + ') })()';\\n\\n        document.body.appendChild($script);\\n\\n        // $iframe.contentWindow.addEventListener(\\\"message\\\", handleEvalResult, false);\\n        // $iframe.contentWindow.sandboxContext = createSandboxContext(window, propertiesToCover);\\n        // $iframe.contentDocument.body.appendChild($script);\\n      }\\n\\n      initializeSandbox(data.code);\\n      break;\\n\\n  ;\\n        \\n    case 'dashboard.component.show':\\n      var $comp = $('#' + data.componentId);\\n      if ($comp) {\\n          $comp.show();\\n      }\\n      break;\\n\\n  ;\\n        \\n    case 'dashboard.component.hide':\\n      var $comp = $('#' + data.componentId);\\n      if ($comp) {\\n          $comp.hide();\\n      }\\n      break;\\n\\n  ;\\n        \\n    case 'dashboard.component.loading.start':\\n      var $comp = $(data.selector);\\n      if ($comp && !$comp.children('.loader').length) {\\n          $comp.prepend('<div class=\\\"loader\\\"><span class=\\\"dot\\\"></span><span class=\\\"dot\\\"></span><span class=\\\"dot\\\"></span><span class=\\\"dot\\\"></span><span class=\\\"dot\\\"></span></div>');\\n      }\\n      break;\\n\\n    case 'dashboard.component.loading.end':\\n      var $comp = $(data.selector);\\n      if ($comp && $comp.children('.loader').length) {\\n          $comp.children('.loader').remove();\\n      }\\n      break;\\n\\n  ;\\n      }\\n    }});\\n\\n    window.addEventListener('load', function() {\\n      if (window.ee) {\\n        window.ee.emit('resize-onload');\\n      }\\n    });\\n  }\\n\\n    \\n</script><script>\\n\\n      function detectOS() {\\n        if (navigator.appVersion.indexOf('Win') != -1) return 'Windows';\\n        else if (navigator.appVersion.indexOf('Mac') != -1) return 'MacOS';\\n        else if (navigator.appVersion.indexOf('X11') != -1) return 'UNIX';\\n        else if (navigator.appVersion.indexOf('Linux') != -1) return 'Linux';\\n        return 'Unknown OS';\\n      }\\n\\n      function getBodyScale() {\\n        var scale = window.innerWidth / document.body.clientWidth;\\n        if (document.body.clientHeight * scale > window.innerHeight || document.querySelector('html').offsetHeight > window.innerHeight) {\\n          var osName = detectOS();\\n\\n          scale = parseFloat(((window.innerWidth - 20) / document.body.clientWidth).toFixed(3));\\n        }\\n\\n        return scale;\\n      }\\n\\n      function transformPage() {\\n        var scale = getBodyScale();\\n        document.body.style.transform = 'scale(' + scale + ')';\\n        document.body.style.transformOrigin = 'left top';\\n      }\\n\\n      window.addEventListener('load', transformPage);\\n      window.addEventListener('resize', transformPage);\\n\\n      setTimeout(transformPage, 500);\\n    \\n</script>\"}]","gjs-favoriteBlockTypes":"[]"},"preview":"graph"},"inports":{},"outports":{},"groups":[],"processes":{"dd0b93906f3411eebd0e23d942839e2e":{"component":8533,"metadata":{"def":{"description":{"zh_CN":""},"type":12,"docUrl":"","author":"奔豚","codeName":"","codePath":"","params":{"inputData1":{"type":"string","propertyName":"dataName","defInPortUuid":"in1"},"outputData1":{"type":"string","propertyName":"dataName","defOutPortUuid":"out1"},"__cpu":{"type":"string","controlInstUuid":"system-cpu","value":null,"isRequired":false},"__mem":{"type":"string","controlInstUuid":"system-mem","isRequired":false,"value":null},"__scale":{"type":"string","controlInstUuid":"system-scale","value":null,"isRequired":false}},"ports":[{"uuid":"in1","description":{"en_US":"input data","zh_CN":"in1"},"display":false,"type":"data","ioType":"in","subType":"all","angle":180,"x":0,"y":45,"options":[]},{"uuid":"out1","description":{"en_US":"output data","zh_CN":"out1"},"display":true,"type":"data","ioType":"out","subType":"all","angle":0,"x":90,"y":45,"options":[]}],"actionList":[{"label":"在线定时设置","isModal":true,"url":"{{protocol}}//{{host}}/proxr/{{userId}}/{{appId}}/{{nodeId}}/8888/"},{},{}],"dockerRepo":"data_components:3","downloadList":[{},{},{}],"watchList":[{},{},{}],"dockerCmd":"python run.py components.SPTrigger.app","dockerRepoType":"[SuanpanV2]"},"ui":{"tabs":{"params":{"tabName":{"en_US":"Parameters Setting","zh_CN":"参数设置","zh":"参数设置"},"controls":[]},"tune":{"tabName":{"en_US":"Tuning","zh_CN":"执行调优","zh":"执行调优"},"controls":[{"uuid":"system-scale","type":"float","label":{"zh_CN":"启动容器数"},"placeholder":{"zh_CN":"默认自动选择"},"relations":{"hide":{"operator":"=="}}},{"uuid":"system-cpu","type":"float","label":{"zh_CN":"每个容器cpu核数"},"placeholder":{"zh_CN":"默认自动选择"}},{"uuid":"system-mem","type":"float","label":{"zh_CN":"每个容器内存数(GB)"},"placeholder":{"zh_CN":"默认自动选择"}}]}}},"locale":"zh_CN","icon":"compass","color":"rgba(255,255,255,1)","label":"定时触发","x":313,"y":409,"type":"public_component","sublabel":"定时触发","receieveMsgType":"async","width":90,"height":90,"notificationList":{"infoNotificationsNum":0,"errorNotificationsNum":0},"removedNotifications":{},"size":"1","errorCount":0}},"57ef53506fb511ee80421500de054ca1":{"component":16889,"metadata":{"def":{"description":{"zh_CN":"Online VS Code Editor"},"type":12,"docUrl":"https://code.visualstudio.com/Docs","author":"叶鹿","codeName":"","codePath":"","params":{"inputData1":{"type":"data","propertyName":"dataName","defInPortUuid":"in1"},"outputData1":{"type":"data","propertyName":"dataName","defOutPortUuid":"out1"},"__cpu":{"type":"string","controlInstUuid":"system-cpu","value":null,"isRequired":false},"__mem":{"type":"string","controlInstUuid":"system-mem","isRequired":false,"value":null},"__scale":{"type":"string","controlInstUuid":"system-scale","value":null,"isRequired":false},"param1":{"type":"string","controlInstUuid":"3d9785704c6c11e9b582cd1b610d1444"},"param2":{"type":"string","controlInstUuid":"4a279dc04c6c11e9b582cd1b610d1444"},"param3":{"type":"string","controlInstUuid":"524540c04c6c11e9b582cd1b610d1444"},"param4":{"type":"string","controlInstUuid":"56f709004c6c11e9b582cd1b610d1444"},"param5":{"type":"string","controlInstUuid":"5d6aa5804c6c11e9b582cd1b610d1444"},"param6":{"type":"string","controlInstUuid":"63be5df04c6c11e9b582cd1b610d1444"},"param7":{"type":"string","controlInstUuid":"693bdaa04c6c11e9b582cd1b610d1444"},"param8":{"type":"string","controlInstUuid":"6e0bd9404c6c11e9b582cd1b610d1444"},"param9":{"type":"string","controlInstUuid":"748c6e104c6c11e9b582cd1b610d1444"},"param10":{"type":"string","controlInstUuid":"79e599e04c6c11e9b582cd1b610d1444"},"param11":{"type":"string","controlInstUuid":"7f8ac2d04c6c11e9b582cd1b610d1444"},"param12":{"type":"string","controlInstUuid":"853c95f04c6c11e9b582cd1b610d1444"},"param13":{"type":"string","controlInstUuid":"8c44d1504c6c11e9b582cd1b610d1444"},"param14":{"type":"string","controlInstUuid":"928c06a04c6c11e9b582cd1b610d1444"},"param15":{"type":"string","controlInstUuid":"97a766204c6c11e9b582cd1b610d1444"},"param16":{"type":"string","controlInstUuid":"9cb642804c6c11e9b582cd1b610d1444"},"param17":{"type":"string","controlInstUuid":"a25a5a004c6c11e9b582cd1b610d1444"},"param18":{"type":"string","controlInstUuid":"a9a2d2b04c6c11e9b582cd1b610d1444"},"param19":{"type":"string","controlInstUuid":"af5b83a04c6c11e9b582cd1b610d1444"},"param20":{"type":"string","controlInstUuid":"b68354f04c6c11e9b582cd1b610d1444"},"__mode":{"type":"string","controlInstUuid":"e2b84a70847511ea8fb35166b8618f46","isRequired":true,"value":"run"},"__registry":{"type":"string","controlInstUuid":"c7c7adb0e45411eba00b75e79f4cbb5b","value":"https://registry.npm.taobao.org"}},"ports":[{"uuid":"in1","description":{"en_US":"input data","zh_CN":"输入1"},"display":true,"ioType":"in","type":"data","subType":"all","angle":180,"x":0,"y":45,"options":["string","number","bool","json","array","system","file","npy","image","csv","model","all"]},{"uuid":"out1","description":{"en_US":"output data","zh_CN":"输出1"},"display":true,"ioType":"out","type":"data","subType":"all","angle":0,"x":90,"y":45,"options":["string","number","bool","json","array","system","file","npy","image","csv","model","all"],"sampleData":""}],"dockerRepo":"vscode-go:1.17","dockerCmd":"/code/entrypoint.sh","dockerCmd2":"","actionList":[{"label":"编辑 VS Code","port":"8443","url":"{{protocol}}//{{host}}/proxr/{{userId}}/{{appId}}/{{nodeId}}/8443/"},{},{}],"downloadList":[{"isDir":true,"ossPath":"studio/{userId}/{appId}/{nodeId}/code","localPath":"/code"},{},{}],"watchList":[{"ossPath":"studio/{userId}/{appId}/{nodeId}/code","localPath":"/code"},{},{}],"dockerRepoType":"[SuanpanV2]","exportable":true,"portsActionable":true},"ui":{"tabs":{"params":{"tabName":{"en_US":"Parameters Setting","zh_CN":"参数设置","zh":"参数设置"},"controls":[{"uuid":"e2b84a70847511ea8fb35166b8618f46","type":"select","label":{"zh_CN":"运行模式"},"placeholder":{"zh_CN":"在线编辑"},"tooltip":{"zh_CN":""},"relations":{"hide":{"operator":"=="}},"options":[{"name":{"zh_CN":"在线编辑"},"value":"online-edit"},{"name":{"zh_CN":"本地编辑（内测中，请使用在线编辑模式）"},"value":"remote-ssh-edit"},{"name":{"zh_CN":"正式运行"},"value":"run"}]},{"uuid":"3d9785704c6c11e9b582cd1b610d1444","type":"string","label":{"zh_CN":"未定义参数1（点击编辑）"},"placeholder":{"zh_CN":""},"tooltip":{"zh_CN":""},"relations":{"hide":{"operator":"=="}}},{"uuid":"4a279dc04c6c11e9b582cd1b610d1444","type":"string","label":{"zh_CN":"未定义参数2（点击编辑）"},"placeholder":{"zh_CN":""},"tooltip":{"zh_CN":""},"relations":{"hide":{"operator":"=="}}},{"uuid":"524540c04c6c11e9b582cd1b610d1444","type":"string","label":{"zh_CN":"未定义参数3（点击编辑）"},"placeholder":{"zh_CN":""},"tooltip":{"zh_CN":""},"relations":{"hide":{"operator":"=="}}},{"uuid":"56f709004c6c11e9b582cd1b610d1444","type":"string","label":{"zh_CN":"未定义参数4（点击编辑）"},"placeholder":{"zh_CN":""},"tooltip":{"zh_CN":""},"relations":{"hide":{"operator":"=="}}},{"uuid":"5d6aa5804c6c11e9b582cd1b610d1444","type":"string","label":{"zh_CN":"未定义参数5（点击编辑）"},"placeholder":{"zh_CN":""},"tooltip":{"zh_CN":""},"relations":{"hide":{"operator":"=="}}},{"uuid":"63be5df04c6c11e9b582cd1b610d1444","type":"string","label":{"zh_CN":"未定义参数6（点击编辑）"},"placeholder":{"zh_CN":""},"tooltip":{"zh_CN":""},"relations":{"hide":{"operator":"=="}}},{"uuid":"693bdaa04c6c11e9b582cd1b610d1444","type":"string","label":{"zh_CN":"未定义参数7（点击编辑）"},"placeholder":{"zh_CN":""},"tooltip":{"zh_CN":""},"relations":{"hide":{"operator":"=="}}},{"uuid":"6e0bd9404c6c11e9b582cd1b610d1444","type":"string","label":{"zh_CN":"未定义参数8（点击编辑）"},"placeholder":{"zh_CN":""},"tooltip":{"zh_CN":""},"relations":{"hide":{"operator":"=="}}},{"uuid":"748c6e104c6c11e9b582cd1b610d1444","type":"string","label":{"zh_CN":"未定义参数9（点击编辑）"},"placeholder":{"zh_CN":""},"tooltip":{"zh_CN":""},"relations":{"hide":{"operator":"=="}}},{"uuid":"79e599e04c6c11e9b582cd1b610d1444","type":"string","label":{"zh_CN":"未定义参数10（点击编辑）"},"placeholder":{"zh_CN":""},"tooltip":{"zh_CN":""},"relations":{"hide":{"operator":"=="}}},{"uuid":"7f8ac2d04c6c11e9b582cd1b610d1444","type":"string","label":{"zh_CN":"未定义参数11（点击编辑）"},"placeholder":{"zh_CN":""},"tooltip":{"zh_CN":""},"relations":{"hide":{"operator":"=="}}},{"uuid":"853c95f04c6c11e9b582cd1b610d1444","type":"string","label":{"zh_CN":"未定义参数12（点击编辑）"},"placeholder":{"zh_CN":""},"tooltip":{"zh_CN":""},"relations":{"hide":{"operator":"=="}}},{"uuid":"8c44d1504c6c11e9b582cd1b610d1444","type":"string","label":{"zh_CN":"未定义参数13（点击编辑）"},"placeholder":{"zh_CN":""},"tooltip":{"zh_CN":""},"relations":{"hide":{"operator":"=="}}},{"uuid":"928c06a04c6c11e9b582cd1b610d1444","type":"string","label":{"zh_CN":"未定义参数14（点击编辑）"},"placeholder":{"zh_CN":""},"tooltip":{"zh_CN":""},"relations":{"hide":{"operator":"=="}}},{"uuid":"97a766204c6c11e9b582cd1b610d1444","type":"string","label":{"zh_CN":"未定义参数15（点击编辑）"},"placeholder":{"zh_CN":""},"tooltip":{"zh_CN":""},"relations":{"hide":{"operator":"=="}}},{"uuid":"9cb642804c6c11e9b582cd1b610d1444","type":"string","label":{"zh_CN":"未定义参数16（点击编辑）"},"placeholder":{"zh_CN":""},"tooltip":{"zh_CN":""},"relations":{"hide":{"operator":"=="}}},{"uuid":"a25a5a004c6c11e9b582cd1b610d1444","type":"string","label":{"zh_CN":"未定义参数17（点击编辑）"},"placeholder":{"zh_CN":""},"tooltip":{"zh_CN":""},"relations":{"hide":{"operator":"=="}}},{"uuid":"a9a2d2b04c6c11e9b582cd1b610d1444","type":"string","label":{"zh_CN":"未定义参数18（点击编辑）"},"placeholder":{"zh_CN":""},"tooltip":{"zh_CN":""},"relations":{"hide":{"operator":"=="}}},{"uuid":"af5b83a04c6c11e9b582cd1b610d1444","type":"string","label":{"zh_CN":"未定义参数19（点击编辑）"},"placeholder":{"zh_CN":""},"tooltip":{"zh_CN":""},"relations":{"hide":{"operator":"=="}}},{"uuid":"b68354f04c6c11e9b582cd1b610d1444","type":"string","label":{"zh_CN":"未定义参数20（点击编辑）"},"placeholder":{"zh_CN":""},"tooltip":{"zh_CN":""},"relations":{"hide":{"operator":"=="}}}],"required":true},"tune":{"tabName":{"en_US":"Tuning","zh_CN":"执行调优","zh":"执行调优"},"controls":[{"uuid":"c7c7adb0e45411eba00b75e79f4cbb5b","type":"string","label":{"zh_CN":"切换镜像源"},"placeholder":{"zh_CN":"更改 npm 加速源"},"tooltip":{"zh_CN":""},"relations":{"hide":{"operator":"=="}}},{"uuid":"system-scale","type":"float","label":{"zh_CN":"启动容器数"},"placeholder":{"zh_CN":"默认自动选择"},"relations":{"hide":{"operator":"=="}}},{"uuid":"system-cpu","type":"float","label":{"zh_CN":"每个容器cpu核数"},"placeholder":{"zh_CN":"默认自动选择"}},{"uuid":"system-mem","type":"float","label":{"zh_CN":"每个容器内存数(GB)"},"placeholder":{"zh_CN":"默认自动选择"},"relations":{"hide":{"operator":"=="}}}],"required":false}}},"locale":"zh_CN","type":"my_component","receieveMsgType":"async","icon":"cube","color":"rgba(255,255,255,1)","label":"recv_bench_go","x":671,"y":226,"sublabel":"recv_bench_go","width":90,"height":90,"size":"1","errorCount":0,"notificationList":{"infoNotificationsNum":0,"errorNotificationsNum":0},"removedNotifications":{}}},"47043f206fd211ee80421500de054ca1":{"component":1199,"metadata":{"def":{"description":{"zh_CN":"Online VS Code Editor"},"type":12,"docUrl":"https://code.visualstudio.com/Docs","author":"奔豚","codeName":"","codePath":"","params":{"inputData1":{"type":"data","propertyName":"dataName","defInPortUuid":"in1"},"outputData1":{"type":"data","propertyName":"dataName","defOutPortUuid":"out1"},"__cpu":{"type":"string","controlInstUuid":"system-cpu","isRequired":false,"value":0},"__mem":{"type":"string","controlInstUuid":"system-mem","isRequired":false,"value":0},"__scale":{"type":"string","controlInstUuid":"system-scale","isRequired":false},"param1":{"type":"string","controlInstUuid":"3d9785704c6c11e9b582cd1b610d1444"},"param2":{"type":"string","controlInstUuid":"4a279dc04c6c11e9b582cd1b610d1444"},"param3":{"type":"string","controlInstUuid":"524540c04c6c11e9b582cd1b610d1444"},"param4":{"type":"string","controlInstUuid":"56f709004c6c11e9b582cd1b610d1444"},"param5":{"type":"string","controlInstUuid":"5d6aa5804c6c11e9b582cd1b610d1444"},"param6":{"type":"string","controlInstUuid":"63be5df04c6c11e9b582cd1b610d1444"},"param7":{"type":"string","controlInstUuid":"693bdaa04c6c11e9b582cd1b610d1444"},"param8":{"type":"string","controlInstUuid":"6e0bd9404c6c11e9b582cd1b610d1444"},"param9":{"type":"string","controlInstUuid":"748c6e104c6c11e9b582cd1b610d1444"},"param10":{"type":"string","controlInstUuid":"79e599e04c6c11e9b582cd1b610d1444"},"param11":{"type":"string","controlInstUuid":"7f8ac2d04c6c11e9b582cd1b610d1444"},"param12":{"type":"string","controlInstUuid":"853c95f04c6c11e9b582cd1b610d1444"},"param13":{"type":"string","controlInstUuid":"8c44d1504c6c11e9b582cd1b610d1444"},"param14":{"type":"string","controlInstUuid":"928c06a04c6c11e9b582cd1b610d1444"},"param15":{"type":"string","controlInstUuid":"97a766204c6c11e9b582cd1b610d1444"},"param16":{"type":"string","controlInstUuid":"9cb642804c6c11e9b582cd1b610d1444"},"param17":{"type":"string","controlInstUuid":"a25a5a004c6c11e9b582cd1b610d1444"},"param18":{"type":"string","controlInstUuid":"a9a2d2b04c6c11e9b582cd1b610d1444"},"param19":{"type":"string","controlInstUuid":"af5b83a04c6c11e9b582cd1b610d1444"},"param20":{"type":"string","controlInstUuid":"b68354f04c6c11e9b582cd1b610d1444"},"__mode":{"type":"string","controlInstUuid":"56d12890f48011e98707c992daa4b5e3","isRequired":true,"value":"online-edit"},"__change_pip_source":{"type":"string","controlInstUuid":"bf1046b0e3db11ebbcd73d97f26b16ec","value":"https://pypi.mirrors.ustc.edu.cn/simple"},"__trust_host":{"type":"string","controlInstUuid":"fd8050c0e3db11ebbcd73d97f26b16ec"}},"ports":[{"uuid":"in1","description":{"en_US":"input data","zh_CN":"输入1"},"display":true,"ioType":"in","type":"data","subType":"all","angle":180,"x":0,"y":74,"options":["string","number","bool","json","array","system","file","npy","image","csv","model","all"]},{"uuid":"out1","description":{"en_US":"output data","zh_CN":"输出1"},"display":true,"ioType":"out","type":"data","subType":"all","angle":0,"x":220,"y":74,"options":["string","number","bool","json","array","system","file","npy","image","csv","model","all"],"sampleData":""}],"dockerRepo":"vscode-python:3","dockerCmd":"/code/entrypoint.sh","dockerCmd2":"","actionList":[{"label":"编辑 VS Code","port":"8443","url":"{{protocol}}//{{host}}/proxr/{{userId}}/{{appId}}/{{nodeId}}/8443/"}],"downloadList":[{"isDir":true,"ossPath":"studio/{userId}/{appId}/{nodeId}/code","localPath":"/code"}],"watchList":[{"ossPath":"studio/{userId}/{appId}/{nodeId}/code","localPath":"/code"}],"dockerRepoType":"[SuanpanV2]","exportable":true,"portsActionable":true,"exportServices":false},"ui":{"tabs":{"params":{"tabName":{"en_US":"Parameters Setting","zh_CN":"参数设置","zh":"参数设置"},"controls":[{"uuid":"56d12890f48011e98707c992daa4b5e3","type":"select","label":{"zh_CN":"运行模式"},"placeholder":{"zh_CN":"在线编辑"},"tooltip":{"zh_CN":""},"options":[{"name":{"zh_CN":"在线编辑"},"value":"online-edit"},{"name":{"zh_CN":"正式运行"},"value":"run"}],"relations":{"hide":{"operator":"=="}}},{"uuid":"3d9785704c6c11e9b582cd1b610d1444","type":"string","label":{"zh_CN":"未定义参数1（点击编辑）"},"placeholder":{"zh_CN":""},"tooltip":{"zh_CN":""},"relations":{"hide":{"operator":"=="}}},{"uuid":"4a279dc04c6c11e9b582cd1b610d1444","type":"string","label":{"zh_CN":"未定义参数2（点击编辑）"},"placeholder":{"zh_CN":""},"tooltip":{"zh_CN":""},"relations":{"hide":{"operator":"=="}}},{"uuid":"524540c04c6c11e9b582cd1b610d1444","type":"string","label":{"zh_CN":"未定义参数3（点击编辑）"},"placeholder":{"zh_CN":""},"tooltip":{"zh_CN":""},"relations":{"hide":{"operator":"=="}}},{"uuid":"56f709004c6c11e9b582cd1b610d1444","type":"string","label":{"zh_CN":"未定义参数4（点击编辑）"},"placeholder":{"zh_CN":""},"tooltip":{"zh_CN":""},"relations":{"hide":{"operator":"=="}}},{"uuid":"5d6aa5804c6c11e9b582cd1b610d1444","type":"string","label":{"zh_CN":"未定义参数5（点击编辑）"},"placeholder":{"zh_CN":""},"tooltip":{"zh_CN":""},"relations":{"hide":{"operator":"=="}}},{"uuid":"63be5df04c6c11e9b582cd1b610d1444","type":"string","label":{"zh_CN":"未定义参数6（点击编辑）"},"placeholder":{"zh_CN":""},"tooltip":{"zh_CN":""},"relations":{"hide":{"operator":"=="}}},{"uuid":"693bdaa04c6c11e9b582cd1b610d1444","type":"string","label":{"zh_CN":"未定义参数7（点击编辑）"},"placeholder":{"zh_CN":""},"tooltip":{"zh_CN":""},"relations":{"hide":{"operator":"=="}}},{"uuid":"6e0bd9404c6c11e9b582cd1b610d1444","type":"string","label":{"zh_CN":"未定义参数8（点击编辑）"},"placeholder":{"zh_CN":""},"tooltip":{"zh_CN":""},"relations":{"hide":{"operator":"=="}}},{"uuid":"748c6e104c6c11e9b582cd1b610d1444","type":"string","label":{"zh_CN":"未定义参数9（点击编辑）"},"placeholder":{"zh_CN":""},"tooltip":{"zh_CN":""},"relations":{"hide":{"operator":"=="}}},{"uuid":"79e599e04c6c11e9b582cd1b610d1444","type":"string","label":{"zh_CN":"未定义参数10（点击编辑）"},"placeholder":{"zh_CN":""},"tooltip":{"zh_CN":""},"relations":{"hide":{"operator":"=="}}},{"uuid":"7f8ac2d04c6c11e9b582cd1b610d1444","type":"string","label":{"zh_CN":"未定义参数11（点击编辑）"},"placeholder":{"zh_CN":""},"tooltip":{"zh_CN":""},"relations":{"hide":{"operator":"=="}}},{"uuid":"853c95f04c6c11e9b582cd1b610d1444","type":"string","label":{"zh_CN":"未定义参数12（点击编辑）"},"placeholder":{"zh_CN":""},"tooltip":{"zh_CN":""},"relations":{"hide":{"operator":"=="}}},{"uuid":"8c44d1504c6c11e9b582cd1b610d1444","type":"string","label":{"zh_CN":"未定义参数13（点击编辑）"},"placeholder":{"zh_CN":""},"tooltip":{"zh_CN":""},"relations":{"hide":{"operator":"=="}}},{"uuid":"928c06a04c6c11e9b582cd1b610d1444","type":"string","label":{"zh_CN":"未定义参数14（点击编辑）"},"placeholder":{"zh_CN":""},"tooltip":{"zh_CN":""},"relations":{"hide":{"operator":"=="}}},{"uuid":"97a766204c6c11e9b582cd1b610d1444","type":"string","label":{"zh_CN":"未定义参数15（点击编辑）"},"placeholder":{"zh_CN":""},"tooltip":{"zh_CN":""},"relations":{"hide":{"operator":"=="}}},{"uuid":"9cb642804c6c11e9b582cd1b610d1444","type":"string","label":{"zh_CN":"未定义参数16（点击编辑）"},"placeholder":{"zh_CN":""},"tooltip":{"zh_CN":""},"relations":{"hide":{"operator":"=="}}},{"uuid":"a25a5a004c6c11e9b582cd1b610d1444","type":"string","label":{"zh_CN":"未定义参数17（点击编辑）"},"placeholder":{"zh_CN":""},"tooltip":{"zh_CN":""},"relations":{"hide":{"operator":"=="}}},{"uuid":"a9a2d2b04c6c11e9b582cd1b610d1444","type":"string","label":{"zh_CN":"未定义参数18（点击编辑）"},"placeholder":{"zh_CN":""},"tooltip":{"zh_CN":""},"relations":{"hide":{"operator":"=="}}},{"uuid":"af5b83a04c6c11e9b582cd1b610d1444","type":"string","label":{"zh_CN":"未定义参数19（点击编辑）"},"placeholder":{"zh_CN":""},"tooltip":{"zh_CN":""},"relations":{"hide":{"operator":"=="}}},{"uuid":"b68354f04c6c11e9b582cd1b610d1444","type":"string","label":{"zh_CN":"未定义参数20（点击编辑）"},"placeholder":{"zh_CN":""},"tooltip":{"zh_CN":""},"relations":{"hide":{"operator":"=="}}}],"required":true},"tune":{"tabName":{"en_US":"Tuning","zh_CN":"执行调优","zh":"执行调优"},"controls":[{"uuid":"system-scale","type":"float","label":{"zh_CN":"启动容器数"},"placeholder":{"zh_CN":"默认自动选择"},"relations":{"hide":{"operator":"=="}}},{"uuid":"system-cpu","type":"float","label":{"zh_CN":"每个容器cpu核数"},"placeholder":{"zh_CN":"默认自动选择"}},{"uuid":"system-mem","type":"float","label":{"zh_CN":"每个容器内存数(GB)"},"placeholder":{"zh_CN":"默认自动选择"}},{"uuid":"bf1046b0e3db11ebbcd73d97f26b16ec","type":"string","label":{"zh_CN":"修改镜像源"},"placeholder":{"zh_CN":"填写镜像地址..."},"tooltip":{"zh_CN":""},"relations":{"hide":{"operator":"=="}}},{"uuid":"fd8050c0e3db11ebbcd73d97f26b16ec","type":"string","label":{"zh_CN":"信任主机URL"},"placeholder":{"zh_CN":"填写trust-host地址..."},"tooltip":{"zh_CN":""},"relations":{"hide":{"operator":"=="}}}],"required":false}}},"locale":"zh_CN","icon":"atlas","color":"rgba(255,255,255,1)","receieveMsgType":"async","type":"public_component","label":"VS Code - Python (Service)","x":181,"y":260,"sublabel":"VS Code - Python (Service)","width":90,"height":90,"size":"1","notificationList":{"infoNotificationsNum":0,"errorNotificationsNum":0},"errorCount":0,"removedNotifications":{}}},"b2a644706fec11ee80421500de054ca1":{"component":16890,"metadata":{"def":{"description":{"zh_CN":"","en_US":""},"type":"","docUrl":"","author":"","codeName":"","codePath":"","params":{"inputData1":{"type":"string","propertyName":"dataName","defInPortUuid":"in1"},"outputData1":{"type":"string","propertyName":"dataName","defOutPortUuid":"out1"},"__cpu":{"type":"string","controlInstUuid":"system-cpu","value":"","isRequired":false},"__mem":{"controlInstUuid":"system-mem","isRequired":false,"type":"string","value":""},"__scale":{"type":"string","controlInstUuid":"system-scale","value":"","isRequired":false}},"ports":[{"uuid":"in1","id":"fe3434e4e0864890937c9cd7b5e95f6b","description":{"en_US":"input data","zh_CN":"输入数据"},"display":true,"type":"string","subType":"","ioType":"in","angle":180},{"uuid":"out1","id":"329f070cb5fd4fe19e8ca2d8086b6ca8","description":{"en_US":"output data","zh_CN":"输出数据"},"display":true,"type":"string","subType":"","ioType":"out","angle":0}]},"ui":{"tabs":{"params":{"tabName":{"en_US":"Parameters Setting","zh_CN":"参数设置"},"controls":[]},"tune":{"tabName":{"en_US":"Tuning","zh_CN":"执行调优"},"controls":[{"uuid":"system-scale","type":"string","label":{"zh_CN":"启动容器数","en_US":"No. of  containers"},"placeholder":{"zh_CN":"默认自动选择","en_US":"Automatically allocate resources by default"}},{"uuid":"system-cpu","type":"string","label":{"zh_CN":"每个容器cpu核数","en_US":"No. of cpu cores limit per container"},"placeholder":{"zh_CN":"默认自动选择","en_US":"Automatically allocate resources by default"}},{"uuid":"system-mem","type":"string","label":{"zh_CN":"每个容器内存数(GB)","en_US":"Memory limit per container"},"placeholder":{"zh_CN":"默认自动选择","en_US":"Automatically allocate resources by default"}}]}}},"locale":"zh_CN","label":"send_bench","x":336,"y":197,"type":"my_component","sublabel":"send_bench","receieveMsgType":"async","width":90,"height":90}}},"connections":[{"src":{"process":"dd0b93906f3411eebd0e23d942839e2e","port":"out1"},"tgt":{"process":"57ef53506fb511ee80421500de054ca1","port":"in1"},"metadata":{"path":"M410,454 L426,454 L535.5,454 L535.5,271 L645,271 L661,271","custom":false}}],"timestamp":1697877290529}}
    "#;
    #[test]
    fn test_decode_graph() {
        match apigraph::GraphJson::new_graph_from_str(API_JSON_GRAPH_RAW) {
            Ok(res) => {
                print!("{}", res.data.connections.len());
                //no async set just use default value test
                assert_eq!(
                    res.data.processes["e9477800388e11ed8c926b8254b406ef"]
                        .metadata
                        .recv_msg_type,
                    "async"
                );
                //modify to sync value
                assert_eq!(
                    res.data.processes["ec6580e0388e11ed8c926b8254b406ef"]
                        .metadata
                        .recv_msg_type,
                    "sync"
                );
                assert_eq!(
                    res.data.processes["e9477800388e11ed8c926b8254b406ef"]
                        .metadata
                        .def
                        .def_type,
                    CodeType::Runtime,
                );
                assert_eq!(
                    res.data.processes["0a5ae040388f11ed8c926b8254b406ef"]
                        .metadata
                        .def
                        .def_type,
                    CodeType::RpaExcel,
                );
            }
            Err(e) => {
                print!("{}", e);
                assert_eq!(1, 2);
            }
        }

        //1595 cannot decode
        let updated_json = API_JSON_GRAPH_RAW.clone().replace("504", "1595");
        let res = apigraph::GraphJson::new_graph_from_str(&updated_json);
        assert_eq!(res.is_err(), true);
    }

    #[test]
    fn check_node_is_single_instance() {
        let res = apigraph::GraphJson::new_graph_from_str(API_JSON_GRAPH_RAW).unwrap();
        assert_eq!(
            res.data.processes["e9477800388e11ed8c926b8254b406ef"].is_single_node(),
            false
        );
        let res = apigraph::GraphJson::new_graph_from_str(SINGLE_NODE_GRAPH).unwrap();
        assert_eq!(
            res.data.processes["f5f3e64068dc11ee97d6ff3d15daa880"].is_single_node(),
            true
        );
    }

    #[test]
    fn check_graph_init() {
        let res = apigraph::GraphJson::new_graph_from_str(API_JSON_GRAPH_RAW).unwrap();
        Graph::new(res).unwrap();
    }

    #[test]
    fn test_painic() {
        let null_str = "";
        assert_eq!(
            apigraph::GraphJson::new_graph_from_str(&null_str).is_err(),
            true
        );
    }

    #[test]
    fn test_graph_node() {
        let res = apigraph::GraphJson::new_graph_from_str(GRAPH_NODE_TEST).unwrap();
        let g = Graph::new(res).unwrap();
        g.nodes.get("2a0a85c052f211eeb30ff5621d478ec4").unwrap();
        assert_eq!(g.get_target_nodid_ports("not_exist", "null"), None);
        assert_eq!(
            g.get_target_nodid_ports("2a0a85c052f211eeb30ff5621d478ec4", "out2"),
            None
        );
        let out_port = g
            .get_target_nodid_ports("2a0a85c052f211eeb30ff5621d478ec4", "out1")
            .unwrap();
        //port 1
        let node1 = out_port
            .iter()
            .filter(|x| x.0 == "5dfe7fd06c1f11ee844b3becc80f4ab8")
            .next()
            .unwrap();
        assert_eq!(node1.1, "in1");

        let node2 = out_port
            .iter()
            .filter(|x| x.0 == "5ee1daf06c1f11ee844b3becc80f4ab8")
            .next()
            .unwrap();
        assert_eq!(node2.1, "in3");

        //test node in source
        let node3 = g
            .get_source_nodeid_ports("2a0a85c052f211eeb30ff5621d478ec4", "in1")
            .unwrap()
            .iter()
            .filter(|x| x.0 == "5dfe7fd06c1f11ee844b3becc80f4ab8")
            .next()
            .unwrap();
        assert_eq!(node3.1, "out1");
    }
    #[test]
    fn test_node_type_is_emptystring() {
        //process node:b2a644706fec11ee80421500de054ca1 type: "" ,usually type is int like 12 and convert to CodeType Enum,
        //but i don't know why type will be ""?
        //this test is ensure this situtaion will be handled correctly
        let res = apigraph::GraphJson::new_graph_from_str(GRAPH_NODE_EMPTY_STR).unwrap();
        assert_eq!(
            res.data
                .processes
                .get("b2a644706fec11ee80421500de054ca1")
                .unwrap()
                .metadata
                .def
                .def_type,
            CodeType::Runtime
        );
        let g = Graph::new(res).unwrap();
        g.nodes.get("b2a644706fec11ee80421500de054ca1").unwrap();
    }
}
